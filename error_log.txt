[33mThe "poetry.dev-dependencies" section is deprecated and will be removed in a future version. Use "poetry.group.dev.dependencies" instead.[39m
[30;43mSkipping virtualenv creation, as specified in config file.[39;49m
[2m2025-04-22 21:44:09[0m [[32m[1mdebug    [0m] [1mEnvironment not specified, using NETRAVEN_ENV or default: dev[0m
[2m2025-04-22 21:44:09[0m [[32m[1mdebug    [0m] [1mLoaded environment configuration from /app/netraven/config/environments/dev.yaml[0m
[2m2025-04-22 21:44:09[0m [[32m[1mdebug    [0m] [1mApplied environment variable overrides[0m [36moverrides[0m=[35m{'scheduler': {'polling_interval_seconds': '10', 'redis_url': 'redis://redis:6379/0'}, 'security': {'encryption_salt': 'dev_encryption_salt_replace_in_production', 'encryption_key': 'dev_encryption_key_replace_in_production'}, 'api': {'access_token_expire_minutes': '30', 'jwt_secret': 'development_jwt_secret_key_replace_in_production', 'jwt_algorithm': 'HS256'}, 'worker': {'thread_pool_size': '5', 'connection_timeout': '15'}, 'logging': {'level': 'DEBUG'}, 'database': {'url': 'postgresql+psycopg2://netraven:netraven@postgres:5432/netraven'}}[0m
[2m2025-04-22 21:44:09[0m [[32m[1minfo     [0m] [1mDatabase session configured   [0m [36mdb_url[0m=[35mpostgresql+psycopg2://netraven:netraven@postgres:5432/netraven[0m
[2m2025-04-22 21:44:09[0m [[32m[1mdebug    [0m] [1mEnvironment not specified, using NETRAVEN_ENV or default: dev[0m
[2m2025-04-22 21:44:09[0m [[32m[1mdebug    [0m] [1mLoaded environment configuration from /app/netraven/config/environments/dev.yaml[0m
[2m2025-04-22 21:44:09[0m [[32m[1mdebug    [0m] [1mApplied environment variable overrides[0m [36moverrides[0m=[35m{'scheduler': {'polling_interval_seconds': '10', 'redis_url': 'redis://redis:6379/0'}, 'security': {'encryption_salt': 'dev_encryption_salt_replace_in_production', 'encryption_key': 'dev_encryption_key_replace_in_production'}, 'api': {'access_token_expire_minutes': '30', 'jwt_secret': 'development_jwt_secret_key_replace_in_production', 'jwt_algorithm': 'HS256'}, 'worker': {'thread_pool_size': '5', 'connection_timeout': '15'}, 'logging': {'level': 'DEBUG'}, 'database': {'url': 'postgresql+psycopg2://netraven:netraven@postgres:5432/netraven'}}[0m
[DEBUG] JWT SECRET_KEY: development_jwt_secret_key_replace_in_production | ALGORITHM: HS256
[2m2025-04-22 21:44:09[0m [[32m[1mdebug    [0m] [1mEnvironment not specified, using NETRAVEN_ENV or default: dev[0m
[2m2025-04-22 21:44:09[0m [[32m[1mdebug    [0m] [1mLoaded environment configuration from /app/netraven/config/environments/dev.yaml[0m
[2m2025-04-22 21:44:09[0m [[32m[1mdebug    [0m] [1mApplied environment variable overrides[0m [36moverrides[0m=[35m{'scheduler': {'polling_interval_seconds': '10', 'redis_url': 'redis://redis:6379/0'}, 'security': {'encryption_salt': 'dev_encryption_salt_replace_in_production', 'encryption_key': 'dev_encryption_key_replace_in_production'}, 'api': {'access_token_expire_minutes': '30', 'jwt_secret': 'development_jwt_secret_key_replace_in_production', 'jwt_algorithm': 'HS256'}, 'worker': {'thread_pool_size': '5', 'connection_timeout': '15'}, 'logging': {'level': 'DEBUG'}, 'database': {'url': 'postgresql+psycopg2://netraven:netraven@postgres:5432/netraven'}}[0m
[2m2025-04-22 21:44:10[0m [[32m[1mdebug    [0m] [1mEnvironment not specified, using NETRAVEN_ENV or default: dev[0m
[2m2025-04-22 21:44:10[0m [[32m[1mdebug    [0m] [1mLoaded environment configuration from /app/netraven/config/environments/dev.yaml[0m
[2m2025-04-22 21:44:10[0m [[32m[1mdebug    [0m] [1mApplied environment variable overrides[0m [36moverrides[0m=[35m{'scheduler': {'polling_interval_seconds': '10', 'redis_url': 'redis://redis:6379/0'}, 'security': {'encryption_salt': 'dev_encryption_salt_replace_in_production', 'encryption_key': 'dev_encryption_key_replace_in_production'}, 'api': {'access_token_expire_minutes': '30', 'jwt_secret': 'development_jwt_secret_key_replace_in_production', 'jwt_algorithm': 'HS256'}, 'worker': {'thread_pool_size': '5', 'connection_timeout': '15'}, 'logging': {'level': 'DEBUG'}, 'database': {'url': 'postgresql+psycopg2://netraven:netraven@postgres:5432/netraven'}}[0m
Successfully connected to Redis for RQ.
[2m2025-04-22 21:44:10[0m [[32m[1mdebug    [0m] [1mEnvironment not specified, using NETRAVEN_ENV or default: dev[0m
[2m2025-04-22 21:44:10[0m [[32m[1mdebug    [0m] [1mLoaded environment configuration from /app/netraven/config/environments/dev.yaml[0m
[2m2025-04-22 21:44:10[0m [[32m[1mdebug    [0m] [1mApplied environment variable overrides[0m [36moverrides[0m=[35m{'scheduler': {'polling_interval_seconds': '10', 'redis_url': 'redis://redis:6379/0'}, 'security': {'encryption_salt': 'dev_encryption_salt_replace_in_production', 'encryption_key': 'dev_encryption_key_replace_in_production'}, 'api': {'access_token_expire_minutes': '30', 'jwt_secret': 'development_jwt_secret_key_replace_in_production', 'jwt_algorithm': 'HS256'}, 'worker': {'thread_pool_size': '5', 'connection_timeout': '15'}, 'logging': {'level': 'DEBUG'}, 'database': {'url': 'postgresql+psycopg2://netraven:netraven@postgres:5432/netraven'}}[0m
[1m============================= test session starts ==============================[0m
platform linux -- Python 3.10.16, pytest-8.3.5, pluggy-1.5.0
rootdir: /app
configfile: pyproject.toml
plugins: anyio-4.9.0, mock-3.14.0, timeout-2.3.1
[1mcollecting ... [0m[DEBUG][TEST] JWT SECRET_KEY: development_jwt_secret_key_replace_in_production | ALGORITHM: HS256
[1mcollected 21 items                                                             [0m

tests/api/test_jobs.py 
Applying Alembic migrations to test database...
Alembic upgrade head completed successfully.
2025-04-22 21:44:10 [debug    ] Environment not specified, using NETRAVEN_ENV or default: dev
2025-04-22 21:44:10 [debug    ] Loaded environment configuration from /app/netraven/config/environments/dev.yaml
2025-04-22 21:44:10 [debug    ] Applied environment variable overrides overrides={'scheduler': {'polling_interval_seconds': '10', 'redis_url': 'redis://redis:6379/0'}, 'security': {'encryption_salt': 'dev_encryption_salt_replace_in_production', 'encryption_key': 'dev_encryption_key_replace_in_production'}, 'api': {'access_token_expire_minutes': '30', 'jwt_secret': 'development_jwt_secret_key_replace_in_production', 'jwt_algorithm': 'HS256'}, 'worker': {'thread_pool_size': '5', 'connection_timeout': '15'}, 'logging': {'level': 'DEBUG'}, 'database': {'url': 'postgresql+psycopg2://netraven:netraven@postgres:5432/netraven'}}
2025-04-22 21:44:10 [info     ] Database session configured    db_url=postgresql+psycopg2://netraven:netraven@postgres:5432/netraven
2025-04-22 21:44:10 [debug    ] Environment not specified, using NETRAVEN_ENV or default: dev
2025-04-22 21:44:10 [debug    ] Loaded environment configuration from /app/netraven/config/environments/dev.yaml
2025-04-22 21:44:10 [debug    ] Applied environment variable overrides overrides={'scheduler': {'polling_interval_seconds': '10', 'redis_url': 'redis://redis:6379/0'}, 'security': {'encryption_salt': 'dev_encryption_salt_replace_in_production', 'encryption_key': 'dev_encryption_key_replace_in_production'}, 'api': {'access_token_expire_minutes': '30', 'jwt_secret': 'development_jwt_secret_key_replace_in_production', 'jwt_algorithm': 'HS256'}, 'worker': {'thread_pool_size': '5', 'connection_timeout': '15'}, 'logging': {'level': 'DEBUG'}, 'database': {'url': 'postgresql+psycopg2://netraven:netraven@postgres:5432/netraven'}}
[DEBUG] JWT SECRET_KEY: development_jwt_secret_key_replace_in_production | ALGORITHM: HS256
2025-04-22 21:44:10 [debug    ] Environment not specified, using NETRAVEN_ENV or default: dev
2025-04-22 21:44:10 [debug    ] Loaded environment configuration from /app/netraven/config/environments/dev.yaml
2025-04-22 21:44:10 [debug    ] Applied environment variable overrides overrides={'scheduler': {'polling_interval_seconds': '10', 'redis_url': 'redis://redis:6379/0'}, 'security': {'encryption_salt': 'dev_encryption_salt_replace_in_production', 'encryption_key': 'dev_encryption_key_replace_in_production'}, 'api': {'access_token_expire_minutes': '30', 'jwt_secret': 'development_jwt_secret_key_replace_in_production', 'jwt_algorithm': 'HS256'}, 'worker': {'thread_pool_size': '5', 'connection_timeout': '15'}, 'logging': {'level': 'DEBUG'}, 'database': {'url': 'postgresql+psycopg2://netraven:netraven@postgres:5432/netraven'}}
2025-04-22 21:44:10 [debug    ] Environment not specified, using NETRAVEN_ENV or default: dev
2025-04-22 21:44:10 [debug    ] Loaded environment configuration from /app/netraven/config/environments/dev.yaml
2025-04-22 21:44:10 [debug    ] Applied environment variable overrides overrides={'scheduler': {'polling_interval_seconds': '10', 'redis_url': 'redis://redis:6379/0'}, 'security': {'encryption_salt': 'dev_encryption_salt_replace_in_production', 'encryption_key': 'dev_encryption_key_replace_in_production'}, 'api': {'access_token_expire_minutes': '30', 'jwt_secret': 'development_jwt_secret_key_replace_in_production', 'jwt_algorithm': 'HS256'}, 'worker': {'thread_pool_size': '5', 'connection_timeout': '15'}, 'logging': {'level': 'DEBUG'}, 'database': {'url': 'postgresql+psycopg2://netraven:netraven@postgres:5432/netraven'}}

2025-04-22 21:44:10,763 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-04-22 21:44:10,763 - INFO - select pg_catalog.version()
2025-04-22 21:44:10,763 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-04-22 21:44:10,763 - INFO - [raw sql] {}
2025-04-22 21:44:10,764 INFO sqlalchemy.engine.Engine select current_schema()
2025-04-22 21:44:10,764 - INFO - select current_schema()
2025-04-22 21:44:10,764 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-04-22 21:44:10,764 - INFO - [raw sql] {}
2025-04-22 21:44:10,764 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-04-22 21:44:10,764 - INFO - show standard_conforming_strings
2025-04-22 21:44:10,764 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-04-22 21:44:10,764 - INFO - [raw sql] {}
2025-04-22 21:44:10,765 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:10,765 - INFO - BEGIN (implicit)
2025-04-22 21:44:10,765 INFO sqlalchemy.engine.Engine SET session_replication_role = 'replica';
2025-04-22 21:44:10,765 - INFO - SET session_replication_role = 'replica';
2025-04-22 21:44:10,765 INFO sqlalchemy.engine.Engine [generated in 0.00019s] {}
2025-04-22 21:44:10,765 - INFO - [generated in 0.00019s] {}
2025-04-22 21:44:10,766 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:10,766 - INFO - TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:10,766 INFO sqlalchemy.engine.Engine [generated in 0.00010s] {}
2025-04-22 21:44:10,766 - INFO - [generated in 0.00010s] {}
2025-04-22 21:44:10,769 INFO sqlalchemy.engine.Engine TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:10,769 - INFO - TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:10,769 INFO sqlalchemy.engine.Engine [generated in 0.00013s] {}
2025-04-22 21:44:10,769 - INFO - [generated in 0.00013s] {}
2025-04-22 21:44:10,773 INFO sqlalchemy.engine.Engine TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:10,773 - INFO - TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:10,773 INFO sqlalchemy.engine.Engine [generated in 0.00012s] {}
2025-04-22 21:44:10,773 - INFO - [generated in 0.00012s] {}
2025-04-22 21:44:10,776 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:10,776 - INFO - TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:10,776 INFO sqlalchemy.engine.Engine [generated in 0.00011s] {}
2025-04-22 21:44:10,776 - INFO - [generated in 0.00011s] {}
2025-04-22 21:44:10,788 INFO sqlalchemy.engine.Engine TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:10,788 - INFO - TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:10,788 INFO sqlalchemy.engine.Engine [generated in 0.00012s] {}
2025-04-22 21:44:10,788 - INFO - [generated in 0.00012s] {}
2025-04-22 21:44:10,901 INFO sqlalchemy.engine.Engine TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:10,901 - INFO - TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:10,902 INFO sqlalchemy.engine.Engine [generated in 0.00026s] {}
2025-04-22 21:44:10,902 - INFO - [generated in 0.00026s] {}
2025-04-22 21:44:10,999 INFO sqlalchemy.engine.Engine TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:10,999 - INFO - TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:11,000 INFO sqlalchemy.engine.Engine [generated in 0.00020s] {}
2025-04-22 21:44:11,000 - INFO - [generated in 0.00020s] {}
2025-04-22 21:44:11,042 INFO sqlalchemy.engine.Engine TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:11,042 - INFO - TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:11,043 INFO sqlalchemy.engine.Engine [generated in 0.00032s] {}
2025-04-22 21:44:11,043 - INFO - [generated in 0.00032s] {}
2025-04-22 21:44:11,066 INFO sqlalchemy.engine.Engine SET session_replication_role = 'origin';
2025-04-22 21:44:11,066 - INFO - SET session_replication_role = 'origin';
2025-04-22 21:44:11,066 INFO sqlalchemy.engine.Engine [generated in 0.00021s] {}
2025-04-22 21:44:11,066 - INFO - [generated in 0.00021s] {}
2025-04-22 21:44:11,066 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:11,066 - INFO - COMMIT
2025-04-22 21:44:11,080 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:11,080 - INFO - BEGIN (implicit)
2025-04-22 21:44:11,081 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:11,081 - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:11,082 INFO sqlalchemy.engine.Engine [generated in 0.00018s] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:11,082 - INFO - [generated in 0.00018s] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:11,083 - INFO - Creating new test admin: testadmin
2025-04-22 21:44:11,083 - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-04-22 21:44:11,254 INFO sqlalchemy.engine.Engine INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:11,254 - INFO - INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:11,254 INFO sqlalchemy.engine.Engine [generated in 0.00023s] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$vYpixgqqLA9r7QduDTJDH.VJCmnk4WQiHqzKrclAv.8jmqCPMICiO', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:11,254 - INFO - [generated in 0.00023s] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$vYpixgqqLA9r7QduDTJDH.VJCmnk4WQiHqzKrclAv.8jmqCPMICiO', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:11,255 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:11,255 - INFO - COMMIT
2025-04-22 21:44:11,266 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:11,266 - INFO - BEGIN (implicit)
2025-04-22 21:44:11,266 INFO sqlalchemy.engine.Engine SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:11,266 - INFO - SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:11,267 INFO sqlalchemy.engine.Engine [generated in 0.00013s] {'pk_1': 1}
2025-04-22 21:44:11,267 - INFO - [generated in 0.00013s] {'pk_1': 1}
2025-04-22 21:44:11,267 - INFO - Created test admin with ID: 1
2025-04-22 21:44:11,268 - INFO - Created admin token for user: testadmin
2025-04-22 21:44:11,269 INFO sqlalchemy.engine.Engine INSERT INTO tags (name, type) VALUES (%(name)s, %(type)s) RETURNING tags.id
2025-04-22 21:44:11,269 - INFO - INSERT INTO tags (name, type) VALUES (%(name)s, %(type)s) RETURNING tags.id
2025-04-22 21:44:11,269 INFO sqlalchemy.engine.Engine [generated in 0.00012s] {'name': 'test-job-tag-default', 'type': 'job'}
2025-04-22 21:44:11,269 - INFO - [generated in 0.00012s] {'name': 'test-job-tag-default', 'type': 'job'}
2025-04-22 21:44:11,270 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:11,270 - INFO - COMMIT
2025-04-22 21:44:11,271 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:11,271 - INFO - BEGIN (implicit)
2025-04-22 21:44:11,272 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name, tags.type 
FROM tags 
WHERE tags.id = %(pk_1)s
2025-04-22 21:44:11,272 - INFO - SELECT tags.id, tags.name, tags.type 
FROM tags 
WHERE tags.id = %(pk_1)s
2025-04-22 21:44:11,272 INFO sqlalchemy.engine.Engine [generated in 0.00012s] {'pk_1': 1}
2025-04-22 21:44:11,272 - INFO - [generated in 0.00012s] {'pk_1': 1}
2025-04-22 21:44:11,310 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:11,310 - INFO - BEGIN (implicit)
2025-04-22 21:44:11,311 INFO sqlalchemy.engine.Engine SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.name = %(name_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:11,311 - INFO - SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.name = %(name_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:11,311 INFO sqlalchemy.engine.Engine [generated in 0.00015s] {'name_1': 'test-job-api-1', 'param_1': 1}
2025-04-22 21:44:11,311 - INFO - [generated in 0.00015s] {'name_1': 'test-job-api-1', 'param_1': 1}
2025-04-22 21:44:11,313 INFO sqlalchemy.engine.Engine SELECT tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM tags 
WHERE tags.id IN (%(id_1_1)s)
2025-04-22 21:44:11,313 - INFO - SELECT tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM tags 
WHERE tags.id IN (%(id_1_1)s)
2025-04-22 21:44:11,313 INFO sqlalchemy.engine.Engine [generated in 0.00016s] {'id_1_1': 1}
2025-04-22 21:44:11,313 - INFO - [generated in 0.00016s] {'id_1_1': 1}
2025-04-22 21:44:11,314 INFO sqlalchemy.engine.Engine INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) VALUES (%(name)s, %(job_type)s, %(description)s, %(status)s, %(scheduled_for)s, %(started_at)s, %(completed_at)s, %(is_enabled)s, %(is_system_job)s, %(schedule_type)s, %(interval_seconds)s, %(cron_string)s, %(device_id)s) RETURNING jobs.id
2025-04-22 21:44:11,314 - INFO - INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) VALUES (%(name)s, %(job_type)s, %(description)s, %(status)s, %(scheduled_for)s, %(started_at)s, %(completed_at)s, %(is_enabled)s, %(is_system_job)s, %(schedule_type)s, %(interval_seconds)s, %(cron_string)s, %(device_id)s) RETURNING jobs.id
2025-04-22 21:44:11,314 INFO sqlalchemy.engine.Engine [generated in 0.00015s] {'name': 'test-job-api-1', 'job_type': 'reachability', 'description': None, 'status': 'pending', 'scheduled_for': datetime.datetime(2025, 1, 1, 0, 0, tzinfo=TzInfo(UTC)), 'started_at': None, 'completed_at': None, 'is_enabled': True, 'is_system_job': False, 'schedule_type': 'onetime', 'interval_seconds': None, 'cron_string': None, 'device_id': None}
2025-04-22 21:44:11,314 - INFO - [generated in 0.00015s] {'name': 'test-job-api-1', 'job_type': 'reachability', 'description': None, 'status': 'pending', 'scheduled_for': datetime.datetime(2025, 1, 1, 0, 0, tzinfo=TzInfo(UTC)), 'started_at': None, 'completed_at': None, 'is_enabled': True, 'is_system_job': False, 'schedule_type': 'onetime', 'interval_seconds': None, 'cron_string': None, 'device_id': None}
2025-04-22 21:44:11,316 INFO sqlalchemy.engine.Engine INSERT INTO job_tags (job_id, tag_id) VALUES (%(job_id)s, %(tag_id)s)
2025-04-22 21:44:11,316 - INFO - INSERT INTO job_tags (job_id, tag_id) VALUES (%(job_id)s, %(tag_id)s)
2025-04-22 21:44:11,316 INFO sqlalchemy.engine.Engine [generated in 0.00012s] {'job_id': 1, 'tag_id': 1}
2025-04-22 21:44:11,316 - INFO - [generated in 0.00012s] {'job_id': 1, 'tag_id': 1}
2025-04-22 21:44:11,316 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:11,316 - INFO - COMMIT
2025-04-22 21:44:11,319 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:11,319 - INFO - BEGIN (implicit)
2025-04-22 21:44:11,319 INFO sqlalchemy.engine.Engine SELECT jobs.id, jobs.name, jobs.job_type, jobs.description, jobs.status, jobs.scheduled_for, jobs.started_at, jobs.completed_at, jobs.is_enabled, jobs.is_system_job, jobs.schedule_type, jobs.interval_seconds, jobs.cron_string, jobs.device_id 
FROM jobs 
WHERE jobs.id = %(pk_1)s
2025-04-22 21:44:11,319 - INFO - SELECT jobs.id, jobs.name, jobs.job_type, jobs.description, jobs.status, jobs.scheduled_for, jobs.started_at, jobs.completed_at, jobs.is_enabled, jobs.is_system_job, jobs.schedule_type, jobs.interval_seconds, jobs.cron_string, jobs.device_id 
FROM jobs 
WHERE jobs.id = %(pk_1)s
2025-04-22 21:44:11,319 INFO sqlalchemy.engine.Engine [generated in 0.00012s] {'pk_1': 1}
2025-04-22 21:44:11,319 - INFO - [generated in 0.00012s] {'pk_1': 1}
2025-04-22 21:44:11,321 INFO sqlalchemy.engine.Engine SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.id = %(id_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:11,321 - INFO - SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.id = %(id_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:11,321 INFO sqlalchemy.engine.Engine [generated in 0.00014s] {'id_1': 1, 'param_1': 1}
2025-04-22 21:44:11,321 - INFO - [generated in 0.00014s] {'id_1': 1, 'param_1': 1}
2025-04-22 21:44:11,323 INFO sqlalchemy.engine.Engine SELECT jobs_1.id AS jobs_1_id, tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM jobs AS jobs_1 JOIN job_tags AS job_tags_1 ON jobs_1.id = job_tags_1.job_id JOIN tags ON tags.id = job_tags_1.tag_id 
WHERE jobs_1.id IN (%(primary_keys_1)s)
2025-04-22 21:44:11,323 - INFO - SELECT jobs_1.id AS jobs_1_id, tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM jobs AS jobs_1 JOIN job_tags AS job_tags_1 ON jobs_1.id = job_tags_1.job_id JOIN tags ON tags.id = job_tags_1.tag_id 
WHERE jobs_1.id IN (%(primary_keys_1)s)
2025-04-22 21:44:11,323 INFO sqlalchemy.engine.Engine [generated in 0.00015s] {'primary_keys_1': 1}
2025-04-22 21:44:11,323 - INFO - [generated in 0.00015s] {'primary_keys_1': 1}
2025-04-22 21:44:11,325 INFO sqlalchemy.engine.Engine ROLLBACK
2025-04-22 21:44:11,325 - INFO - ROLLBACK
2025-04-22 21:44:11,326 - INFO - HTTP Request: POST http://testserver/jobs/ "HTTP/1.1 201 Created"
[32m.[0m2025-04-22 21:44:11,326 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:11,326 - INFO - COMMIT
2025-04-22 21:44:11,327 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:11,327 - INFO - BEGIN (implicit)
2025-04-22 21:44:11,327 INFO sqlalchemy.engine.Engine SET session_replication_role = 'replica';
2025-04-22 21:44:11,327 - INFO - SET session_replication_role = 'replica';
2025-04-22 21:44:11,327 INFO sqlalchemy.engine.Engine [cached since 0.5621s ago] {}
2025-04-22 21:44:11,327 - INFO - [cached since 0.5621s ago] {}
2025-04-22 21:44:11,327 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:11,327 - INFO - TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:11,327 INFO sqlalchemy.engine.Engine [cached since 0.5619s ago] {}
2025-04-22 21:44:11,327 - INFO - [cached since 0.5619s ago] {}
2025-04-22 21:44:11,331 INFO sqlalchemy.engine.Engine TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:11,331 - INFO - TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:11,331 INFO sqlalchemy.engine.Engine [cached since 0.5613s ago] {}
2025-04-22 21:44:11,331 - INFO - [cached since 0.5613s ago] {}
2025-04-22 21:44:11,334 INFO sqlalchemy.engine.Engine TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:11,334 - INFO - TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:11,334 INFO sqlalchemy.engine.Engine [cached since 0.5612s ago] {}
2025-04-22 21:44:11,334 - INFO - [cached since 0.5612s ago] {}
2025-04-22 21:44:11,337 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:11,337 - INFO - TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:11,337 INFO sqlalchemy.engine.Engine [cached since 0.5615s ago] {}
2025-04-22 21:44:11,337 - INFO - [cached since 0.5615s ago] {}
2025-04-22 21:44:11,359 INFO sqlalchemy.engine.Engine TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:11,359 - INFO - TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:11,359 INFO sqlalchemy.engine.Engine [cached since 0.5711s ago] {}
2025-04-22 21:44:11,359 - INFO - [cached since 0.5711s ago] {}
2025-04-22 21:44:11,458 INFO sqlalchemy.engine.Engine TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:11,458 - INFO - TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:11,458 INFO sqlalchemy.engine.Engine [cached since 0.5568s ago] {}
2025-04-22 21:44:11,458 - INFO - [cached since 0.5568s ago] {}
2025-04-22 21:44:11,555 INFO sqlalchemy.engine.Engine TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:11,555 - INFO - TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:11,555 INFO sqlalchemy.engine.Engine [cached since 0.5556s ago] {}
2025-04-22 21:44:11,555 - INFO - [cached since 0.5556s ago] {}
2025-04-22 21:44:11,594 INFO sqlalchemy.engine.Engine TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:11,594 - INFO - TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:11,594 INFO sqlalchemy.engine.Engine [cached since 0.5519s ago] {}
2025-04-22 21:44:11,594 - INFO - [cached since 0.5519s ago] {}
2025-04-22 21:44:11,617 INFO sqlalchemy.engine.Engine SET session_replication_role = 'origin';
2025-04-22 21:44:11,617 - INFO - SET session_replication_role = 'origin';
2025-04-22 21:44:11,617 INFO sqlalchemy.engine.Engine [cached since 0.5513s ago] {}
2025-04-22 21:44:11,617 - INFO - [cached since 0.5513s ago] {}
2025-04-22 21:44:11,617 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:11,617 - INFO - COMMIT
2025-04-22 21:44:11,620 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:11,620 - INFO - BEGIN (implicit)
2025-04-22 21:44:11,620 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:11,620 - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:11,620 INFO sqlalchemy.engine.Engine [cached since 0.5389s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:11,620 - INFO - [cached since 0.5389s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:11,621 - INFO - Creating new test admin: testadmin
2025-04-22 21:44:11,777 INFO sqlalchemy.engine.Engine INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:11,777 - INFO - INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:11,778 INFO sqlalchemy.engine.Engine [cached since 0.5236s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$hYewq5e7X83hWh9zHVGwquxmVab4obT.dyVq/ey/ZDe349iuDuN/u', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:11,778 - INFO - [cached since 0.5236s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$hYewq5e7X83hWh9zHVGwquxmVab4obT.dyVq/ey/ZDe349iuDuN/u', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:11,778 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:11,778 - INFO - COMMIT
2025-04-22 21:44:11,791 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:11,791 - INFO - BEGIN (implicit)
2025-04-22 21:44:11,791 INFO sqlalchemy.engine.Engine SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:11,791 - INFO - SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:11,791 INFO sqlalchemy.engine.Engine [cached since 0.5246s ago] {'pk_1': 1}
2025-04-22 21:44:11,791 - INFO - [cached since 0.5246s ago] {'pk_1': 1}
2025-04-22 21:44:11,792 - INFO - Created test admin with ID: 1
2025-04-22 21:44:11,792 - INFO - Created admin token for user: testadmin
2025-04-22 21:44:11,793 INFO sqlalchemy.engine.Engine INSERT INTO tags (name, type) VALUES (%(name)s, %(type)s) RETURNING tags.id
2025-04-22 21:44:11,793 - INFO - INSERT INTO tags (name, type) VALUES (%(name)s, %(type)s) RETURNING tags.id
2025-04-22 21:44:11,793 INFO sqlalchemy.engine.Engine [cached since 0.5239s ago] {'name': 'test-job-tag-default', 'type': 'job'}
2025-04-22 21:44:11,793 - INFO - [cached since 0.5239s ago] {'name': 'test-job-tag-default', 'type': 'job'}
2025-04-22 21:44:11,793 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:11,793 - INFO - COMMIT
2025-04-22 21:44:11,795 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:11,795 - INFO - BEGIN (implicit)
2025-04-22 21:44:11,795 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name, tags.type 
FROM tags 
WHERE tags.id = %(pk_1)s
2025-04-22 21:44:11,795 - INFO - SELECT tags.id, tags.name, tags.type 
FROM tags 
WHERE tags.id = %(pk_1)s
2025-04-22 21:44:11,795 INFO sqlalchemy.engine.Engine [cached since 0.5238s ago] {'pk_1': 1}
2025-04-22 21:44:11,795 - INFO - [cached since 0.5238s ago] {'pk_1': 1}
2025-04-22 21:44:11,796 INFO sqlalchemy.engine.Engine INSERT INTO tags (name, type) VALUES (%(name)s, %(type)s) RETURNING tags.id
2025-04-22 21:44:11,796 - INFO - INSERT INTO tags (name, type) VALUES (%(name)s, %(type)s) RETURNING tags.id
2025-04-22 21:44:11,796 INFO sqlalchemy.engine.Engine [cached since 0.5276s ago] {'name': 'test-job-tag', 'type': 'job'}
2025-04-22 21:44:11,796 - INFO - [cached since 0.5276s ago] {'name': 'test-job-tag', 'type': 'job'}
2025-04-22 21:44:11,797 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:11,797 - INFO - COMMIT
2025-04-22 21:44:11,798 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:11,798 - INFO - BEGIN (implicit)
2025-04-22 21:44:11,798 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name, tags.type 
FROM tags 
WHERE tags.id = %(pk_1)s
2025-04-22 21:44:11,798 - INFO - SELECT tags.id, tags.name, tags.type 
FROM tags 
WHERE tags.id = %(pk_1)s
2025-04-22 21:44:11,798 INFO sqlalchemy.engine.Engine [cached since 0.5267s ago] {'pk_1': 2}
2025-04-22 21:44:11,798 - INFO - [cached since 0.5267s ago] {'pk_1': 2}
2025-04-22 21:44:11,801 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:11,801 - INFO - BEGIN (implicit)
2025-04-22 21:44:11,801 INFO sqlalchemy.engine.Engine SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.name = %(name_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:11,801 - INFO - SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.name = %(name_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:11,801 INFO sqlalchemy.engine.Engine [cached since 0.4907s ago] {'name_1': 'test-job-api-1', 'param_1': 1}
2025-04-22 21:44:11,801 - INFO - [cached since 0.4907s ago] {'name_1': 'test-job-api-1', 'param_1': 1}
2025-04-22 21:44:11,802 INFO sqlalchemy.engine.Engine SELECT tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM tags 
WHERE tags.id IN (%(id_1_1)s)
2025-04-22 21:44:11,802 - INFO - SELECT tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM tags 
WHERE tags.id IN (%(id_1_1)s)
2025-04-22 21:44:11,802 INFO sqlalchemy.engine.Engine [cached since 0.4899s ago] {'id_1_1': 2}
2025-04-22 21:44:11,802 - INFO - [cached since 0.4899s ago] {'id_1_1': 2}
2025-04-22 21:44:11,803 INFO sqlalchemy.engine.Engine INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) VALUES (%(name)s, %(job_type)s, %(description)s, %(status)s, %(scheduled_for)s, %(started_at)s, %(completed_at)s, %(is_enabled)s, %(is_system_job)s, %(schedule_type)s, %(interval_seconds)s, %(cron_string)s, %(device_id)s) RETURNING jobs.id
2025-04-22 21:44:11,803 - INFO - INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) VALUES (%(name)s, %(job_type)s, %(description)s, %(status)s, %(scheduled_for)s, %(started_at)s, %(completed_at)s, %(is_enabled)s, %(is_system_job)s, %(schedule_type)s, %(interval_seconds)s, %(cron_string)s, %(device_id)s) RETURNING jobs.id
2025-04-22 21:44:11,803 INFO sqlalchemy.engine.Engine [cached since 0.489s ago] {'name': 'test-job-api-1', 'job_type': 'reachability', 'description': None, 'status': 'pending', 'scheduled_for': datetime.datetime(2025, 1, 1, 0, 0, tzinfo=TzInfo(UTC)), 'started_at': None, 'completed_at': None, 'is_enabled': True, 'is_system_job': False, 'schedule_type': 'onetime', 'interval_seconds': None, 'cron_string': None, 'device_id': None}
2025-04-22 21:44:11,803 - INFO - [cached since 0.489s ago] {'name': 'test-job-api-1', 'job_type': 'reachability', 'description': None, 'status': 'pending', 'scheduled_for': datetime.datetime(2025, 1, 1, 0, 0, tzinfo=TzInfo(UTC)), 'started_at': None, 'completed_at': None, 'is_enabled': True, 'is_system_job': False, 'schedule_type': 'onetime', 'interval_seconds': None, 'cron_string': None, 'device_id': None}
2025-04-22 21:44:11,804 INFO sqlalchemy.engine.Engine INSERT INTO job_tags (job_id, tag_id) VALUES (%(job_id)s, %(tag_id)s)
2025-04-22 21:44:11,804 - INFO - INSERT INTO job_tags (job_id, tag_id) VALUES (%(job_id)s, %(tag_id)s)
2025-04-22 21:44:11,804 INFO sqlalchemy.engine.Engine [cached since 0.4883s ago] {'job_id': 1, 'tag_id': 2}
2025-04-22 21:44:11,804 - INFO - [cached since 0.4883s ago] {'job_id': 1, 'tag_id': 2}
2025-04-22 21:44:11,804 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:11,804 - INFO - COMMIT
2025-04-22 21:44:11,806 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:11,806 - INFO - BEGIN (implicit)
2025-04-22 21:44:11,807 INFO sqlalchemy.engine.Engine SELECT jobs.id, jobs.name, jobs.job_type, jobs.description, jobs.status, jobs.scheduled_for, jobs.started_at, jobs.completed_at, jobs.is_enabled, jobs.is_system_job, jobs.schedule_type, jobs.interval_seconds, jobs.cron_string, jobs.device_id 
FROM jobs 
WHERE jobs.id = %(pk_1)s
2025-04-22 21:44:11,807 - INFO - SELECT jobs.id, jobs.name, jobs.job_type, jobs.description, jobs.status, jobs.scheduled_for, jobs.started_at, jobs.completed_at, jobs.is_enabled, jobs.is_system_job, jobs.schedule_type, jobs.interval_seconds, jobs.cron_string, jobs.device_id 
FROM jobs 
WHERE jobs.id = %(pk_1)s
2025-04-22 21:44:11,807 INFO sqlalchemy.engine.Engine [cached since 0.4877s ago] {'pk_1': 1}
2025-04-22 21:44:11,807 - INFO - [cached since 0.4877s ago] {'pk_1': 1}
2025-04-22 21:44:11,807 INFO sqlalchemy.engine.Engine SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.id = %(id_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:11,807 - INFO - SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.id = %(id_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:11,807 INFO sqlalchemy.engine.Engine [cached since 0.4864s ago] {'id_1': 1, 'param_1': 1}
2025-04-22 21:44:11,807 - INFO - [cached since 0.4864s ago] {'id_1': 1, 'param_1': 1}
2025-04-22 21:44:11,808 INFO sqlalchemy.engine.Engine SELECT jobs_1.id AS jobs_1_id, tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM jobs AS jobs_1 JOIN job_tags AS job_tags_1 ON jobs_1.id = job_tags_1.job_id JOIN tags ON tags.id = job_tags_1.tag_id 
WHERE jobs_1.id IN (%(primary_keys_1)s)
2025-04-22 21:44:11,808 - INFO - SELECT jobs_1.id AS jobs_1_id, tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM jobs AS jobs_1 JOIN job_tags AS job_tags_1 ON jobs_1.id = job_tags_1.job_id JOIN tags ON tags.id = job_tags_1.tag_id 
WHERE jobs_1.id IN (%(primary_keys_1)s)
2025-04-22 21:44:11,808 INFO sqlalchemy.engine.Engine [cached since 0.4853s ago] {'primary_keys_1': 1}
2025-04-22 21:44:11,808 - INFO - [cached since 0.4853s ago] {'primary_keys_1': 1}
2025-04-22 21:44:11,809 INFO sqlalchemy.engine.Engine ROLLBACK
2025-04-22 21:44:11,809 - INFO - ROLLBACK
2025-04-22 21:44:11,810 - INFO - HTTP Request: POST http://testserver/jobs/ "HTTP/1.1 201 Created"
[32m.[0m2025-04-22 21:44:11,810 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:11,810 - INFO - COMMIT
2025-04-22 21:44:11,811 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:11,811 - INFO - BEGIN (implicit)
2025-04-22 21:44:11,811 INFO sqlalchemy.engine.Engine SET session_replication_role = 'replica';
2025-04-22 21:44:11,811 - INFO - SET session_replication_role = 'replica';
2025-04-22 21:44:11,811 INFO sqlalchemy.engine.Engine [cached since 1.046s ago] {}
2025-04-22 21:44:11,811 - INFO - [cached since 1.046s ago] {}
2025-04-22 21:44:11,812 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:11,812 - INFO - TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:11,812 INFO sqlalchemy.engine.Engine [cached since 1.046s ago] {}
2025-04-22 21:44:11,812 - INFO - [cached since 1.046s ago] {}
2025-04-22 21:44:11,824 INFO sqlalchemy.engine.Engine TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:11,824 - INFO - TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:11,824 INFO sqlalchemy.engine.Engine [cached since 1.055s ago] {}
2025-04-22 21:44:11,824 - INFO - [cached since 1.055s ago] {}
2025-04-22 21:44:11,827 INFO sqlalchemy.engine.Engine TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:11,827 - INFO - TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:11,827 INFO sqlalchemy.engine.Engine [cached since 1.055s ago] {}
2025-04-22 21:44:11,827 - INFO - [cached since 1.055s ago] {}
2025-04-22 21:44:11,830 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:11,830 - INFO - TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:11,830 INFO sqlalchemy.engine.Engine [cached since 1.055s ago] {}
2025-04-22 21:44:11,830 - INFO - [cached since 1.055s ago] {}
2025-04-22 21:44:11,842 INFO sqlalchemy.engine.Engine TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:11,842 - INFO - TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:11,842 INFO sqlalchemy.engine.Engine [cached since 1.054s ago] {}
2025-04-22 21:44:11,842 - INFO - [cached since 1.054s ago] {}
2025-04-22 21:44:11,942 INFO sqlalchemy.engine.Engine TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:11,942 - INFO - TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:11,943 INFO sqlalchemy.engine.Engine [cached since 1.041s ago] {}
2025-04-22 21:44:11,943 - INFO - [cached since 1.041s ago] {}
2025-04-22 21:44:12,039 INFO sqlalchemy.engine.Engine TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:12,039 - INFO - TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:12,039 INFO sqlalchemy.engine.Engine [cached since 1.04s ago] {}
2025-04-22 21:44:12,039 - INFO - [cached since 1.04s ago] {}
2025-04-22 21:44:12,074 INFO sqlalchemy.engine.Engine TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:12,074 - INFO - TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:12,074 INFO sqlalchemy.engine.Engine [cached since 1.032s ago] {}
2025-04-22 21:44:12,074 - INFO - [cached since 1.032s ago] {}
2025-04-22 21:44:12,095 INFO sqlalchemy.engine.Engine SET session_replication_role = 'origin';
2025-04-22 21:44:12,095 - INFO - SET session_replication_role = 'origin';
2025-04-22 21:44:12,096 INFO sqlalchemy.engine.Engine [cached since 1.03s ago] {}
2025-04-22 21:44:12,096 - INFO - [cached since 1.03s ago] {}
2025-04-22 21:44:12,096 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:12,096 - INFO - COMMIT
2025-04-22 21:44:12,099 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:12,099 - INFO - BEGIN (implicit)
2025-04-22 21:44:12,099 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:12,099 - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:12,099 INFO sqlalchemy.engine.Engine [cached since 1.017s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:12,099 - INFO - [cached since 1.017s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:12,099 - INFO - Creating new test admin: testadmin
2025-04-22 21:44:12,256 INFO sqlalchemy.engine.Engine INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:12,256 - INFO - INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:12,256 INFO sqlalchemy.engine.Engine [cached since 1.002s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$0KwnMS0pbUVeNaR9icilNerSAPZ51xPaIwN6ce8GLv32mrGdwsba6', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:12,256 - INFO - [cached since 1.002s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$0KwnMS0pbUVeNaR9icilNerSAPZ51xPaIwN6ce8GLv32mrGdwsba6', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:12,257 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:12,257 - INFO - COMMIT
2025-04-22 21:44:12,672 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:12,672 - INFO - BEGIN (implicit)
2025-04-22 21:44:12,672 INFO sqlalchemy.engine.Engine SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:12,672 - INFO - SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:12,672 INFO sqlalchemy.engine.Engine [cached since 1.003s ago] {'pk_1': 1}
2025-04-22 21:44:12,672 - INFO - [cached since 1.003s ago] {'pk_1': 1}
2025-04-22 21:44:12,673 - INFO - Created test admin with ID: 1
2025-04-22 21:44:12,674 - INFO - Created admin token for user: testadmin
2025-04-22 21:44:12,675 INFO sqlalchemy.engine.Engine INSERT INTO tags (name, type) VALUES (%(name)s, %(type)s) RETURNING tags.id
2025-04-22 21:44:12,675 - INFO - INSERT INTO tags (name, type) VALUES (%(name)s, %(type)s) RETURNING tags.id
2025-04-22 21:44:12,675 INFO sqlalchemy.engine.Engine [cached since 1.003s ago] {'name': 'test-job-tag-default', 'type': 'job'}
2025-04-22 21:44:12,675 - INFO - [cached since 1.003s ago] {'name': 'test-job-tag-default', 'type': 'job'}
2025-04-22 21:44:12,675 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:12,675 - INFO - COMMIT
2025-04-22 21:44:12,677 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:12,677 - INFO - BEGIN (implicit)
2025-04-22 21:44:12,678 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name, tags.type 
FROM tags 
WHERE tags.id = %(pk_1)s
2025-04-22 21:44:12,678 - INFO - SELECT tags.id, tags.name, tags.type 
FROM tags 
WHERE tags.id = %(pk_1)s
2025-04-22 21:44:12,678 INFO sqlalchemy.engine.Engine [cached since 1.003s ago] {'pk_1': 1}
2025-04-22 21:44:12,678 - INFO - [cached since 1.003s ago] {'pk_1': 1}
2025-04-22 21:44:12,679 INFO sqlalchemy.engine.Engine INSERT INTO devices (hostname, ip_address, device_type, description, port, last_seen) VALUES (%(hostname)s, %(ip_address)s, %(device_type)s, %(description)s, %(port)s, %(last_seen)s) RETURNING devices.id, devices.created_at
2025-04-22 21:44:12,679 - INFO - INSERT INTO devices (hostname, ip_address, device_type, description, port, last_seen) VALUES (%(hostname)s, %(ip_address)s, %(device_type)s, %(description)s, %(port)s, %(last_seen)s) RETURNING devices.id, devices.created_at
2025-04-22 21:44:12,680 INFO sqlalchemy.engine.Engine [generated in 0.00016s] {'hostname': 'test-device-1', 'ip_address': '10.0.0.1', 'device_type': 'cisco_ios', 'description': None, 'port': 22, 'last_seen': None}
2025-04-22 21:44:12,680 - INFO - [generated in 0.00016s] {'hostname': 'test-device-1', 'ip_address': '10.0.0.1', 'device_type': 'cisco_ios', 'description': None, 'port': 22, 'last_seen': None}
2025-04-22 21:44:12,680 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:12,680 - INFO - COMMIT
2025-04-22 21:44:12,682 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:12,682 - INFO - BEGIN (implicit)
2025-04-22 21:44:12,682 INFO sqlalchemy.engine.Engine SELECT devices.id, devices.hostname, devices.ip_address, devices.device_type, devices.description, devices.port, devices.created_at, devices.last_seen 
FROM devices 
WHERE devices.id = %(pk_1)s
2025-04-22 21:44:12,682 - INFO - SELECT devices.id, devices.hostname, devices.ip_address, devices.device_type, devices.description, devices.port, devices.created_at, devices.last_seen 
FROM devices 
WHERE devices.id = %(pk_1)s
2025-04-22 21:44:12,683 INFO sqlalchemy.engine.Engine [generated in 0.00014s] {'pk_1': 1}
2025-04-22 21:44:12,683 - INFO - [generated in 0.00014s] {'pk_1': 1}
2025-04-22 21:44:12,685 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:12,685 - INFO - BEGIN (implicit)
2025-04-22 21:44:12,685 INFO sqlalchemy.engine.Engine SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.name = %(name_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:12,685 - INFO - SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.name = %(name_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:12,685 INFO sqlalchemy.engine.Engine [cached since 0.972s ago] {'name_1': 'test-job-api-1', 'param_1': 1}
2025-04-22 21:44:12,685 - INFO - [cached since 0.972s ago] {'name_1': 'test-job-api-1', 'param_1': 1}
2025-04-22 21:44:12,686 INFO sqlalchemy.engine.Engine INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) VALUES (%(name)s, %(job_type)s, %(description)s, %(status)s, %(scheduled_for)s, %(started_at)s, %(completed_at)s, %(is_enabled)s, %(is_system_job)s, %(schedule_type)s, %(interval_seconds)s, %(cron_string)s, %(device_id)s) RETURNING jobs.id
2025-04-22 21:44:12,686 - INFO - INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) VALUES (%(name)s, %(job_type)s, %(description)s, %(status)s, %(scheduled_for)s, %(started_at)s, %(completed_at)s, %(is_enabled)s, %(is_system_job)s, %(schedule_type)s, %(interval_seconds)s, %(cron_string)s, %(device_id)s) RETURNING jobs.id
2025-04-22 21:44:12,686 INFO sqlalchemy.engine.Engine [cached since 0.9695s ago] {'name': 'test-job-api-1', 'job_type': 'reachability', 'description': None, 'status': 'pending', 'scheduled_for': datetime.datetime(2025, 1, 1, 0, 0, tzinfo=TzInfo(UTC)), 'started_at': None, 'completed_at': None, 'is_enabled': True, 'is_system_job': False, 'schedule_type': 'onetime', 'interval_seconds': None, 'cron_string': None, 'device_id': 1}
2025-04-22 21:44:12,686 - INFO - [cached since 0.9695s ago] {'name': 'test-job-api-1', 'job_type': 'reachability', 'description': None, 'status': 'pending', 'scheduled_for': datetime.datetime(2025, 1, 1, 0, 0, tzinfo=TzInfo(UTC)), 'started_at': None, 'completed_at': None, 'is_enabled': True, 'is_system_job': False, 'schedule_type': 'onetime', 'interval_seconds': None, 'cron_string': None, 'device_id': 1}
2025-04-22 21:44:12,687 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:12,687 - INFO - COMMIT
2025-04-22 21:44:12,689 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:12,689 - INFO - BEGIN (implicit)
2025-04-22 21:44:12,689 INFO sqlalchemy.engine.Engine SELECT jobs.id, jobs.name, jobs.job_type, jobs.description, jobs.status, jobs.scheduled_for, jobs.started_at, jobs.completed_at, jobs.is_enabled, jobs.is_system_job, jobs.schedule_type, jobs.interval_seconds, jobs.cron_string, jobs.device_id 
FROM jobs 
WHERE jobs.id = %(pk_1)s
2025-04-22 21:44:12,689 - INFO - SELECT jobs.id, jobs.name, jobs.job_type, jobs.description, jobs.status, jobs.scheduled_for, jobs.started_at, jobs.completed_at, jobs.is_enabled, jobs.is_system_job, jobs.schedule_type, jobs.interval_seconds, jobs.cron_string, jobs.device_id 
FROM jobs 
WHERE jobs.id = %(pk_1)s
2025-04-22 21:44:12,689 INFO sqlalchemy.engine.Engine [cached since 0.9676s ago] {'pk_1': 1}
2025-04-22 21:44:12,689 - INFO - [cached since 0.9676s ago] {'pk_1': 1}
2025-04-22 21:44:12,690 INFO sqlalchemy.engine.Engine SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.id = %(id_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:12,690 - INFO - SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.id = %(id_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:12,690 INFO sqlalchemy.engine.Engine [cached since 0.9667s ago] {'id_1': 1, 'param_1': 1}
2025-04-22 21:44:12,690 - INFO - [cached since 0.9667s ago] {'id_1': 1, 'param_1': 1}
2025-04-22 21:44:12,691 INFO sqlalchemy.engine.Engine SELECT jobs_1.id AS jobs_1_id, tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM jobs AS jobs_1 JOIN job_tags AS job_tags_1 ON jobs_1.id = job_tags_1.job_id JOIN tags ON tags.id = job_tags_1.tag_id 
WHERE jobs_1.id IN (%(primary_keys_1)s)
2025-04-22 21:44:12,691 - INFO - SELECT jobs_1.id AS jobs_1_id, tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM jobs AS jobs_1 JOIN job_tags AS job_tags_1 ON jobs_1.id = job_tags_1.job_id JOIN tags ON tags.id = job_tags_1.tag_id 
WHERE jobs_1.id IN (%(primary_keys_1)s)
2025-04-22 21:44:12,691 INFO sqlalchemy.engine.Engine [cached since 0.9657s ago] {'primary_keys_1': 1}
2025-04-22 21:44:12,691 - INFO - [cached since 0.9657s ago] {'primary_keys_1': 1}
2025-04-22 21:44:12,692 INFO sqlalchemy.engine.Engine ROLLBACK
2025-04-22 21:44:12,692 - INFO - ROLLBACK
2025-04-22 21:44:12,693 - INFO - HTTP Request: POST http://testserver/jobs/ "HTTP/1.1 201 Created"
[32m.[0m2025-04-22 21:44:12,694 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:12,694 - INFO - COMMIT
2025-04-22 21:44:12,695 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:12,695 - INFO - BEGIN (implicit)
2025-04-22 21:44:12,695 INFO sqlalchemy.engine.Engine SET session_replication_role = 'replica';
2025-04-22 21:44:12,695 - INFO - SET session_replication_role = 'replica';
2025-04-22 21:44:12,695 INFO sqlalchemy.engine.Engine [cached since 1.527s ago] {}
2025-04-22 21:44:12,695 - INFO - [cached since 1.527s ago] {}
2025-04-22 21:44:12,695 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:12,695 - INFO - TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:12,695 INFO sqlalchemy.engine.Engine [cached since 1.527s ago] {}
2025-04-22 21:44:12,695 - INFO - [cached since 1.527s ago] {}
2025-04-22 21:44:12,705 INFO sqlalchemy.engine.Engine TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:12,705 - INFO - TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:12,705 INFO sqlalchemy.engine.Engine [cached since 1.533s ago] {}
2025-04-22 21:44:12,705 - INFO - [cached since 1.533s ago] {}
2025-04-22 21:44:12,709 INFO sqlalchemy.engine.Engine TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:12,709 - INFO - TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:12,709 INFO sqlalchemy.engine.Engine [cached since 1.533s ago] {}
2025-04-22 21:44:12,709 - INFO - [cached since 1.533s ago] {}
2025-04-22 21:44:12,712 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:12,712 - INFO - TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:12,712 INFO sqlalchemy.engine.Engine [cached since 1.533s ago] {}
2025-04-22 21:44:12,712 - INFO - [cached since 1.533s ago] {}
2025-04-22 21:44:12,724 INFO sqlalchemy.engine.Engine TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:12,724 - INFO - TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:12,725 INFO sqlalchemy.engine.Engine [cached since 1.534s ago] {}
2025-04-22 21:44:12,725 - INFO - [cached since 1.534s ago] {}
2025-04-22 21:44:13,401 INFO sqlalchemy.engine.Engine TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:13,401 - INFO - TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:13,401 INFO sqlalchemy.engine.Engine [cached since 1.535s ago] {}
2025-04-22 21:44:13,401 - INFO - [cached since 1.535s ago] {}
2025-04-22 21:44:13,498 INFO sqlalchemy.engine.Engine TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:13,498 - INFO - TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:13,498 INFO sqlalchemy.engine.Engine [cached since 1.533s ago] {}
2025-04-22 21:44:13,498 - INFO - [cached since 1.533s ago] {}
2025-04-22 21:44:13,533 INFO sqlalchemy.engine.Engine TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:13,533 - INFO - TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:13,533 INFO sqlalchemy.engine.Engine [cached since 1.526s ago] {}
2025-04-22 21:44:13,533 - INFO - [cached since 1.526s ago] {}
2025-04-22 21:44:13,545 INFO sqlalchemy.engine.Engine SET session_replication_role = 'origin';
2025-04-22 21:44:13,545 - INFO - SET session_replication_role = 'origin';
2025-04-22 21:44:13,545 INFO sqlalchemy.engine.Engine [cached since 1.514s ago] {}
2025-04-22 21:44:13,545 - INFO - [cached since 1.514s ago] {}
2025-04-22 21:44:13,545 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:13,545 - INFO - COMMIT
2025-04-22 21:44:13,547 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:13,547 - INFO - BEGIN (implicit)
2025-04-22 21:44:13,548 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:13,548 - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:13,548 INFO sqlalchemy.engine.Engine [cached since 1.501s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:13,548 - INFO - [cached since 1.501s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:13,548 - INFO - Creating new test admin: testadmin
2025-04-22 21:44:13,704 INFO sqlalchemy.engine.Engine INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:13,704 - INFO - INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:13,704 INFO sqlalchemy.engine.Engine [cached since 1.485s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$dTfeU0/MsOiRt1qXWickFe32Zm2nkdKIcs1jySsa7F2fTBzi0GA8S', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:13,704 - INFO - [cached since 1.485s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$dTfeU0/MsOiRt1qXWickFe32Zm2nkdKIcs1jySsa7F2fTBzi0GA8S', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:13,705 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:13,705 - INFO - COMMIT
2025-04-22 21:44:13,717 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:13,717 - INFO - BEGIN (implicit)
2025-04-22 21:44:13,718 INFO sqlalchemy.engine.Engine SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:13,718 - INFO - SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:13,718 INFO sqlalchemy.engine.Engine [cached since 1.486s ago] {'pk_1': 1}
2025-04-22 21:44:13,718 - INFO - [cached since 1.486s ago] {'pk_1': 1}
2025-04-22 21:44:13,718 - INFO - Created test admin with ID: 1
2025-04-22 21:44:13,719 - INFO - Created admin token for user: testadmin
2025-04-22 21:44:13,719 INFO sqlalchemy.engine.Engine INSERT INTO tags (name, type) VALUES (%(name)s, %(type)s) RETURNING tags.id
2025-04-22 21:44:13,719 - INFO - INSERT INTO tags (name, type) VALUES (%(name)s, %(type)s) RETURNING tags.id
2025-04-22 21:44:13,719 INFO sqlalchemy.engine.Engine [cached since 1.485s ago] {'name': 'test-job-tag-default', 'type': 'job'}
2025-04-22 21:44:13,719 - INFO - [cached since 1.485s ago] {'name': 'test-job-tag-default', 'type': 'job'}
2025-04-22 21:44:13,720 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:13,720 - INFO - COMMIT
2025-04-22 21:44:13,722 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:13,722 - INFO - BEGIN (implicit)
2025-04-22 21:44:13,722 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name, tags.type 
FROM tags 
WHERE tags.id = %(pk_1)s
2025-04-22 21:44:13,722 - INFO - SELECT tags.id, tags.name, tags.type 
FROM tags 
WHERE tags.id = %(pk_1)s
2025-04-22 21:44:13,722 INFO sqlalchemy.engine.Engine [cached since 1.485s ago] {'pk_1': 1}
2025-04-22 21:44:13,722 - INFO - [cached since 1.485s ago] {'pk_1': 1}
2025-04-22 21:44:13,723 INFO sqlalchemy.engine.Engine INSERT INTO tags (name, type) VALUES (%(name)s, %(type)s) RETURNING tags.id
2025-04-22 21:44:13,723 - INFO - INSERT INTO tags (name, type) VALUES (%(name)s, %(type)s) RETURNING tags.id
2025-04-22 21:44:13,723 INFO sqlalchemy.engine.Engine [cached since 1.489s ago] {'name': 'test-job-tag', 'type': 'job'}
2025-04-22 21:44:13,723 - INFO - [cached since 1.489s ago] {'name': 'test-job-tag', 'type': 'job'}
2025-04-22 21:44:13,723 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:13,723 - INFO - COMMIT
2025-04-22 21:44:13,725 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:13,725 - INFO - BEGIN (implicit)
2025-04-22 21:44:13,725 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name, tags.type 
FROM tags 
WHERE tags.id = %(pk_1)s
2025-04-22 21:44:13,725 - INFO - SELECT tags.id, tags.name, tags.type 
FROM tags 
WHERE tags.id = %(pk_1)s
2025-04-22 21:44:13,725 INFO sqlalchemy.engine.Engine [cached since 1.488s ago] {'pk_1': 2}
2025-04-22 21:44:13,725 - INFO - [cached since 1.488s ago] {'pk_1': 2}
2025-04-22 21:44:13,726 INFO sqlalchemy.engine.Engine INSERT INTO devices (hostname, ip_address, device_type, description, port, last_seen) VALUES (%(hostname)s, %(ip_address)s, %(device_type)s, %(description)s, %(port)s, %(last_seen)s) RETURNING devices.id, devices.created_at
2025-04-22 21:44:13,726 - INFO - INSERT INTO devices (hostname, ip_address, device_type, description, port, last_seen) VALUES (%(hostname)s, %(ip_address)s, %(device_type)s, %(description)s, %(port)s, %(last_seen)s) RETURNING devices.id, devices.created_at
2025-04-22 21:44:13,726 INFO sqlalchemy.engine.Engine [cached since 0.4844s ago] {'hostname': 'test-device-2', 'ip_address': '10.0.0.2', 'device_type': 'cisco_ios', 'description': None, 'port': 22, 'last_seen': None}
2025-04-22 21:44:13,726 - INFO - [cached since 0.4844s ago] {'hostname': 'test-device-2', 'ip_address': '10.0.0.2', 'device_type': 'cisco_ios', 'description': None, 'port': 22, 'last_seen': None}
2025-04-22 21:44:13,727 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:13,727 - INFO - COMMIT
2025-04-22 21:44:13,729 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:13,729 - INFO - BEGIN (implicit)
2025-04-22 21:44:13,729 INFO sqlalchemy.engine.Engine SELECT devices.id, devices.hostname, devices.ip_address, devices.device_type, devices.description, devices.port, devices.created_at, devices.last_seen 
FROM devices 
WHERE devices.id = %(pk_1)s
2025-04-22 21:44:13,729 - INFO - SELECT devices.id, devices.hostname, devices.ip_address, devices.device_type, devices.description, devices.port, devices.created_at, devices.last_seen 
FROM devices 
WHERE devices.id = %(pk_1)s
2025-04-22 21:44:13,729 INFO sqlalchemy.engine.Engine [cached since 0.4841s ago] {'pk_1': 1}
2025-04-22 21:44:13,729 - INFO - [cached since 0.4841s ago] {'pk_1': 1}
2025-04-22 21:44:13,730 INFO sqlalchemy.engine.Engine SELECT tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM tags 
WHERE tags.id = %(pk_1)s
2025-04-22 21:44:13,730 - INFO - SELECT tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM tags 
WHERE tags.id = %(pk_1)s
2025-04-22 21:44:13,730 INFO sqlalchemy.engine.Engine [generated in 0.00013s] {'pk_1': 2}
2025-04-22 21:44:13,730 - INFO - [generated in 0.00013s] {'pk_1': 2}
2025-04-22 21:44:13,733 - INFO - HTTP Request: POST http://testserver/jobs/ "HTTP/1.1 422 Unprocessable Entity"
[32m.[0m2025-04-22 21:44:13,733 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:13,733 - INFO - COMMIT
2025-04-22 21:44:13,734 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:13,734 - INFO - BEGIN (implicit)
2025-04-22 21:44:13,734 INFO sqlalchemy.engine.Engine SET session_replication_role = 'replica';
2025-04-22 21:44:13,734 - INFO - SET session_replication_role = 'replica';
2025-04-22 21:44:13,734 INFO sqlalchemy.engine.Engine [cached since 2.004s ago] {}
2025-04-22 21:44:13,734 - INFO - [cached since 2.004s ago] {}
2025-04-22 21:44:13,735 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:13,735 - INFO - TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:13,735 INFO sqlalchemy.engine.Engine [cached since 2.004s ago] {}
2025-04-22 21:44:13,735 - INFO - [cached since 2.004s ago] {}
2025-04-22 21:44:13,738 INFO sqlalchemy.engine.Engine TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:13,738 - INFO - TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:13,738 INFO sqlalchemy.engine.Engine [cached since 2.003s ago] {}
2025-04-22 21:44:13,738 - INFO - [cached since 2.003s ago] {}
2025-04-22 21:44:13,751 INFO sqlalchemy.engine.Engine TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:13,751 - INFO - TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:13,751 INFO sqlalchemy.engine.Engine [cached since 2.013s ago] {}
2025-04-22 21:44:13,751 - INFO - [cached since 2.013s ago] {}
2025-04-22 21:44:13,754 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:13,754 - INFO - TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:13,754 INFO sqlalchemy.engine.Engine [cached since 2.013s ago] {}
2025-04-22 21:44:13,754 - INFO - [cached since 2.013s ago] {}
2025-04-22 21:44:13,765 INFO sqlalchemy.engine.Engine TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:13,765 - INFO - TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:13,765 INFO sqlalchemy.engine.Engine [cached since 2.012s ago] {}
2025-04-22 21:44:13,765 - INFO - [cached since 2.012s ago] {}
2025-04-22 21:44:13,860 INFO sqlalchemy.engine.Engine TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:13,860 - INFO - TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:13,860 INFO sqlalchemy.engine.Engine [cached since 1.994s ago] {}
2025-04-22 21:44:13,860 - INFO - [cached since 1.994s ago] {}
2025-04-22 21:44:13,960 INFO sqlalchemy.engine.Engine TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:13,960 - INFO - TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:13,960 INFO sqlalchemy.engine.Engine [cached since 1.995s ago] {}
2025-04-22 21:44:13,960 - INFO - [cached since 1.995s ago] {}
2025-04-22 21:44:13,997 INFO sqlalchemy.engine.Engine TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:13,997 - INFO - TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:13,997 INFO sqlalchemy.engine.Engine [cached since 1.99s ago] {}
2025-04-22 21:44:13,997 - INFO - [cached since 1.99s ago] {}
2025-04-22 21:44:14,020 INFO sqlalchemy.engine.Engine SET session_replication_role = 'origin';
2025-04-22 21:44:14,020 - INFO - SET session_replication_role = 'origin';
2025-04-22 21:44:14,020 INFO sqlalchemy.engine.Engine [cached since 1.989s ago] {}
2025-04-22 21:44:14,020 - INFO - [cached since 1.989s ago] {}
2025-04-22 21:44:14,020 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:14,020 - INFO - COMMIT
2025-04-22 21:44:14,023 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:14,023 - INFO - BEGIN (implicit)
2025-04-22 21:44:14,023 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:14,023 - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:14,023 INFO sqlalchemy.engine.Engine [cached since 1.977s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:14,023 - INFO - [cached since 1.977s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:14,024 - INFO - Creating new test admin: testadmin
2025-04-22 21:44:14,179 INFO sqlalchemy.engine.Engine INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:14,179 - INFO - INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:14,179 INFO sqlalchemy.engine.Engine [cached since 1.96s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$uhkNXBIJHr2cfvjwOPofEe6S1kg7bjfYWmKRVP9Gkv5KYFK/rp1Su', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:14,179 - INFO - [cached since 1.96s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$uhkNXBIJHr2cfvjwOPofEe6S1kg7bjfYWmKRVP9Gkv5KYFK/rp1Su', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:14,180 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:14,180 - INFO - COMMIT
2025-04-22 21:44:14,193 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:14,193 - INFO - BEGIN (implicit)
2025-04-22 21:44:14,193 INFO sqlalchemy.engine.Engine SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:14,193 - INFO - SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:14,193 INFO sqlalchemy.engine.Engine [cached since 1.962s ago] {'pk_1': 1}
2025-04-22 21:44:14,193 - INFO - [cached since 1.962s ago] {'pk_1': 1}
2025-04-22 21:44:14,194 - INFO - Created test admin with ID: 1
2025-04-22 21:44:14,194 - INFO - Created admin token for user: testadmin
2025-04-22 21:44:14,195 INFO sqlalchemy.engine.Engine INSERT INTO tags (name, type) VALUES (%(name)s, %(type)s) RETURNING tags.id
2025-04-22 21:44:14,195 - INFO - INSERT INTO tags (name, type) VALUES (%(name)s, %(type)s) RETURNING tags.id
2025-04-22 21:44:14,195 INFO sqlalchemy.engine.Engine [cached since 1.961s ago] {'name': 'test-job-tag-default', 'type': 'job'}
2025-04-22 21:44:14,195 - INFO - [cached since 1.961s ago] {'name': 'test-job-tag-default', 'type': 'job'}
2025-04-22 21:44:14,195 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:14,195 - INFO - COMMIT
2025-04-22 21:44:14,197 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:14,197 - INFO - BEGIN (implicit)
2025-04-22 21:44:14,198 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name, tags.type 
FROM tags 
WHERE tags.id = %(pk_1)s
2025-04-22 21:44:14,198 - INFO - SELECT tags.id, tags.name, tags.type 
FROM tags 
WHERE tags.id = %(pk_1)s
2025-04-22 21:44:14,198 INFO sqlalchemy.engine.Engine [cached since 1.961s ago] {'pk_1': 1}
2025-04-22 21:44:14,198 - INFO - [cached since 1.961s ago] {'pk_1': 1}
2025-04-22 21:44:14,201 - INFO - HTTP Request: POST http://testserver/jobs/ "HTTP/1.1 422 Unprocessable Entity"
[32m.[0m2025-04-22 21:44:14,201 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:14,201 - INFO - COMMIT
2025-04-22 21:44:14,202 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:14,202 - INFO - BEGIN (implicit)
2025-04-22 21:44:14,202 INFO sqlalchemy.engine.Engine SET session_replication_role = 'replica';
2025-04-22 21:44:14,202 - INFO - SET session_replication_role = 'replica';
2025-04-22 21:44:14,202 INFO sqlalchemy.engine.Engine [cached since 2.472s ago] {}
2025-04-22 21:44:14,202 - INFO - [cached since 2.472s ago] {}
2025-04-22 21:44:14,202 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,202 - INFO - TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,202 INFO sqlalchemy.engine.Engine [cached since 2.472s ago] {}
2025-04-22 21:44:14,202 - INFO - [cached since 2.472s ago] {}
2025-04-22 21:44:14,205 INFO sqlalchemy.engine.Engine TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,205 - INFO - TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,206 INFO sqlalchemy.engine.Engine [cached since 2.471s ago] {}
2025-04-22 21:44:14,206 - INFO - [cached since 2.471s ago] {}
2025-04-22 21:44:14,209 INFO sqlalchemy.engine.Engine TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,209 - INFO - TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,209 INFO sqlalchemy.engine.Engine [cached since 2.471s ago] {}
2025-04-22 21:44:14,209 - INFO - [cached since 2.471s ago] {}
2025-04-22 21:44:14,212 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,212 - INFO - TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,212 INFO sqlalchemy.engine.Engine [cached since 2.471s ago] {}
2025-04-22 21:44:14,212 - INFO - [cached since 2.471s ago] {}
2025-04-22 21:44:14,234 INFO sqlalchemy.engine.Engine TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,234 - INFO - TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,234 INFO sqlalchemy.engine.Engine [cached since 2.481s ago] {}
2025-04-22 21:44:14,234 - INFO - [cached since 2.481s ago] {}
2025-04-22 21:44:14,298 INFO sqlalchemy.engine.Engine TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,298 - INFO - TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,299 INFO sqlalchemy.engine.Engine [cached since 2.432s ago] {}
2025-04-22 21:44:14,299 - INFO - [cached since 2.432s ago] {}
2025-04-22 21:44:14,360 INFO sqlalchemy.engine.Engine TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,360 - INFO - TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,360 INFO sqlalchemy.engine.Engine [cached since 2.396s ago] {}
2025-04-22 21:44:14,360 - INFO - [cached since 2.396s ago] {}
2025-04-22 21:44:14,385 INFO sqlalchemy.engine.Engine TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,385 - INFO - TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,385 INFO sqlalchemy.engine.Engine [cached since 2.378s ago] {}
2025-04-22 21:44:14,385 - INFO - [cached since 2.378s ago] {}
2025-04-22 21:44:14,409 INFO sqlalchemy.engine.Engine SET session_replication_role = 'origin';
2025-04-22 21:44:14,409 - INFO - SET session_replication_role = 'origin';
2025-04-22 21:44:14,409 INFO sqlalchemy.engine.Engine [cached since 2.378s ago] {}
2025-04-22 21:44:14,409 - INFO - [cached since 2.378s ago] {}
2025-04-22 21:44:14,409 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:14,409 - INFO - COMMIT
2025-04-22 21:44:14,416 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:14,416 - INFO - BEGIN (implicit)
2025-04-22 21:44:14,416 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:14,416 - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:14,416 INFO sqlalchemy.engine.Engine [cached since 2.37s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:14,416 - INFO - [cached since 2.37s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:14,417 - INFO - Creating new test admin: testadmin
2025-04-22 21:44:14,572 INFO sqlalchemy.engine.Engine INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:14,572 - INFO - INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:14,572 INFO sqlalchemy.engine.Engine [cached since 2.353s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$.FkfirIEs6C0dp19IcgZiO8CFN1EVk6urNlPTO9qnyo1BvjSdFwIe', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:14,572 - INFO - [cached since 2.353s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$.FkfirIEs6C0dp19IcgZiO8CFN1EVk6urNlPTO9qnyo1BvjSdFwIe', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:14,573 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:14,573 - INFO - COMMIT
2025-04-22 21:44:14,575 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:14,575 - INFO - BEGIN (implicit)
2025-04-22 21:44:14,575 INFO sqlalchemy.engine.Engine SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:14,575 - INFO - SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:14,575 INFO sqlalchemy.engine.Engine [cached since 2.343s ago] {'pk_1': 1}
2025-04-22 21:44:14,575 - INFO - [cached since 2.343s ago] {'pk_1': 1}
2025-04-22 21:44:14,576 - INFO - Created test admin with ID: 1
2025-04-22 21:44:14,576 - INFO - Created admin token for user: testadmin
2025-04-22 21:44:14,576 INFO sqlalchemy.engine.Engine INSERT INTO tags (name, type) VALUES (%(name)s, %(type)s) RETURNING tags.id
2025-04-22 21:44:14,576 - INFO - INSERT INTO tags (name, type) VALUES (%(name)s, %(type)s) RETURNING tags.id
2025-04-22 21:44:14,576 INFO sqlalchemy.engine.Engine [cached since 2.343s ago] {'name': 'test-job-tag-default', 'type': 'job'}
2025-04-22 21:44:14,576 - INFO - [cached since 2.343s ago] {'name': 'test-job-tag-default', 'type': 'job'}
2025-04-22 21:44:14,577 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:14,577 - INFO - COMMIT
2025-04-22 21:44:14,579 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:14,579 - INFO - BEGIN (implicit)
2025-04-22 21:44:14,579 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name, tags.type 
FROM tags 
WHERE tags.id = %(pk_1)s
2025-04-22 21:44:14,579 - INFO - SELECT tags.id, tags.name, tags.type 
FROM tags 
WHERE tags.id = %(pk_1)s
2025-04-22 21:44:14,579 INFO sqlalchemy.engine.Engine [cached since 2.342s ago] {'pk_1': 1}
2025-04-22 21:44:14,579 - INFO - [cached since 2.342s ago] {'pk_1': 1}
2025-04-22 21:44:14,582 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:14,582 - INFO - BEGIN (implicit)
2025-04-22 21:44:14,582 INFO sqlalchemy.engine.Engine SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.name = %(name_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:14,582 - INFO - SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.name = %(name_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:14,582 INFO sqlalchemy.engine.Engine [cached since 2.306s ago] {'name_1': 'test-job-api-1', 'param_1': 1}
2025-04-22 21:44:14,582 - INFO - [cached since 2.306s ago] {'name_1': 'test-job-api-1', 'param_1': 1}
2025-04-22 21:44:14,583 INFO sqlalchemy.engine.Engine SELECT tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM tags 
WHERE tags.id IN (%(id_1_1)s)
2025-04-22 21:44:14,583 - INFO - SELECT tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM tags 
WHERE tags.id IN (%(id_1_1)s)
2025-04-22 21:44:14,583 INFO sqlalchemy.engine.Engine [cached since 2.305s ago] {'id_1_1': 1}
2025-04-22 21:44:14,583 - INFO - [cached since 2.305s ago] {'id_1_1': 1}
2025-04-22 21:44:14,584 INFO sqlalchemy.engine.Engine INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) VALUES (%(name)s, %(job_type)s, %(description)s, %(status)s, %(scheduled_for)s, %(started_at)s, %(completed_at)s, %(is_enabled)s, %(is_system_job)s, %(schedule_type)s, %(interval_seconds)s, %(cron_string)s, %(device_id)s) RETURNING jobs.id
2025-04-22 21:44:14,584 - INFO - INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) VALUES (%(name)s, %(job_type)s, %(description)s, %(status)s, %(scheduled_for)s, %(started_at)s, %(completed_at)s, %(is_enabled)s, %(is_system_job)s, %(schedule_type)s, %(interval_seconds)s, %(cron_string)s, %(device_id)s) RETURNING jobs.id
2025-04-22 21:44:14,584 INFO sqlalchemy.engine.Engine [cached since 2.305s ago] {'name': 'test-job-api-1', 'job_type': 'reachability', 'description': None, 'status': 'pending', 'scheduled_for': datetime.datetime(2025, 1, 1, 0, 0, tzinfo=TzInfo(UTC)), 'started_at': None, 'completed_at': None, 'is_enabled': True, 'is_system_job': False, 'schedule_type': 'onetime', 'interval_seconds': None, 'cron_string': None, 'device_id': None}
2025-04-22 21:44:14,584 - INFO - [cached since 2.305s ago] {'name': 'test-job-api-1', 'job_type': 'reachability', 'description': None, 'status': 'pending', 'scheduled_for': datetime.datetime(2025, 1, 1, 0, 0, tzinfo=TzInfo(UTC)), 'started_at': None, 'completed_at': None, 'is_enabled': True, 'is_system_job': False, 'schedule_type': 'onetime', 'interval_seconds': None, 'cron_string': None, 'device_id': None}
2025-04-22 21:44:14,585 INFO sqlalchemy.engine.Engine INSERT INTO job_tags (job_id, tag_id) VALUES (%(job_id)s, %(tag_id)s)
2025-04-22 21:44:14,585 - INFO - INSERT INTO job_tags (job_id, tag_id) VALUES (%(job_id)s, %(tag_id)s)
2025-04-22 21:44:14,585 INFO sqlalchemy.engine.Engine [cached since 2.304s ago] {'job_id': 1, 'tag_id': 1}
2025-04-22 21:44:14,585 - INFO - [cached since 2.304s ago] {'job_id': 1, 'tag_id': 1}
2025-04-22 21:44:14,585 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:14,585 - INFO - COMMIT
2025-04-22 21:44:14,587 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:14,587 - INFO - BEGIN (implicit)
2025-04-22 21:44:14,588 INFO sqlalchemy.engine.Engine SELECT jobs.id, jobs.name, jobs.job_type, jobs.description, jobs.status, jobs.scheduled_for, jobs.started_at, jobs.completed_at, jobs.is_enabled, jobs.is_system_job, jobs.schedule_type, jobs.interval_seconds, jobs.cron_string, jobs.device_id 
FROM jobs 
WHERE jobs.id = %(pk_1)s
2025-04-22 21:44:14,588 - INFO - SELECT jobs.id, jobs.name, jobs.job_type, jobs.description, jobs.status, jobs.scheduled_for, jobs.started_at, jobs.completed_at, jobs.is_enabled, jobs.is_system_job, jobs.schedule_type, jobs.interval_seconds, jobs.cron_string, jobs.device_id 
FROM jobs 
WHERE jobs.id = %(pk_1)s
2025-04-22 21:44:14,588 INFO sqlalchemy.engine.Engine [cached since 2.304s ago] {'pk_1': 1}
2025-04-22 21:44:14,588 - INFO - [cached since 2.304s ago] {'pk_1': 1}
2025-04-22 21:44:14,588 INFO sqlalchemy.engine.Engine SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.id = %(id_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:14,588 - INFO - SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.id = %(id_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:14,588 INFO sqlalchemy.engine.Engine [cached since 2.302s ago] {'id_1': 1, 'param_1': 1}
2025-04-22 21:44:14,588 - INFO - [cached since 2.302s ago] {'id_1': 1, 'param_1': 1}
2025-04-22 21:44:14,589 INFO sqlalchemy.engine.Engine SELECT jobs_1.id AS jobs_1_id, tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM jobs AS jobs_1 JOIN job_tags AS job_tags_1 ON jobs_1.id = job_tags_1.job_id JOIN tags ON tags.id = job_tags_1.tag_id 
WHERE jobs_1.id IN (%(primary_keys_1)s)
2025-04-22 21:44:14,589 - INFO - SELECT jobs_1.id AS jobs_1_id, tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM jobs AS jobs_1 JOIN job_tags AS job_tags_1 ON jobs_1.id = job_tags_1.job_id JOIN tags ON tags.id = job_tags_1.tag_id 
WHERE jobs_1.id IN (%(primary_keys_1)s)
2025-04-22 21:44:14,589 INFO sqlalchemy.engine.Engine [cached since 2.301s ago] {'primary_keys_1': 1}
2025-04-22 21:44:14,589 - INFO - [cached since 2.301s ago] {'primary_keys_1': 1}
2025-04-22 21:44:14,590 INFO sqlalchemy.engine.Engine ROLLBACK
2025-04-22 21:44:14,590 - INFO - ROLLBACK
2025-04-22 21:44:14,591 - INFO - HTTP Request: POST http://testserver/jobs/ "HTTP/1.1 201 Created"
2025-04-22 21:44:14,593 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:14,593 - INFO - BEGIN (implicit)
2025-04-22 21:44:14,593 INFO sqlalchemy.engine.Engine SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.name = %(name_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:14,593 - INFO - SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.name = %(name_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:14,593 INFO sqlalchemy.engine.Engine [cached since 2.318s ago] {'name_1': 'test-job-api-1', 'param_1': 1}
2025-04-22 21:44:14,593 - INFO - [cached since 2.318s ago] {'name_1': 'test-job-api-1', 'param_1': 1}
2025-04-22 21:44:14,594 INFO sqlalchemy.engine.Engine ROLLBACK
2025-04-22 21:44:14,594 - INFO - ROLLBACK
2025-04-22 21:44:14,595 - INFO - HTTP Request: POST http://testserver/jobs/ "HTTP/1.1 400 Bad Request"
[32m.[0m2025-04-22 21:44:14,595 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:14,595 - INFO - COMMIT
2025-04-22 21:44:14,596 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:14,596 - INFO - BEGIN (implicit)
2025-04-22 21:44:14,596 INFO sqlalchemy.engine.Engine SET session_replication_role = 'replica';
2025-04-22 21:44:14,596 - INFO - SET session_replication_role = 'replica';
2025-04-22 21:44:14,596 INFO sqlalchemy.engine.Engine [cached since 2.866s ago] {}
2025-04-22 21:44:14,596 - INFO - [cached since 2.866s ago] {}
2025-04-22 21:44:14,597 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,597 - INFO - TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,597 INFO sqlalchemy.engine.Engine [cached since 2.866s ago] {}
2025-04-22 21:44:14,597 - INFO - [cached since 2.866s ago] {}
2025-04-22 21:44:14,600 INFO sqlalchemy.engine.Engine TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,600 - INFO - TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,600 INFO sqlalchemy.engine.Engine [cached since 2.865s ago] {}
2025-04-22 21:44:14,600 - INFO - [cached since 2.865s ago] {}
2025-04-22 21:44:14,603 INFO sqlalchemy.engine.Engine TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,603 - INFO - TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,603 INFO sqlalchemy.engine.Engine [cached since 2.865s ago] {}
2025-04-22 21:44:14,603 - INFO - [cached since 2.865s ago] {}
2025-04-22 21:44:14,606 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,606 - INFO - TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,606 INFO sqlalchemy.engine.Engine [cached since 2.865s ago] {}
2025-04-22 21:44:14,606 - INFO - [cached since 2.865s ago] {}
2025-04-22 21:44:14,618 INFO sqlalchemy.engine.Engine TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,618 - INFO - TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,618 INFO sqlalchemy.engine.Engine [cached since 2.865s ago] {}
2025-04-22 21:44:14,618 - INFO - [cached since 2.865s ago] {}
2025-04-22 21:44:14,684 INFO sqlalchemy.engine.Engine TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,684 - INFO - TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,684 INFO sqlalchemy.engine.Engine [cached since 2.818s ago] {}
2025-04-22 21:44:14,684 - INFO - [cached since 2.818s ago] {}
2025-04-22 21:44:14,747 INFO sqlalchemy.engine.Engine TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,747 - INFO - TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,747 INFO sqlalchemy.engine.Engine [cached since 2.782s ago] {}
2025-04-22 21:44:14,747 - INFO - [cached since 2.782s ago] {}
2025-04-22 21:44:14,772 INFO sqlalchemy.engine.Engine TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,772 - INFO - TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,772 INFO sqlalchemy.engine.Engine [cached since 2.765s ago] {}
2025-04-22 21:44:14,772 - INFO - [cached since 2.765s ago] {}
2025-04-22 21:44:14,785 INFO sqlalchemy.engine.Engine SET session_replication_role = 'origin';
2025-04-22 21:44:14,785 - INFO - SET session_replication_role = 'origin';
2025-04-22 21:44:14,785 INFO sqlalchemy.engine.Engine [cached since 2.755s ago] {}
2025-04-22 21:44:14,785 - INFO - [cached since 2.755s ago] {}
2025-04-22 21:44:14,786 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:14,786 - INFO - COMMIT
2025-04-22 21:44:14,788 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:14,788 - INFO - BEGIN (implicit)
2025-04-22 21:44:14,788 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:14,788 - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:14,788 INFO sqlalchemy.engine.Engine [cached since 2.742s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:14,788 - INFO - [cached since 2.742s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:14,789 - INFO - Creating new test admin: testadmin
2025-04-22 21:44:14,945 INFO sqlalchemy.engine.Engine INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:14,945 - INFO - INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:14,946 INFO sqlalchemy.engine.Engine [cached since 2.727s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$c1B4DDLdV7fKkprhRo3at.J.bxLB1FT.BAhiDQ0rRID6yrc4Gvxlq', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:14,946 - INFO - [cached since 2.727s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$c1B4DDLdV7fKkprhRo3at.J.bxLB1FT.BAhiDQ0rRID6yrc4Gvxlq', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:14,947 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:14,947 - INFO - COMMIT
2025-04-22 21:44:14,949 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:14,949 - INFO - BEGIN (implicit)
2025-04-22 21:44:14,949 INFO sqlalchemy.engine.Engine SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:14,949 - INFO - SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:14,949 INFO sqlalchemy.engine.Engine [cached since 2.718s ago] {'pk_1': 1}
2025-04-22 21:44:14,949 - INFO - [cached since 2.718s ago] {'pk_1': 1}
2025-04-22 21:44:14,950 - INFO - Created test admin with ID: 1
2025-04-22 21:44:14,950 - INFO - Created admin token for user: testadmin
2025-04-22 21:44:14,952 INFO sqlalchemy.engine.Engine INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) SELECT p0::VARCHAR, p1::VARCHAR, p2::VARCHAR, p3::VARCHAR, p4::TIMESTA ... 981 characters truncated ... p6, p7, p8, p9, p10, p11, p12, sen_counter) ORDER BY sen_counter RETURNING jobs.id, jobs.id AS id__1
2025-04-22 21:44:14,952 - INFO - INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) SELECT p0::VARCHAR, p1::VARCHAR, p2::VARCHAR, p3::VARCHAR, p4::TIMESTA ... 981 characters truncated ... p6, p7, p8, p9, p10, p11, p12, sen_counter) ORDER BY sen_counter RETURNING jobs.id, jobs.id AS id__1
2025-04-22 21:44:14,952 INFO sqlalchemy.engine.Engine [generated in 0.00007s (insertmanyvalues) 1/1 (ordered)] {'device_id__0': None, 'description__0': None, 'completed_at__0': None, 'status__0': 'pending', 'cron_string__0': None, 'is_system_job__0': False, 'name__0': 'list-test-job-0', 'job_type__0': 'backup', 'is_enabled__0': True, 'schedule_type__0': 'onetime', 'interval_seconds__0': None, 'scheduled_for__0': '2025-01-01T00:00:00Z', 'started_at__0': None, 'device_id__1': None, 'description__1': None, 'completed_at__1': None, 'status__1': 'pending', 'cron_string__1': None, 'is_system_job__1': False, 'name__1': 'list-test-job-1', 'job_type__1': 'backup', 'is_enabled__1': True, 'schedule_type__1': 'onetime', 'interval_seconds__1': None, 'scheduled_for__1': '2025-01-01T00:00:00Z', 'started_at__1': None, 'device_id__2': None, 'description__2': None, 'completed_at__2': None, 'status__2': 'pending', 'cron_string__2': None, 'is_system_job__2': False, 'name__2': 'list-test-job-2', 'job_type__2': 'backup', 'is_enabled__2': True, 'schedule_type__2': 'onetime', 'interval_seconds__2': None, 'scheduled_for__2': '2025-01-01T00:00:00Z', 'started_at__2': None}
2025-04-22 21:44:14,952 - INFO - [generated in 0.00007s (insertmanyvalues) 1/1 (ordered)] {'device_id__0': None, 'description__0': None, 'completed_at__0': None, 'status__0': 'pending', 'cron_string__0': None, 'is_system_job__0': False, 'name__0': 'list-test-job-0', 'job_type__0': 'backup', 'is_enabled__0': True, 'schedule_type__0': 'onetime', 'interval_seconds__0': None, 'scheduled_for__0': '2025-01-01T00:00:00Z', 'started_at__0': None, 'device_id__1': None, 'description__1': None, 'completed_at__1': None, 'status__1': 'pending', 'cron_string__1': None, 'is_system_job__1': False, 'name__1': 'list-test-job-1', 'job_type__1': 'backup', 'is_enabled__1': True, 'schedule_type__1': 'onetime', 'interval_seconds__1': None, 'scheduled_for__1': '2025-01-01T00:00:00Z', 'started_at__1': None, 'device_id__2': None, 'description__2': None, 'completed_at__2': None, 'status__2': 'pending', 'cron_string__2': None, 'is_system_job__2': False, 'name__2': 'list-test-job-2', 'job_type__2': 'backup', 'is_enabled__2': True, 'schedule_type__2': 'onetime', 'interval_seconds__2': None, 'scheduled_for__2': '2025-01-01T00:00:00Z', 'started_at__2': None}
2025-04-22 21:44:14,953 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:14,953 - INFO - COMMIT
2025-04-22 21:44:14,958 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:14,958 - INFO - BEGIN (implicit)
2025-04-22 21:44:14,960 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs) AS anon_1
2025-04-22 21:44:14,960 - INFO - SELECT count(*) AS count_1 
FROM (SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs) AS anon_1
2025-04-22 21:44:14,960 INFO sqlalchemy.engine.Engine [generated in 0.00015s] {}
2025-04-22 21:44:14,960 - INFO - [generated in 0.00015s] {}
2025-04-22 21:44:14,961 INFO sqlalchemy.engine.Engine SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-04-22 21:44:14,961 - INFO - SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-04-22 21:44:14,961 INFO sqlalchemy.engine.Engine [generated in 0.00014s] {'param_1': 20, 'param_2': 0}
2025-04-22 21:44:14,961 - INFO - [generated in 0.00014s] {'param_1': 20, 'param_2': 0}
2025-04-22 21:44:14,962 INFO sqlalchemy.engine.Engine SELECT jobs_1.id AS jobs_1_id, tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM jobs AS jobs_1 JOIN job_tags AS job_tags_1 ON jobs_1.id = job_tags_1.job_id JOIN tags ON tags.id = job_tags_1.tag_id 
WHERE jobs_1.id IN (%(primary_keys_1)s, %(primary_keys_2)s, %(primary_keys_3)s)
2025-04-22 21:44:14,962 - INFO - SELECT jobs_1.id AS jobs_1_id, tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM jobs AS jobs_1 JOIN job_tags AS job_tags_1 ON jobs_1.id = job_tags_1.job_id JOIN tags ON tags.id = job_tags_1.tag_id 
WHERE jobs_1.id IN (%(primary_keys_1)s, %(primary_keys_2)s, %(primary_keys_3)s)
2025-04-22 21:44:14,962 INFO sqlalchemy.engine.Engine [cached since 2.674s ago] {'primary_keys_1': 1, 'primary_keys_2': 2, 'primary_keys_3': 3}
2025-04-22 21:44:14,962 - INFO - [cached since 2.674s ago] {'primary_keys_1': 1, 'primary_keys_2': 2, 'primary_keys_3': 3}
2025-04-22 21:44:14,964 INFO sqlalchemy.engine.Engine ROLLBACK
2025-04-22 21:44:14,964 - INFO - ROLLBACK
2025-04-22 21:44:14,964 - INFO - HTTP Request: GET http://testserver/jobs/ "HTTP/1.1 200 OK"
[32m.[0m2025-04-22 21:44:14,965 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:14,965 - INFO - BEGIN (implicit)
2025-04-22 21:44:14,965 INFO sqlalchemy.engine.Engine SET session_replication_role = 'replica';
2025-04-22 21:44:14,965 - INFO - SET session_replication_role = 'replica';
2025-04-22 21:44:14,966 INFO sqlalchemy.engine.Engine [cached since 3.235s ago] {}
2025-04-22 21:44:14,966 - INFO - [cached since 3.235s ago] {}
2025-04-22 21:44:14,966 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,966 - INFO - TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,966 INFO sqlalchemy.engine.Engine [cached since 3.235s ago] {}
2025-04-22 21:44:14,966 - INFO - [cached since 3.235s ago] {}
2025-04-22 21:44:14,969 INFO sqlalchemy.engine.Engine TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,969 - INFO - TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,969 INFO sqlalchemy.engine.Engine [cached since 3.235s ago] {}
2025-04-22 21:44:14,969 - INFO - [cached since 3.235s ago] {}
2025-04-22 21:44:14,973 INFO sqlalchemy.engine.Engine TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,973 - INFO - TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,973 INFO sqlalchemy.engine.Engine [cached since 3.235s ago] {}
2025-04-22 21:44:14,973 - INFO - [cached since 3.235s ago] {}
2025-04-22 21:44:14,976 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,976 - INFO - TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,976 INFO sqlalchemy.engine.Engine [cached since 3.235s ago] {}
2025-04-22 21:44:14,976 - INFO - [cached since 3.235s ago] {}
2025-04-22 21:44:14,987 INFO sqlalchemy.engine.Engine TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,987 - INFO - TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:14,987 INFO sqlalchemy.engine.Engine [cached since 3.234s ago] {}
2025-04-22 21:44:14,987 - INFO - [cached since 3.234s ago] {}
2025-04-22 21:44:15,053 INFO sqlalchemy.engine.Engine TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,053 - INFO - TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,054 INFO sqlalchemy.engine.Engine [cached since 3.187s ago] {}
2025-04-22 21:44:15,054 - INFO - [cached since 3.187s ago] {}
2025-04-22 21:44:15,120 INFO sqlalchemy.engine.Engine TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,120 - INFO - TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,120 INFO sqlalchemy.engine.Engine [cached since 3.155s ago] {}
2025-04-22 21:44:15,120 - INFO - [cached since 3.155s ago] {}
2025-04-22 21:44:15,145 INFO sqlalchemy.engine.Engine TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,145 - INFO - TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,145 INFO sqlalchemy.engine.Engine [cached since 3.138s ago] {}
2025-04-22 21:44:15,145 - INFO - [cached since 3.138s ago] {}
2025-04-22 21:44:15,157 INFO sqlalchemy.engine.Engine SET session_replication_role = 'origin';
2025-04-22 21:44:15,157 - INFO - SET session_replication_role = 'origin';
2025-04-22 21:44:15,157 INFO sqlalchemy.engine.Engine [cached since 3.126s ago] {}
2025-04-22 21:44:15,157 - INFO - [cached since 3.126s ago] {}
2025-04-22 21:44:15,157 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:15,157 - INFO - COMMIT
2025-04-22 21:44:15,160 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:15,160 - INFO - BEGIN (implicit)
2025-04-22 21:44:15,160 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:15,160 - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:15,160 INFO sqlalchemy.engine.Engine [cached since 3.114s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:15,160 - INFO - [cached since 3.114s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:15,161 - INFO - Creating new test admin: testadmin
2025-04-22 21:44:15,316 INFO sqlalchemy.engine.Engine INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:15,316 - INFO - INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:15,317 INFO sqlalchemy.engine.Engine [cached since 3.098s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$Q1WMu2R4F0b/sApo8LqexePyP5862/n60D4gu9bZfak7/3AyUzcl6', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:15,317 - INFO - [cached since 3.098s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$Q1WMu2R4F0b/sApo8LqexePyP5862/n60D4gu9bZfak7/3AyUzcl6', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:15,317 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:15,317 - INFO - COMMIT
2025-04-22 21:44:15,319 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:15,319 - INFO - BEGIN (implicit)
2025-04-22 21:44:15,320 INFO sqlalchemy.engine.Engine SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:15,320 - INFO - SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:15,320 INFO sqlalchemy.engine.Engine [cached since 3.088s ago] {'pk_1': 1}
2025-04-22 21:44:15,320 - INFO - [cached since 3.088s ago] {'pk_1': 1}
2025-04-22 21:44:15,320 - INFO - Created test admin with ID: 1
2025-04-22 21:44:15,321 - INFO - Created admin token for user: testadmin
2025-04-22 21:44:15,322 INFO sqlalchemy.engine.Engine INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) SELECT p0::VARCHAR, p1::VARCHAR, p2::VARCHAR, p3::VARCHAR, p4::TIMESTA ... 1497 characters truncated ... p6, p7, p8, p9, p10, p11, p12, sen_counter) ORDER BY sen_counter RETURNING jobs.id, jobs.id AS id__1
2025-04-22 21:44:15,322 - INFO - INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) SELECT p0::VARCHAR, p1::VARCHAR, p2::VARCHAR, p3::VARCHAR, p4::TIMESTA ... 1497 characters truncated ... p6, p7, p8, p9, p10, p11, p12, sen_counter) ORDER BY sen_counter RETURNING jobs.id, jobs.id AS id__1
2025-04-22 21:44:15,322 INFO sqlalchemy.engine.Engine [cached since 0.3701s ago (insertmanyvalues) 1/1 (ordered)] {'device_id__0': None, 'description__0': None, 'completed_at__0': None, 'status__0': 'pending', 'cron_string__0': None, 'is_system_job__0': False, 'name__0': 'pagination-test-job-0', 'job_type__0': 'backup', 'is_enabled__0': True, 'schedule_type__0': 'onetime', 'interval_seconds__0': None, 'scheduled_for__0': '2025-01-01T00:00:00Z', 'started_at__0': None, 'device_id__1': None, 'description__1': None, 'completed_at__1': None, 'status__1': 'pending', 'cron_string__1': None, 'is_system_job__1': False, 'name__1': 'pagination-test-job-1', 'job_type__1': 'backup', 'is_enabled__1': True, 'schedule_type__1': 'onetime', 'interval_seconds__1': None, 'scheduled_for__1': '2025-01-01T00:00:00Z', 'started_at__1': None, 'device_id__2': None, 'description__2': None, 'completed_at__2': None, 'status__2': 'pending', 'cron_string__2': None, 'is_system_job__2': False, 'name__2': 'pagination-test-job-2', 'job_type__2': 'backup', 'is_enabled__2': True, 'schedule_type__2': 'onetime', 'interval_seconds__2': None, 'scheduled_for__2': '2025-01-01T00:00:00Z', 'started_at__2': None, 'device_id__3': None, 'description__3': None, 'completed_at__3': None, 'status__3': 'pending', 'cron_string__3': None, 'is_system_job__3': False, 'name__3': 'pagination-test-job-3', 'job_type__3': 'backup', 'is_enabled__3': True, 'schedule_type__3': 'onetime', 'interval_seconds__3': None, 'scheduled_for__3': '2025-01-01T00:00:00Z', 'started_at__3': None, 'device_id__4': None, 'description__4': None, 'completed_at__4': None, 'status__4': 'pending', 'cron_string__4': None, 'is_system_job__4': False, 'name__4': 'pagination-test-job-4', 'job_type__4': 'backup', 'is_enabled__4': True, 'schedule_type__4': 'onetime', 'interval_seconds__4': None, 'scheduled_for__4': '2025-01-01T00:00:00Z', 'started_at__4': None}
2025-04-22 21:44:15,322 - INFO - [cached since 0.3701s ago (insertmanyvalues) 1/1 (ordered)] {'device_id__0': None, 'description__0': None, 'completed_at__0': None, 'status__0': 'pending', 'cron_string__0': None, 'is_system_job__0': False, 'name__0': 'pagination-test-job-0', 'job_type__0': 'backup', 'is_enabled__0': True, 'schedule_type__0': 'onetime', 'interval_seconds__0': None, 'scheduled_for__0': '2025-01-01T00:00:00Z', 'started_at__0': None, 'device_id__1': None, 'description__1': None, 'completed_at__1': None, 'status__1': 'pending', 'cron_string__1': None, 'is_system_job__1': False, 'name__1': 'pagination-test-job-1', 'job_type__1': 'backup', 'is_enabled__1': True, 'schedule_type__1': 'onetime', 'interval_seconds__1': None, 'scheduled_for__1': '2025-01-01T00:00:00Z', 'started_at__1': None, 'device_id__2': None, 'description__2': None, 'completed_at__2': None, 'status__2': 'pending', 'cron_string__2': None, 'is_system_job__2': False, 'name__2': 'pagination-test-job-2', 'job_type__2': 'backup', 'is_enabled__2': True, 'schedule_type__2': 'onetime', 'interval_seconds__2': None, 'scheduled_for__2': '2025-01-01T00:00:00Z', 'started_at__2': None, 'device_id__3': None, 'description__3': None, 'completed_at__3': None, 'status__3': 'pending', 'cron_string__3': None, 'is_system_job__3': False, 'name__3': 'pagination-test-job-3', 'job_type__3': 'backup', 'is_enabled__3': True, 'schedule_type__3': 'onetime', 'interval_seconds__3': None, 'scheduled_for__3': '2025-01-01T00:00:00Z', 'started_at__3': None, 'device_id__4': None, 'description__4': None, 'completed_at__4': None, 'status__4': 'pending', 'cron_string__4': None, 'is_system_job__4': False, 'name__4': 'pagination-test-job-4', 'job_type__4': 'backup', 'is_enabled__4': True, 'schedule_type__4': 'onetime', 'interval_seconds__4': None, 'scheduled_for__4': '2025-01-01T00:00:00Z', 'started_at__4': None}
2025-04-22 21:44:15,323 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:15,323 - INFO - COMMIT
2025-04-22 21:44:15,327 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:15,327 - INFO - BEGIN (implicit)
2025-04-22 21:44:15,327 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs) AS anon_1
2025-04-22 21:44:15,327 - INFO - SELECT count(*) AS count_1 
FROM (SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs) AS anon_1
2025-04-22 21:44:15,328 INFO sqlalchemy.engine.Engine [cached since 0.3678s ago] {}
2025-04-22 21:44:15,328 - INFO - [cached since 0.3678s ago] {}
2025-04-22 21:44:15,328 INFO sqlalchemy.engine.Engine SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-04-22 21:44:15,328 - INFO - SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-04-22 21:44:15,328 INFO sqlalchemy.engine.Engine [cached since 0.3672s ago] {'param_1': 2, 'param_2': 0}
2025-04-22 21:44:15,328 - INFO - [cached since 0.3672s ago] {'param_1': 2, 'param_2': 0}
2025-04-22 21:44:15,329 INFO sqlalchemy.engine.Engine SELECT jobs_1.id AS jobs_1_id, tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM jobs AS jobs_1 JOIN job_tags AS job_tags_1 ON jobs_1.id = job_tags_1.job_id JOIN tags ON tags.id = job_tags_1.tag_id 
WHERE jobs_1.id IN (%(primary_keys_1)s, %(primary_keys_2)s)
2025-04-22 21:44:15,329 - INFO - SELECT jobs_1.id AS jobs_1_id, tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM jobs AS jobs_1 JOIN job_tags AS job_tags_1 ON jobs_1.id = job_tags_1.job_id JOIN tags ON tags.id = job_tags_1.tag_id 
WHERE jobs_1.id IN (%(primary_keys_1)s, %(primary_keys_2)s)
2025-04-22 21:44:15,329 INFO sqlalchemy.engine.Engine [cached since 3.041s ago] {'primary_keys_1': 1, 'primary_keys_2': 2}
2025-04-22 21:44:15,329 - INFO - [cached since 3.041s ago] {'primary_keys_1': 1, 'primary_keys_2': 2}
2025-04-22 21:44:15,330 INFO sqlalchemy.engine.Engine ROLLBACK
2025-04-22 21:44:15,330 - INFO - ROLLBACK
2025-04-22 21:44:15,331 - INFO - HTTP Request: GET http://testserver/jobs/?page=1&size=2 "HTTP/1.1 200 OK"
2025-04-22 21:44:15,333 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:15,333 - INFO - BEGIN (implicit)
2025-04-22 21:44:15,333 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs) AS anon_1
2025-04-22 21:44:15,333 - INFO - SELECT count(*) AS count_1 
FROM (SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs) AS anon_1
2025-04-22 21:44:15,333 INFO sqlalchemy.engine.Engine [cached since 0.3734s ago] {}
2025-04-22 21:44:15,333 - INFO - [cached since 0.3734s ago] {}
2025-04-22 21:44:15,334 INFO sqlalchemy.engine.Engine SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-04-22 21:44:15,334 - INFO - SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-04-22 21:44:15,334 INFO sqlalchemy.engine.Engine [cached since 0.3726s ago] {'param_1': 2, 'param_2': 2}
2025-04-22 21:44:15,334 - INFO - [cached since 0.3726s ago] {'param_1': 2, 'param_2': 2}
2025-04-22 21:44:15,334 INFO sqlalchemy.engine.Engine SELECT jobs_1.id AS jobs_1_id, tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM jobs AS jobs_1 JOIN job_tags AS job_tags_1 ON jobs_1.id = job_tags_1.job_id JOIN tags ON tags.id = job_tags_1.tag_id 
WHERE jobs_1.id IN (%(primary_keys_1)s, %(primary_keys_2)s)
2025-04-22 21:44:15,334 - INFO - SELECT jobs_1.id AS jobs_1_id, tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM jobs AS jobs_1 JOIN job_tags AS job_tags_1 ON jobs_1.id = job_tags_1.job_id JOIN tags ON tags.id = job_tags_1.tag_id 
WHERE jobs_1.id IN (%(primary_keys_1)s, %(primary_keys_2)s)
2025-04-22 21:44:15,334 INFO sqlalchemy.engine.Engine [cached since 3.046s ago] {'primary_keys_1': 3, 'primary_keys_2': 4}
2025-04-22 21:44:15,334 - INFO - [cached since 3.046s ago] {'primary_keys_1': 3, 'primary_keys_2': 4}
2025-04-22 21:44:15,335 INFO sqlalchemy.engine.Engine ROLLBACK
2025-04-22 21:44:15,335 - INFO - ROLLBACK
2025-04-22 21:44:15,336 - INFO - HTTP Request: GET http://testserver/jobs/?page=2&size=2 "HTTP/1.1 200 OK"
[32m.[0m2025-04-22 21:44:15,337 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:15,337 - INFO - BEGIN (implicit)
2025-04-22 21:44:15,337 INFO sqlalchemy.engine.Engine SET session_replication_role = 'replica';
2025-04-22 21:44:15,337 - INFO - SET session_replication_role = 'replica';
2025-04-22 21:44:15,337 INFO sqlalchemy.engine.Engine [cached since 3.607s ago] {}
2025-04-22 21:44:15,337 - INFO - [cached since 3.607s ago] {}
2025-04-22 21:44:15,337 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,337 - INFO - TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,338 INFO sqlalchemy.engine.Engine [cached since 3.607s ago] {}
2025-04-22 21:44:15,338 - INFO - [cached since 3.607s ago] {}
2025-04-22 21:44:15,341 INFO sqlalchemy.engine.Engine TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,341 - INFO - TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,341 INFO sqlalchemy.engine.Engine [cached since 3.607s ago] {}
2025-04-22 21:44:15,341 - INFO - [cached since 3.607s ago] {}
2025-04-22 21:44:15,344 INFO sqlalchemy.engine.Engine TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,344 - INFO - TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,344 INFO sqlalchemy.engine.Engine [cached since 3.607s ago] {}
2025-04-22 21:44:15,344 - INFO - [cached since 3.607s ago] {}
2025-04-22 21:44:15,348 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,348 - INFO - TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,348 INFO sqlalchemy.engine.Engine [cached since 3.607s ago] {}
2025-04-22 21:44:15,348 - INFO - [cached since 3.607s ago] {}
2025-04-22 21:44:15,362 INFO sqlalchemy.engine.Engine TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,362 - INFO - TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,362 INFO sqlalchemy.engine.Engine [cached since 3.609s ago] {}
2025-04-22 21:44:15,362 - INFO - [cached since 3.609s ago] {}
2025-04-22 21:44:15,431 INFO sqlalchemy.engine.Engine TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,431 - INFO - TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,431 INFO sqlalchemy.engine.Engine [cached since 3.565s ago] {}
2025-04-22 21:44:15,431 - INFO - [cached since 3.565s ago] {}
2025-04-22 21:44:15,512 INFO sqlalchemy.engine.Engine TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,512 - INFO - TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,512 INFO sqlalchemy.engine.Engine [cached since 3.548s ago] {}
2025-04-22 21:44:15,512 - INFO - [cached since 3.548s ago] {}
2025-04-22 21:44:15,539 INFO sqlalchemy.engine.Engine TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,539 - INFO - TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,539 INFO sqlalchemy.engine.Engine [cached since 3.532s ago] {}
2025-04-22 21:44:15,539 - INFO - [cached since 3.532s ago] {}
2025-04-22 21:44:15,552 INFO sqlalchemy.engine.Engine SET session_replication_role = 'origin';
2025-04-22 21:44:15,552 - INFO - SET session_replication_role = 'origin';
2025-04-22 21:44:15,552 INFO sqlalchemy.engine.Engine [cached since 3.521s ago] {}
2025-04-22 21:44:15,552 - INFO - [cached since 3.521s ago] {}
2025-04-22 21:44:15,552 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:15,552 - INFO - COMMIT
2025-04-22 21:44:15,555 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:15,555 - INFO - BEGIN (implicit)
2025-04-22 21:44:15,555 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:15,555 - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:15,555 INFO sqlalchemy.engine.Engine [cached since 3.509s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:15,555 - INFO - [cached since 3.509s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:15,556 - INFO - Creating new test admin: testadmin
2025-04-22 21:44:15,711 INFO sqlalchemy.engine.Engine INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:15,711 - INFO - INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:15,711 INFO sqlalchemy.engine.Engine [cached since 3.492s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$jtLoeJiWma5SbMftolNhIuIidtGyTffQ/2fHlsqQC5fyDsXZ7pAH.', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:15,711 - INFO - [cached since 3.492s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$jtLoeJiWma5SbMftolNhIuIidtGyTffQ/2fHlsqQC5fyDsXZ7pAH.', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:15,712 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:15,712 - INFO - COMMIT
2025-04-22 21:44:15,714 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:15,714 - INFO - BEGIN (implicit)
2025-04-22 21:44:15,714 INFO sqlalchemy.engine.Engine SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:15,714 - INFO - SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:15,714 INFO sqlalchemy.engine.Engine [cached since 3.483s ago] {'pk_1': 1}
2025-04-22 21:44:15,714 - INFO - [cached since 3.483s ago] {'pk_1': 1}
2025-04-22 21:44:15,715 - INFO - Created test admin with ID: 1
2025-04-22 21:44:15,715 - INFO - Created admin token for user: testadmin
2025-04-22 21:44:15,716 INFO sqlalchemy.engine.Engine INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) SELECT p0::VARCHAR, p1::VARCHAR, p2::VARCHAR, p3::VARCHAR, p4::TIMESTA ... 981 characters truncated ... p6, p7, p8, p9, p10, p11, p12, sen_counter) ORDER BY sen_counter RETURNING jobs.id, jobs.id AS id__1
2025-04-22 21:44:15,716 - INFO - INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) SELECT p0::VARCHAR, p1::VARCHAR, p2::VARCHAR, p3::VARCHAR, p4::TIMESTA ... 981 characters truncated ... p6, p7, p8, p9, p10, p11, p12, sen_counter) ORDER BY sen_counter RETURNING jobs.id, jobs.id AS id__1
2025-04-22 21:44:15,716 INFO sqlalchemy.engine.Engine [cached since 0.7644s ago (insertmanyvalues) 1/1 (ordered)] {'device_id__0': None, 'description__0': None, 'completed_at__0': None, 'status__0': 'success', 'cron_string__0': '* * * * *', 'is_system_job__0': False, 'name__0': 'filter-cron-success', 'job_type__0': 'backup', 'is_enabled__0': True, 'schedule_type__0': 'cron', 'interval_seconds__0': None, 'scheduled_for__0': '2025-01-01T00:00:00Z', 'started_at__0': None, 'device_id__1': None, 'description__1': None, 'completed_at__1': None, 'status__1': 'failed', 'cron_string__1': None, 'is_system_job__1': False, 'name__1': 'filter-interval-failed', 'job_type__1': 'backup', 'is_enabled__1': True, 'schedule_type__1': 'interval', 'interval_seconds__1': 3600, 'scheduled_for__1': '2025-01-01T00:00:00Z', 'started_at__1': None, 'device_id__2': None, 'description__2': None, 'completed_at__2': None, 'status__2': 'pending', 'cron_string__2': '* * * * *', 'is_system_job__2': False, 'name__2': 'filter-cron-pending', 'job_type__2': 'backup', 'is_enabled__2': False, 'schedule_type__2': 'cron', 'interval_seconds__2': None, 'scheduled_for__2': '2025-01-01T00:00:00Z', 'started_at__2': None}
2025-04-22 21:44:15,716 - INFO - [cached since 0.7644s ago (insertmanyvalues) 1/1 (ordered)] {'device_id__0': None, 'description__0': None, 'completed_at__0': None, 'status__0': 'success', 'cron_string__0': '* * * * *', 'is_system_job__0': False, 'name__0': 'filter-cron-success', 'job_type__0': 'backup', 'is_enabled__0': True, 'schedule_type__0': 'cron', 'interval_seconds__0': None, 'scheduled_for__0': '2025-01-01T00:00:00Z', 'started_at__0': None, 'device_id__1': None, 'description__1': None, 'completed_at__1': None, 'status__1': 'failed', 'cron_string__1': None, 'is_system_job__1': False, 'name__1': 'filter-interval-failed', 'job_type__1': 'backup', 'is_enabled__1': True, 'schedule_type__1': 'interval', 'interval_seconds__1': 3600, 'scheduled_for__1': '2025-01-01T00:00:00Z', 'started_at__1': None, 'device_id__2': None, 'description__2': None, 'completed_at__2': None, 'status__2': 'pending', 'cron_string__2': '* * * * *', 'is_system_job__2': False, 'name__2': 'filter-cron-pending', 'job_type__2': 'backup', 'is_enabled__2': False, 'schedule_type__2': 'cron', 'interval_seconds__2': None, 'scheduled_for__2': '2025-01-01T00:00:00Z', 'started_at__2': None}
2025-04-22 21:44:15,717 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:15,717 - INFO - COMMIT
2025-04-22 21:44:15,721 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:15,721 - INFO - BEGIN (implicit)
2025-04-22 21:44:15,722 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.name ILIKE %(name_1)s) AS anon_1
2025-04-22 21:44:15,722 - INFO - SELECT count(*) AS count_1 
FROM (SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.name ILIKE %(name_1)s) AS anon_1
2025-04-22 21:44:15,722 INFO sqlalchemy.engine.Engine [generated in 0.00014s] {'name_1': '%filter-cron%'}
2025-04-22 21:44:15,722 - INFO - [generated in 0.00014s] {'name_1': '%filter-cron%'}
2025-04-22 21:44:15,724 INFO sqlalchemy.engine.Engine SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.name ILIKE %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-04-22 21:44:15,724 - INFO - SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.name ILIKE %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-04-22 21:44:15,724 INFO sqlalchemy.engine.Engine [generated in 0.00014s] {'name_1': '%filter-cron%', 'param_1': 20, 'param_2': 0}
2025-04-22 21:44:15,724 - INFO - [generated in 0.00014s] {'name_1': '%filter-cron%', 'param_1': 20, 'param_2': 0}
2025-04-22 21:44:15,725 INFO sqlalchemy.engine.Engine SELECT jobs_1.id AS jobs_1_id, tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM jobs AS jobs_1 JOIN job_tags AS job_tags_1 ON jobs_1.id = job_tags_1.job_id JOIN tags ON tags.id = job_tags_1.tag_id 
WHERE jobs_1.id IN (%(primary_keys_1)s, %(primary_keys_2)s)
2025-04-22 21:44:15,725 - INFO - SELECT jobs_1.id AS jobs_1_id, tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM jobs AS jobs_1 JOIN job_tags AS job_tags_1 ON jobs_1.id = job_tags_1.job_id JOIN tags ON tags.id = job_tags_1.tag_id 
WHERE jobs_1.id IN (%(primary_keys_1)s, %(primary_keys_2)s)
2025-04-22 21:44:15,725 INFO sqlalchemy.engine.Engine [cached since 3.437s ago] {'primary_keys_1': 1, 'primary_keys_2': 3}
2025-04-22 21:44:15,725 - INFO - [cached since 3.437s ago] {'primary_keys_1': 1, 'primary_keys_2': 3}
2025-04-22 21:44:15,727 INFO sqlalchemy.engine.Engine ROLLBACK
2025-04-22 21:44:15,727 - INFO - ROLLBACK
2025-04-22 21:44:15,728 - INFO - HTTP Request: GET http://testserver/jobs/?name=filter-cron "HTTP/1.1 200 OK"
2025-04-22 21:44:15,730 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:15,730 - INFO - BEGIN (implicit)
2025-04-22 21:44:15,731 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.schedule_type = %(schedule_type_1)s) AS anon_1
2025-04-22 21:44:15,731 - INFO - SELECT count(*) AS count_1 
FROM (SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.schedule_type = %(schedule_type_1)s) AS anon_1
2025-04-22 21:44:15,731 INFO sqlalchemy.engine.Engine [generated in 0.00013s] {'schedule_type_1': 'cron'}
2025-04-22 21:44:15,731 - INFO - [generated in 0.00013s] {'schedule_type_1': 'cron'}
2025-04-22 21:44:15,732 INFO sqlalchemy.engine.Engine SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.schedule_type = %(schedule_type_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-04-22 21:44:15,732 - INFO - SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.schedule_type = %(schedule_type_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-04-22 21:44:15,732 INFO sqlalchemy.engine.Engine [generated in 0.00014s] {'schedule_type_1': 'cron', 'param_1': 20, 'param_2': 0}
2025-04-22 21:44:15,732 - INFO - [generated in 0.00014s] {'schedule_type_1': 'cron', 'param_1': 20, 'param_2': 0}
2025-04-22 21:44:15,733 INFO sqlalchemy.engine.Engine SELECT jobs_1.id AS jobs_1_id, tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM jobs AS jobs_1 JOIN job_tags AS job_tags_1 ON jobs_1.id = job_tags_1.job_id JOIN tags ON tags.id = job_tags_1.tag_id 
WHERE jobs_1.id IN (%(primary_keys_1)s, %(primary_keys_2)s)
2025-04-22 21:44:15,733 - INFO - SELECT jobs_1.id AS jobs_1_id, tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM jobs AS jobs_1 JOIN job_tags AS job_tags_1 ON jobs_1.id = job_tags_1.job_id JOIN tags ON tags.id = job_tags_1.tag_id 
WHERE jobs_1.id IN (%(primary_keys_1)s, %(primary_keys_2)s)
2025-04-22 21:44:15,733 INFO sqlalchemy.engine.Engine [cached since 3.445s ago] {'primary_keys_1': 1, 'primary_keys_2': 3}
2025-04-22 21:44:15,733 - INFO - [cached since 3.445s ago] {'primary_keys_1': 1, 'primary_keys_2': 3}
2025-04-22 21:44:15,734 INFO sqlalchemy.engine.Engine ROLLBACK
2025-04-22 21:44:15,734 - INFO - ROLLBACK
2025-04-22 21:44:15,735 - INFO - HTTP Request: GET http://testserver/jobs/?schedule_type=cron "HTTP/1.1 200 OK"
2025-04-22 21:44:15,737 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:15,737 - INFO - BEGIN (implicit)
2025-04-22 21:44:15,738 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.status = %(status_1)s) AS anon_1
2025-04-22 21:44:15,738 - INFO - SELECT count(*) AS count_1 
FROM (SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.status = %(status_1)s) AS anon_1
2025-04-22 21:44:15,738 INFO sqlalchemy.engine.Engine [generated in 0.00013s] {'status_1': 'failed'}
2025-04-22 21:44:15,738 - INFO - [generated in 0.00013s] {'status_1': 'failed'}
2025-04-22 21:44:15,739 INFO sqlalchemy.engine.Engine SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.status = %(status_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-04-22 21:44:15,739 - INFO - SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.status = %(status_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-04-22 21:44:15,739 INFO sqlalchemy.engine.Engine [generated in 0.00013s] {'status_1': 'failed', 'param_1': 20, 'param_2': 0}
2025-04-22 21:44:15,739 - INFO - [generated in 0.00013s] {'status_1': 'failed', 'param_1': 20, 'param_2': 0}
2025-04-22 21:44:15,740 INFO sqlalchemy.engine.Engine SELECT jobs_1.id AS jobs_1_id, tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM jobs AS jobs_1 JOIN job_tags AS job_tags_1 ON jobs_1.id = job_tags_1.job_id JOIN tags ON tags.id = job_tags_1.tag_id 
WHERE jobs_1.id IN (%(primary_keys_1)s)
2025-04-22 21:44:15,740 - INFO - SELECT jobs_1.id AS jobs_1_id, tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM jobs AS jobs_1 JOIN job_tags AS job_tags_1 ON jobs_1.id = job_tags_1.job_id JOIN tags ON tags.id = job_tags_1.tag_id 
WHERE jobs_1.id IN (%(primary_keys_1)s)
2025-04-22 21:44:15,740 INFO sqlalchemy.engine.Engine [cached since 3.452s ago] {'primary_keys_1': 2}
2025-04-22 21:44:15,740 - INFO - [cached since 3.452s ago] {'primary_keys_1': 2}
2025-04-22 21:44:15,741 INFO sqlalchemy.engine.Engine ROLLBACK
2025-04-22 21:44:15,741 - INFO - ROLLBACK
2025-04-22 21:44:15,742 - INFO - HTTP Request: GET http://testserver/jobs/?status=failed "HTTP/1.1 200 OK"
2025-04-22 21:44:15,744 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:15,744 - INFO - BEGIN (implicit)
2025-04-22 21:44:15,746 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.is_enabled = false) AS anon_1
2025-04-22 21:44:15,746 - INFO - SELECT count(*) AS count_1 
FROM (SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.is_enabled = false) AS anon_1
2025-04-22 21:44:15,746 INFO sqlalchemy.engine.Engine [generated in 0.00014s] {}
2025-04-22 21:44:15,746 - INFO - [generated in 0.00014s] {}
2025-04-22 21:44:15,747 INFO sqlalchemy.engine.Engine SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.is_enabled = false 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-04-22 21:44:15,747 - INFO - SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.is_enabled = false 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-04-22 21:44:15,747 INFO sqlalchemy.engine.Engine [generated in 0.00012s] {'param_1': 20, 'param_2': 0}
2025-04-22 21:44:15,747 - INFO - [generated in 0.00012s] {'param_1': 20, 'param_2': 0}
2025-04-22 21:44:15,748 INFO sqlalchemy.engine.Engine SELECT jobs_1.id AS jobs_1_id, tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM jobs AS jobs_1 JOIN job_tags AS job_tags_1 ON jobs_1.id = job_tags_1.job_id JOIN tags ON tags.id = job_tags_1.tag_id 
WHERE jobs_1.id IN (%(primary_keys_1)s)
2025-04-22 21:44:15,748 - INFO - SELECT jobs_1.id AS jobs_1_id, tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM jobs AS jobs_1 JOIN job_tags AS job_tags_1 ON jobs_1.id = job_tags_1.job_id JOIN tags ON tags.id = job_tags_1.tag_id 
WHERE jobs_1.id IN (%(primary_keys_1)s)
2025-04-22 21:44:15,748 INFO sqlalchemy.engine.Engine [cached since 3.46s ago] {'primary_keys_1': 3}
2025-04-22 21:44:15,748 - INFO - [cached since 3.46s ago] {'primary_keys_1': 3}
2025-04-22 21:44:15,749 INFO sqlalchemy.engine.Engine ROLLBACK
2025-04-22 21:44:15,749 - INFO - ROLLBACK
2025-04-22 21:44:15,749 - INFO - HTTP Request: GET http://testserver/jobs/?is_enabled=false "HTTP/1.1 200 OK"
[32m.[0m2025-04-22 21:44:15,750 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:15,750 - INFO - BEGIN (implicit)
2025-04-22 21:44:15,750 INFO sqlalchemy.engine.Engine SET session_replication_role = 'replica';
2025-04-22 21:44:15,750 - INFO - SET session_replication_role = 'replica';
2025-04-22 21:44:15,751 INFO sqlalchemy.engine.Engine [cached since 4.02s ago] {}
2025-04-22 21:44:15,751 - INFO - [cached since 4.02s ago] {}
2025-04-22 21:44:15,751 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,751 - INFO - TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,751 INFO sqlalchemy.engine.Engine [cached since 4.02s ago] {}
2025-04-22 21:44:15,751 - INFO - [cached since 4.02s ago] {}
2025-04-22 21:44:15,754 INFO sqlalchemy.engine.Engine TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,754 - INFO - TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,754 INFO sqlalchemy.engine.Engine [cached since 4.02s ago] {}
2025-04-22 21:44:15,754 - INFO - [cached since 4.02s ago] {}
2025-04-22 21:44:15,757 INFO sqlalchemy.engine.Engine TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,757 - INFO - TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,757 INFO sqlalchemy.engine.Engine [cached since 4.019s ago] {}
2025-04-22 21:44:15,757 - INFO - [cached since 4.019s ago] {}
2025-04-22 21:44:15,761 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,761 - INFO - TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,761 INFO sqlalchemy.engine.Engine [cached since 4.02s ago] {}
2025-04-22 21:44:15,761 - INFO - [cached since 4.02s ago] {}
2025-04-22 21:44:15,772 INFO sqlalchemy.engine.Engine TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,772 - INFO - TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,772 INFO sqlalchemy.engine.Engine [cached since 4.019s ago] {}
2025-04-22 21:44:15,772 - INFO - [cached since 4.019s ago] {}
2025-04-22 21:44:15,839 INFO sqlalchemy.engine.Engine TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,839 - INFO - TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,839 INFO sqlalchemy.engine.Engine [cached since 3.973s ago] {}
2025-04-22 21:44:15,839 - INFO - [cached since 3.973s ago] {}
2025-04-22 21:44:15,904 INFO sqlalchemy.engine.Engine TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,904 - INFO - TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,904 INFO sqlalchemy.engine.Engine [cached since 3.939s ago] {}
2025-04-22 21:44:15,904 - INFO - [cached since 3.939s ago] {}
2025-04-22 21:44:15,932 INFO sqlalchemy.engine.Engine TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,932 - INFO - TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:15,932 INFO sqlalchemy.engine.Engine [cached since 3.925s ago] {}
2025-04-22 21:44:15,932 - INFO - [cached since 3.925s ago] {}
2025-04-22 21:44:15,944 INFO sqlalchemy.engine.Engine SET session_replication_role = 'origin';
2025-04-22 21:44:15,944 - INFO - SET session_replication_role = 'origin';
2025-04-22 21:44:15,944 INFO sqlalchemy.engine.Engine [cached since 3.914s ago] {}
2025-04-22 21:44:15,944 - INFO - [cached since 3.914s ago] {}
2025-04-22 21:44:15,945 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:15,945 - INFO - COMMIT
2025-04-22 21:44:15,948 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:15,948 - INFO - BEGIN (implicit)
2025-04-22 21:44:15,948 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:15,948 - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:15,948 INFO sqlalchemy.engine.Engine [cached since 3.901s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:15,948 - INFO - [cached since 3.901s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:15,949 - INFO - Creating new test admin: testadmin
2025-04-22 21:44:16,105 INFO sqlalchemy.engine.Engine INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:16,105 - INFO - INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:16,105 INFO sqlalchemy.engine.Engine [cached since 3.886s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$DiN2fpI7mKUJI19sFEHFveHPCAFlWklWYcSI4SQVnykZzSeAixXgy', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:16,105 - INFO - [cached since 3.886s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$DiN2fpI7mKUJI19sFEHFveHPCAFlWklWYcSI4SQVnykZzSeAixXgy', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:16,106 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:16,106 - INFO - COMMIT
2025-04-22 21:44:16,108 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:16,108 - INFO - BEGIN (implicit)
2025-04-22 21:44:16,109 INFO sqlalchemy.engine.Engine SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:16,109 - INFO - SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:16,109 INFO sqlalchemy.engine.Engine [cached since 3.877s ago] {'pk_1': 1}
2025-04-22 21:44:16,109 - INFO - [cached since 3.877s ago] {'pk_1': 1}
2025-04-22 21:44:16,109 - INFO - Created test admin with ID: 1
2025-04-22 21:44:16,110 - INFO - Created admin token for user: testadmin
2025-04-22 21:44:16,111 INFO sqlalchemy.engine.Engine INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) VALUES (%(name)s, %(job_type)s, %(description)s, %(status)s, %(scheduled_for)s, %(started_at)s, %(completed_at)s, %(is_enabled)s, %(is_system_job)s, %(schedule_type)s, %(interval_seconds)s, %(cron_string)s, %(device_id)s) RETURNING jobs.id
2025-04-22 21:44:16,111 - INFO - INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) VALUES (%(name)s, %(job_type)s, %(description)s, %(status)s, %(scheduled_for)s, %(started_at)s, %(completed_at)s, %(is_enabled)s, %(is_system_job)s, %(schedule_type)s, %(interval_seconds)s, %(cron_string)s, %(device_id)s) RETURNING jobs.id
2025-04-22 21:44:16,111 INFO sqlalchemy.engine.Engine [generated in 0.00014s] {'name': 'get-by-id-test', 'job_type': 'backup', 'description': None, 'status': 'pending', 'scheduled_for': '2025-01-01T00:00:00Z', 'started_at': None, 'completed_at': None, 'is_enabled': True, 'is_system_job': False, 'schedule_type': 'onetime', 'interval_seconds': None, 'cron_string': None, 'device_id': None}
2025-04-22 21:44:16,111 - INFO - [generated in 0.00014s] {'name': 'get-by-id-test', 'job_type': 'backup', 'description': None, 'status': 'pending', 'scheduled_for': '2025-01-01T00:00:00Z', 'started_at': None, 'completed_at': None, 'is_enabled': True, 'is_system_job': False, 'schedule_type': 'onetime', 'interval_seconds': None, 'cron_string': None, 'device_id': None}
2025-04-22 21:44:16,111 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:16,111 - INFO - COMMIT
2025-04-22 21:44:16,114 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:16,114 - INFO - BEGIN (implicit)
2025-04-22 21:44:16,114 INFO sqlalchemy.engine.Engine SELECT jobs.id, jobs.name, jobs.job_type, jobs.description, jobs.status, jobs.scheduled_for, jobs.started_at, jobs.completed_at, jobs.is_enabled, jobs.is_system_job, jobs.schedule_type, jobs.interval_seconds, jobs.cron_string, jobs.device_id 
FROM jobs 
WHERE jobs.id = %(pk_1)s
2025-04-22 21:44:16,114 - INFO - SELECT jobs.id, jobs.name, jobs.job_type, jobs.description, jobs.status, jobs.scheduled_for, jobs.started_at, jobs.completed_at, jobs.is_enabled, jobs.is_system_job, jobs.schedule_type, jobs.interval_seconds, jobs.cron_string, jobs.device_id 
FROM jobs 
WHERE jobs.id = %(pk_1)s
2025-04-22 21:44:16,114 INFO sqlalchemy.engine.Engine [cached since 3.83s ago] {'pk_1': 1}
2025-04-22 21:44:16,114 - INFO - [cached since 3.83s ago] {'pk_1': 1}
2025-04-22 21:44:16,117 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:16,117 - INFO - BEGIN (implicit)
2025-04-22 21:44:16,117 INFO sqlalchemy.engine.Engine SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.id = %(id_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:16,117 - INFO - SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.id = %(id_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:16,117 INFO sqlalchemy.engine.Engine [cached since 3.831s ago] {'id_1': 1, 'param_1': 1}
2025-04-22 21:44:16,117 - INFO - [cached since 3.831s ago] {'id_1': 1, 'param_1': 1}
2025-04-22 21:44:16,118 INFO sqlalchemy.engine.Engine SELECT jobs_1.id AS jobs_1_id, tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM jobs AS jobs_1 JOIN job_tags AS job_tags_1 ON jobs_1.id = job_tags_1.job_id JOIN tags ON tags.id = job_tags_1.tag_id 
WHERE jobs_1.id IN (%(primary_keys_1)s)
2025-04-22 21:44:16,118 - INFO - SELECT jobs_1.id AS jobs_1_id, tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM jobs AS jobs_1 JOIN job_tags AS job_tags_1 ON jobs_1.id = job_tags_1.job_id JOIN tags ON tags.id = job_tags_1.tag_id 
WHERE jobs_1.id IN (%(primary_keys_1)s)
2025-04-22 21:44:16,118 INFO sqlalchemy.engine.Engine [cached since 3.83s ago] {'primary_keys_1': 1}
2025-04-22 21:44:16,118 - INFO - [cached since 3.83s ago] {'primary_keys_1': 1}
2025-04-22 21:44:16,119 INFO sqlalchemy.engine.Engine ROLLBACK
2025-04-22 21:44:16,119 - INFO - ROLLBACK
2025-04-22 21:44:16,120 - INFO - HTTP Request: GET http://testserver/jobs/1 "HTTP/1.1 200 OK"
[32m.[0m2025-04-22 21:44:16,120 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:16,120 - INFO - COMMIT
2025-04-22 21:44:16,121 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:16,121 - INFO - BEGIN (implicit)
2025-04-22 21:44:16,121 INFO sqlalchemy.engine.Engine SET session_replication_role = 'replica';
2025-04-22 21:44:16,121 - INFO - SET session_replication_role = 'replica';
2025-04-22 21:44:16,121 INFO sqlalchemy.engine.Engine [cached since 4.391s ago] {}
2025-04-22 21:44:16,121 - INFO - [cached since 4.391s ago] {}
2025-04-22 21:44:16,121 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,121 - INFO - TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,121 INFO sqlalchemy.engine.Engine [cached since 4.391s ago] {}
2025-04-22 21:44:16,121 - INFO - [cached since 4.391s ago] {}
2025-04-22 21:44:16,125 INFO sqlalchemy.engine.Engine TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,125 - INFO - TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,125 INFO sqlalchemy.engine.Engine [cached since 4.39s ago] {}
2025-04-22 21:44:16,125 - INFO - [cached since 4.39s ago] {}
2025-04-22 21:44:16,128 INFO sqlalchemy.engine.Engine TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,128 - INFO - TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,128 INFO sqlalchemy.engine.Engine [cached since 4.39s ago] {}
2025-04-22 21:44:16,128 - INFO - [cached since 4.39s ago] {}
2025-04-22 21:44:16,132 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,132 - INFO - TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,132 INFO sqlalchemy.engine.Engine [cached since 4.391s ago] {}
2025-04-22 21:44:16,132 - INFO - [cached since 4.391s ago] {}
2025-04-22 21:44:16,143 INFO sqlalchemy.engine.Engine TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,143 - INFO - TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,143 INFO sqlalchemy.engine.Engine [cached since 4.39s ago] {}
2025-04-22 21:44:16,143 - INFO - [cached since 4.39s ago] {}
2025-04-22 21:44:16,210 INFO sqlalchemy.engine.Engine TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,210 - INFO - TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,210 INFO sqlalchemy.engine.Engine [cached since 4.344s ago] {}
2025-04-22 21:44:16,210 - INFO - [cached since 4.344s ago] {}
2025-04-22 21:44:16,278 INFO sqlalchemy.engine.Engine TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,278 - INFO - TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,278 INFO sqlalchemy.engine.Engine [cached since 4.313s ago] {}
2025-04-22 21:44:16,278 - INFO - [cached since 4.313s ago] {}
2025-04-22 21:44:16,304 INFO sqlalchemy.engine.Engine TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,304 - INFO - TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,304 INFO sqlalchemy.engine.Engine [cached since 4.296s ago] {}
2025-04-22 21:44:16,304 - INFO - [cached since 4.296s ago] {}
2025-04-22 21:44:16,316 INFO sqlalchemy.engine.Engine SET session_replication_role = 'origin';
2025-04-22 21:44:16,316 - INFO - SET session_replication_role = 'origin';
2025-04-22 21:44:16,316 INFO sqlalchemy.engine.Engine [cached since 4.286s ago] {}
2025-04-22 21:44:16,316 - INFO - [cached since 4.286s ago] {}
2025-04-22 21:44:16,317 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:16,317 - INFO - COMMIT
2025-04-22 21:44:16,319 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:16,319 - INFO - BEGIN (implicit)
2025-04-22 21:44:16,319 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:16,319 - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:16,319 INFO sqlalchemy.engine.Engine [cached since 4.273s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:16,319 - INFO - [cached since 4.273s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:16,320 - INFO - Creating new test admin: testadmin
2025-04-22 21:44:16,477 INFO sqlalchemy.engine.Engine INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:16,477 - INFO - INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:16,477 INFO sqlalchemy.engine.Engine [cached since 4.258s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$FQZBXWX4fFbLAfjATlOLduxRaCWQrld2y6hw.m8QZ4vbhLPvjbr6C', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:16,477 - INFO - [cached since 4.258s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$FQZBXWX4fFbLAfjATlOLduxRaCWQrld2y6hw.m8QZ4vbhLPvjbr6C', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:16,478 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:16,478 - INFO - COMMIT
2025-04-22 21:44:16,481 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:16,481 - INFO - BEGIN (implicit)
2025-04-22 21:44:16,481 INFO sqlalchemy.engine.Engine SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:16,481 - INFO - SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:16,481 INFO sqlalchemy.engine.Engine [cached since 4.249s ago] {'pk_1': 1}
2025-04-22 21:44:16,481 - INFO - [cached since 4.249s ago] {'pk_1': 1}
2025-04-22 21:44:16,482 - INFO - Created test admin with ID: 1
2025-04-22 21:44:16,482 - INFO - Created admin token for user: testadmin
2025-04-22 21:44:16,485 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:16,485 - INFO - BEGIN (implicit)
2025-04-22 21:44:16,485 INFO sqlalchemy.engine.Engine SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.id = %(id_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:16,485 - INFO - SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.id = %(id_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:16,485 INFO sqlalchemy.engine.Engine [cached since 4.199s ago] {'id_1': 9999, 'param_1': 1}
2025-04-22 21:44:16,485 - INFO - [cached since 4.199s ago] {'id_1': 9999, 'param_1': 1}
2025-04-22 21:44:16,486 INFO sqlalchemy.engine.Engine ROLLBACK
2025-04-22 21:44:16,486 - INFO - ROLLBACK
2025-04-22 21:44:16,487 - INFO - HTTP Request: GET http://testserver/jobs/9999 "HTTP/1.1 404 Not Found"
[32m.[0m2025-04-22 21:44:16,488 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:16,488 - INFO - COMMIT
2025-04-22 21:44:16,488 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:16,488 - INFO - BEGIN (implicit)
2025-04-22 21:44:16,489 INFO sqlalchemy.engine.Engine SET session_replication_role = 'replica';
2025-04-22 21:44:16,489 - INFO - SET session_replication_role = 'replica';
2025-04-22 21:44:16,489 INFO sqlalchemy.engine.Engine [cached since 4.758s ago] {}
2025-04-22 21:44:16,489 - INFO - [cached since 4.758s ago] {}
2025-04-22 21:44:16,489 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,489 - INFO - TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,489 INFO sqlalchemy.engine.Engine [cached since 4.758s ago] {}
2025-04-22 21:44:16,489 - INFO - [cached since 4.758s ago] {}
2025-04-22 21:44:16,492 INFO sqlalchemy.engine.Engine TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,492 - INFO - TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,492 INFO sqlalchemy.engine.Engine [cached since 4.758s ago] {}
2025-04-22 21:44:16,492 - INFO - [cached since 4.758s ago] {}
2025-04-22 21:44:16,495 INFO sqlalchemy.engine.Engine TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,495 - INFO - TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,495 INFO sqlalchemy.engine.Engine [cached since 4.757s ago] {}
2025-04-22 21:44:16,495 - INFO - [cached since 4.757s ago] {}
2025-04-22 21:44:16,498 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,498 - INFO - TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,499 INFO sqlalchemy.engine.Engine [cached since 4.758s ago] {}
2025-04-22 21:44:16,499 - INFO - [cached since 4.758s ago] {}
2025-04-22 21:44:16,511 INFO sqlalchemy.engine.Engine TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,511 - INFO - TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,511 INFO sqlalchemy.engine.Engine [cached since 4.758s ago] {}
2025-04-22 21:44:16,511 - INFO - [cached since 4.758s ago] {}
2025-04-22 21:44:16,577 INFO sqlalchemy.engine.Engine TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,577 - INFO - TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,578 INFO sqlalchemy.engine.Engine [cached since 4.711s ago] {}
2025-04-22 21:44:16,578 - INFO - [cached since 4.711s ago] {}
2025-04-22 21:44:16,679 INFO sqlalchemy.engine.Engine TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,679 - INFO - TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,679 INFO sqlalchemy.engine.Engine [cached since 4.715s ago] {}
2025-04-22 21:44:16,679 - INFO - [cached since 4.715s ago] {}
2025-04-22 21:44:16,716 INFO sqlalchemy.engine.Engine TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,716 - INFO - TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,716 INFO sqlalchemy.engine.Engine [cached since 4.709s ago] {}
2025-04-22 21:44:16,716 - INFO - [cached since 4.709s ago] {}
2025-04-22 21:44:16,733 INFO sqlalchemy.engine.Engine SET session_replication_role = 'origin';
2025-04-22 21:44:16,733 - INFO - SET session_replication_role = 'origin';
2025-04-22 21:44:16,733 INFO sqlalchemy.engine.Engine [cached since 4.702s ago] {}
2025-04-22 21:44:16,733 - INFO - [cached since 4.702s ago] {}
2025-04-22 21:44:16,733 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:16,733 - INFO - COMMIT
2025-04-22 21:44:16,741 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:16,741 - INFO - BEGIN (implicit)
2025-04-22 21:44:16,741 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:16,741 - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:16,741 INFO sqlalchemy.engine.Engine [cached since 4.695s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:16,741 - INFO - [cached since 4.695s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:16,742 - INFO - Creating new test admin: testadmin
2025-04-22 21:44:16,897 INFO sqlalchemy.engine.Engine INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:16,897 - INFO - INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:16,897 INFO sqlalchemy.engine.Engine [cached since 4.678s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$DNSjFshpfVTP2Ugkdi5KPOCGjk082T6Y.FLxx1H07lizFr9BNVgA.', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:16,897 - INFO - [cached since 4.678s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$DNSjFshpfVTP2Ugkdi5KPOCGjk082T6Y.FLxx1H07lizFr9BNVgA.', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:16,898 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:16,898 - INFO - COMMIT
2025-04-22 21:44:16,901 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:16,901 - INFO - BEGIN (implicit)
2025-04-22 21:44:16,901 INFO sqlalchemy.engine.Engine SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:16,901 - INFO - SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:16,901 INFO sqlalchemy.engine.Engine [cached since 4.67s ago] {'pk_1': 1}
2025-04-22 21:44:16,901 - INFO - [cached since 4.67s ago] {'pk_1': 1}
2025-04-22 21:44:16,902 - INFO - Created test admin with ID: 1
2025-04-22 21:44:16,903 - INFO - Created admin token for user: testadmin
2025-04-22 21:44:16,903 INFO sqlalchemy.engine.Engine INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) VALUES (%(name)s, %(job_type)s, %(description)s, %(status)s, %(scheduled_for)s, %(started_at)s, %(completed_at)s, %(is_enabled)s, %(is_system_job)s, %(schedule_type)s, %(interval_seconds)s, %(cron_string)s, %(device_id)s) RETURNING jobs.id
2025-04-22 21:44:16,903 - INFO - INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) VALUES (%(name)s, %(job_type)s, %(description)s, %(status)s, %(scheduled_for)s, %(started_at)s, %(completed_at)s, %(is_enabled)s, %(is_system_job)s, %(schedule_type)s, %(interval_seconds)s, %(cron_string)s, %(device_id)s) RETURNING jobs.id
2025-04-22 21:44:16,903 INFO sqlalchemy.engine.Engine [cached since 0.7927s ago] {'name': 'update-test', 'job_type': 'backup', 'description': None, 'status': 'pending', 'scheduled_for': '2025-01-01T00:00:00Z', 'started_at': None, 'completed_at': None, 'is_enabled': True, 'is_system_job': False, 'schedule_type': 'onetime', 'interval_seconds': None, 'cron_string': None, 'device_id': None}
2025-04-22 21:44:16,903 - INFO - [cached since 0.7927s ago] {'name': 'update-test', 'job_type': 'backup', 'description': None, 'status': 'pending', 'scheduled_for': '2025-01-01T00:00:00Z', 'started_at': None, 'completed_at': None, 'is_enabled': True, 'is_system_job': False, 'schedule_type': 'onetime', 'interval_seconds': None, 'cron_string': None, 'device_id': None}
2025-04-22 21:44:16,904 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:16,904 - INFO - COMMIT
2025-04-22 21:44:16,908 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:16,908 - INFO - BEGIN (implicit)
2025-04-22 21:44:16,908 INFO sqlalchemy.engine.Engine SELECT jobs.id, jobs.name, jobs.job_type, jobs.description, jobs.status, jobs.scheduled_for, jobs.started_at, jobs.completed_at, jobs.is_enabled, jobs.is_system_job, jobs.schedule_type, jobs.interval_seconds, jobs.cron_string, jobs.device_id 
FROM jobs 
WHERE jobs.id = %(pk_1)s
2025-04-22 21:44:16,908 - INFO - SELECT jobs.id, jobs.name, jobs.job_type, jobs.description, jobs.status, jobs.scheduled_for, jobs.started_at, jobs.completed_at, jobs.is_enabled, jobs.is_system_job, jobs.schedule_type, jobs.interval_seconds, jobs.cron_string, jobs.device_id 
FROM jobs 
WHERE jobs.id = %(pk_1)s
2025-04-22 21:44:16,908 INFO sqlalchemy.engine.Engine [cached since 4.624s ago] {'pk_1': 1}
2025-04-22 21:44:16,908 - INFO - [cached since 4.624s ago] {'pk_1': 1}
2025-04-22 21:44:16,913 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:16,913 - INFO - BEGIN (implicit)
2025-04-22 21:44:16,914 INFO sqlalchemy.engine.Engine SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.id = %(id_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:16,914 - INFO - SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.id = %(id_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:16,914 INFO sqlalchemy.engine.Engine [generated in 0.00012s] {'id_1': 1, 'param_1': 1}
2025-04-22 21:44:16,914 - INFO - [generated in 0.00012s] {'id_1': 1, 'param_1': 1}
2025-04-22 21:44:16,915 INFO sqlalchemy.engine.Engine SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.name = %(name_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:16,915 - INFO - SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.name = %(name_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:16,915 INFO sqlalchemy.engine.Engine [cached since 4.639s ago] {'name_1': 'updated-name', 'param_1': 1}
2025-04-22 21:44:16,915 - INFO - [cached since 4.639s ago] {'name_1': 'updated-name', 'param_1': 1}
2025-04-22 21:44:16,916 INFO sqlalchemy.engine.Engine UPDATE jobs SET name=%(name)s, is_enabled=%(is_enabled)s WHERE jobs.id = %(jobs_id)s
2025-04-22 21:44:16,916 - INFO - UPDATE jobs SET name=%(name)s, is_enabled=%(is_enabled)s WHERE jobs.id = %(jobs_id)s
2025-04-22 21:44:16,916 INFO sqlalchemy.engine.Engine [generated in 0.00012s] {'name': 'updated-name', 'is_enabled': False, 'jobs_id': 1}
2025-04-22 21:44:16,916 - INFO - [generated in 0.00012s] {'name': 'updated-name', 'is_enabled': False, 'jobs_id': 1}
2025-04-22 21:44:16,916 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:16,916 - INFO - COMMIT
2025-04-22 21:44:16,918 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:16,918 - INFO - BEGIN (implicit)
2025-04-22 21:44:16,919 INFO sqlalchemy.engine.Engine SELECT jobs.id, jobs.name, jobs.job_type, jobs.description, jobs.status, jobs.scheduled_for, jobs.started_at, jobs.completed_at, jobs.is_enabled, jobs.is_system_job, jobs.schedule_type, jobs.interval_seconds, jobs.cron_string, jobs.device_id 
FROM jobs 
WHERE jobs.id = %(pk_1)s
2025-04-22 21:44:16,919 - INFO - SELECT jobs.id, jobs.name, jobs.job_type, jobs.description, jobs.status, jobs.scheduled_for, jobs.started_at, jobs.completed_at, jobs.is_enabled, jobs.is_system_job, jobs.schedule_type, jobs.interval_seconds, jobs.cron_string, jobs.device_id 
FROM jobs 
WHERE jobs.id = %(pk_1)s
2025-04-22 21:44:16,919 INFO sqlalchemy.engine.Engine [cached since 4.634s ago] {'pk_1': 1}
2025-04-22 21:44:16,919 - INFO - [cached since 4.634s ago] {'pk_1': 1}
2025-04-22 21:44:16,919 INFO sqlalchemy.engine.Engine SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.id = %(id_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:16,919 - INFO - SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.id = %(id_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:16,919 INFO sqlalchemy.engine.Engine [cached since 4.633s ago] {'id_1': 1, 'param_1': 1}
2025-04-22 21:44:16,919 - INFO - [cached since 4.633s ago] {'id_1': 1, 'param_1': 1}
2025-04-22 21:44:16,920 INFO sqlalchemy.engine.Engine SELECT jobs_1.id AS jobs_1_id, tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM jobs AS jobs_1 JOIN job_tags AS job_tags_1 ON jobs_1.id = job_tags_1.job_id JOIN tags ON tags.id = job_tags_1.tag_id 
WHERE jobs_1.id IN (%(primary_keys_1)s)
2025-04-22 21:44:16,920 - INFO - SELECT jobs_1.id AS jobs_1_id, tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM jobs AS jobs_1 JOIN job_tags AS job_tags_1 ON jobs_1.id = job_tags_1.job_id JOIN tags ON tags.id = job_tags_1.tag_id 
WHERE jobs_1.id IN (%(primary_keys_1)s)
2025-04-22 21:44:16,920 INFO sqlalchemy.engine.Engine [cached since 4.632s ago] {'primary_keys_1': 1}
2025-04-22 21:44:16,920 - INFO - [cached since 4.632s ago] {'primary_keys_1': 1}
2025-04-22 21:44:16,921 INFO sqlalchemy.engine.Engine ROLLBACK
2025-04-22 21:44:16,921 - INFO - ROLLBACK
2025-04-22 21:44:16,922 - INFO - HTTP Request: PUT http://testserver/jobs/1 "HTTP/1.1 200 OK"
[32m.[0m2025-04-22 21:44:16,923 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:16,923 - INFO - COMMIT
2025-04-22 21:44:16,923 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:16,923 - INFO - BEGIN (implicit)
2025-04-22 21:44:16,924 INFO sqlalchemy.engine.Engine SET session_replication_role = 'replica';
2025-04-22 21:44:16,924 - INFO - SET session_replication_role = 'replica';
2025-04-22 21:44:16,924 INFO sqlalchemy.engine.Engine [cached since 5.193s ago] {}
2025-04-22 21:44:16,924 - INFO - [cached since 5.193s ago] {}
2025-04-22 21:44:16,924 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,924 - INFO - TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,924 INFO sqlalchemy.engine.Engine [cached since 5.193s ago] {}
2025-04-22 21:44:16,924 - INFO - [cached since 5.193s ago] {}
2025-04-22 21:44:16,929 INFO sqlalchemy.engine.Engine TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,929 - INFO - TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,929 INFO sqlalchemy.engine.Engine [cached since 5.195s ago] {}
2025-04-22 21:44:16,929 - INFO - [cached since 5.195s ago] {}
2025-04-22 21:44:16,934 INFO sqlalchemy.engine.Engine TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,934 - INFO - TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,934 INFO sqlalchemy.engine.Engine [cached since 5.196s ago] {}
2025-04-22 21:44:16,934 - INFO - [cached since 5.196s ago] {}
2025-04-22 21:44:16,938 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,938 - INFO - TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,939 INFO sqlalchemy.engine.Engine [cached since 5.198s ago] {}
2025-04-22 21:44:16,939 - INFO - [cached since 5.198s ago] {}
2025-04-22 21:44:16,955 INFO sqlalchemy.engine.Engine TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,955 - INFO - TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:16,955 INFO sqlalchemy.engine.Engine [cached since 5.202s ago] {}
2025-04-22 21:44:16,955 - INFO - [cached since 5.202s ago] {}
2025-04-22 21:44:17,055 INFO sqlalchemy.engine.Engine TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,055 - INFO - TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,056 INFO sqlalchemy.engine.Engine [cached since 5.189s ago] {}
2025-04-22 21:44:17,056 - INFO - [cached since 5.189s ago] {}
2025-04-22 21:44:17,138 INFO sqlalchemy.engine.Engine TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,138 - INFO - TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,138 INFO sqlalchemy.engine.Engine [cached since 5.173s ago] {}
2025-04-22 21:44:17,138 - INFO - [cached since 5.173s ago] {}
2025-04-22 21:44:17,173 INFO sqlalchemy.engine.Engine TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,173 - INFO - TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,173 INFO sqlalchemy.engine.Engine [cached since 5.165s ago] {}
2025-04-22 21:44:17,173 - INFO - [cached since 5.165s ago] {}
2025-04-22 21:44:17,190 INFO sqlalchemy.engine.Engine SET session_replication_role = 'origin';
2025-04-22 21:44:17,190 - INFO - SET session_replication_role = 'origin';
2025-04-22 21:44:17,190 INFO sqlalchemy.engine.Engine [cached since 5.159s ago] {}
2025-04-22 21:44:17,190 - INFO - [cached since 5.159s ago] {}
2025-04-22 21:44:17,190 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:17,190 - INFO - COMMIT
2025-04-22 21:44:17,193 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:17,193 - INFO - BEGIN (implicit)
2025-04-22 21:44:17,194 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:17,194 - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:17,194 INFO sqlalchemy.engine.Engine [cached since 5.147s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:17,194 - INFO - [cached since 5.147s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:17,195 - INFO - Creating new test admin: testadmin
2025-04-22 21:44:17,351 INFO sqlalchemy.engine.Engine INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:17,351 - INFO - INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:17,351 INFO sqlalchemy.engine.Engine [cached since 5.132s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$qmmxzxIG91e3IWjEH75mmeqJvX3TV6v.cVTxE0xhOYhafptPrmBXW', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:17,351 - INFO - [cached since 5.132s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$qmmxzxIG91e3IWjEH75mmeqJvX3TV6v.cVTxE0xhOYhafptPrmBXW', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:17,352 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:17,352 - INFO - COMMIT
2025-04-22 21:44:17,355 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:17,355 - INFO - BEGIN (implicit)
2025-04-22 21:44:17,355 INFO sqlalchemy.engine.Engine SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:17,355 - INFO - SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:17,355 INFO sqlalchemy.engine.Engine [cached since 5.124s ago] {'pk_1': 1}
2025-04-22 21:44:17,355 - INFO - [cached since 5.124s ago] {'pk_1': 1}
2025-04-22 21:44:17,356 - INFO - Created test admin with ID: 1
2025-04-22 21:44:17,356 - INFO - Created admin token for user: testadmin
2025-04-22 21:44:17,357 INFO sqlalchemy.engine.Engine INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) SELECT p0::VARCHAR, p1::VARCHAR, p2::VARCHAR, p3::VARCHAR, p4::TIMESTA ... 723 characters truncated ... p6, p7, p8, p9, p10, p11, p12, sen_counter) ORDER BY sen_counter RETURNING jobs.id, jobs.id AS id__1
2025-04-22 21:44:17,357 - INFO - INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) SELECT p0::VARCHAR, p1::VARCHAR, p2::VARCHAR, p3::VARCHAR, p4::TIMESTA ... 723 characters truncated ... p6, p7, p8, p9, p10, p11, p12, sen_counter) ORDER BY sen_counter RETURNING jobs.id, jobs.id AS id__1
2025-04-22 21:44:17,357 INFO sqlalchemy.engine.Engine [cached since 2.405s ago (insertmanyvalues) 1/1 (ordered)] {'device_id__0': None, 'description__0': None, 'completed_at__0': None, 'status__0': 'pending', 'cron_string__0': None, 'is_system_job__0': False, 'name__0': 'update-conflict-1', 'job_type__0': 'backup', 'is_enabled__0': True, 'schedule_type__0': 'onetime', 'interval_seconds__0': None, 'scheduled_for__0': '2025-01-01T00:00:00Z', 'started_at__0': None, 'device_id__1': None, 'description__1': None, 'completed_at__1': None, 'status__1': 'pending', 'cron_string__1': None, 'is_system_job__1': False, 'name__1': 'update-conflict-2', 'job_type__1': 'backup', 'is_enabled__1': True, 'schedule_type__1': 'onetime', 'interval_seconds__1': None, 'scheduled_for__1': '2025-01-01T00:00:00Z', 'started_at__1': None}
2025-04-22 21:44:17,357 - INFO - [cached since 2.405s ago (insertmanyvalues) 1/1 (ordered)] {'device_id__0': None, 'description__0': None, 'completed_at__0': None, 'status__0': 'pending', 'cron_string__0': None, 'is_system_job__0': False, 'name__0': 'update-conflict-1', 'job_type__0': 'backup', 'is_enabled__0': True, 'schedule_type__0': 'onetime', 'interval_seconds__0': None, 'scheduled_for__0': '2025-01-01T00:00:00Z', 'started_at__0': None, 'device_id__1': None, 'description__1': None, 'completed_at__1': None, 'status__1': 'pending', 'cron_string__1': None, 'is_system_job__1': False, 'name__1': 'update-conflict-2', 'job_type__1': 'backup', 'is_enabled__1': True, 'schedule_type__1': 'onetime', 'interval_seconds__1': None, 'scheduled_for__1': '2025-01-01T00:00:00Z', 'started_at__1': None}
2025-04-22 21:44:17,358 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:17,358 - INFO - COMMIT
2025-04-22 21:44:17,360 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:17,360 - INFO - BEGIN (implicit)
2025-04-22 21:44:17,361 INFO sqlalchemy.engine.Engine SELECT jobs.id, jobs.name, jobs.job_type, jobs.description, jobs.status, jobs.scheduled_for, jobs.started_at, jobs.completed_at, jobs.is_enabled, jobs.is_system_job, jobs.schedule_type, jobs.interval_seconds, jobs.cron_string, jobs.device_id 
FROM jobs 
WHERE jobs.id = %(pk_1)s
2025-04-22 21:44:17,361 - INFO - SELECT jobs.id, jobs.name, jobs.job_type, jobs.description, jobs.status, jobs.scheduled_for, jobs.started_at, jobs.completed_at, jobs.is_enabled, jobs.is_system_job, jobs.schedule_type, jobs.interval_seconds, jobs.cron_string, jobs.device_id 
FROM jobs 
WHERE jobs.id = %(pk_1)s
2025-04-22 21:44:17,361 INFO sqlalchemy.engine.Engine [cached since 5.077s ago] {'pk_1': 1}
2025-04-22 21:44:17,361 - INFO - [cached since 5.077s ago] {'pk_1': 1}
2025-04-22 21:44:17,362 INFO sqlalchemy.engine.Engine SELECT jobs.id, jobs.name, jobs.job_type, jobs.description, jobs.status, jobs.scheduled_for, jobs.started_at, jobs.completed_at, jobs.is_enabled, jobs.is_system_job, jobs.schedule_type, jobs.interval_seconds, jobs.cron_string, jobs.device_id 
FROM jobs 
WHERE jobs.id = %(pk_1)s
2025-04-22 21:44:17,362 - INFO - SELECT jobs.id, jobs.name, jobs.job_type, jobs.description, jobs.status, jobs.scheduled_for, jobs.started_at, jobs.completed_at, jobs.is_enabled, jobs.is_system_job, jobs.schedule_type, jobs.interval_seconds, jobs.cron_string, jobs.device_id 
FROM jobs 
WHERE jobs.id = %(pk_1)s
2025-04-22 21:44:17,362 INFO sqlalchemy.engine.Engine [cached since 5.078s ago] {'pk_1': 2}
2025-04-22 21:44:17,362 - INFO - [cached since 5.078s ago] {'pk_1': 2}
2025-04-22 21:44:17,364 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:17,364 - INFO - BEGIN (implicit)
2025-04-22 21:44:17,364 INFO sqlalchemy.engine.Engine SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.id = %(id_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:17,364 - INFO - SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.id = %(id_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:17,364 INFO sqlalchemy.engine.Engine [cached since 0.4504s ago] {'id_1': 2, 'param_1': 1}
2025-04-22 21:44:17,364 - INFO - [cached since 0.4504s ago] {'id_1': 2, 'param_1': 1}
2025-04-22 21:44:17,365 INFO sqlalchemy.engine.Engine SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.name = %(name_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:17,365 - INFO - SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.name = %(name_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:17,365 INFO sqlalchemy.engine.Engine [cached since 5.089s ago] {'name_1': 'update-conflict-1', 'param_1': 1}
2025-04-22 21:44:17,365 - INFO - [cached since 5.089s ago] {'name_1': 'update-conflict-1', 'param_1': 1}
2025-04-22 21:44:17,366 INFO sqlalchemy.engine.Engine ROLLBACK
2025-04-22 21:44:17,366 - INFO - ROLLBACK
2025-04-22 21:44:17,367 - INFO - HTTP Request: PUT http://testserver/jobs/2 "HTTP/1.1 400 Bad Request"
[32m.[0m2025-04-22 21:44:17,367 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:17,367 - INFO - COMMIT
2025-04-22 21:44:17,368 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:17,368 - INFO - BEGIN (implicit)
2025-04-22 21:44:17,368 INFO sqlalchemy.engine.Engine SET session_replication_role = 'replica';
2025-04-22 21:44:17,368 - INFO - SET session_replication_role = 'replica';
2025-04-22 21:44:17,368 INFO sqlalchemy.engine.Engine [cached since 5.638s ago] {}
2025-04-22 21:44:17,368 - INFO - [cached since 5.638s ago] {}
2025-04-22 21:44:17,368 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,368 - INFO - TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,368 INFO sqlalchemy.engine.Engine [cached since 5.638s ago] {}
2025-04-22 21:44:17,368 - INFO - [cached since 5.638s ago] {}
2025-04-22 21:44:17,374 INFO sqlalchemy.engine.Engine TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,374 - INFO - TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,374 INFO sqlalchemy.engine.Engine [cached since 5.64s ago] {}
2025-04-22 21:44:17,374 - INFO - [cached since 5.64s ago] {}
2025-04-22 21:44:17,379 INFO sqlalchemy.engine.Engine TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,379 - INFO - TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,379 INFO sqlalchemy.engine.Engine [cached since 5.641s ago] {}
2025-04-22 21:44:17,379 - INFO - [cached since 5.641s ago] {}
2025-04-22 21:44:17,384 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,384 - INFO - TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,384 INFO sqlalchemy.engine.Engine [cached since 5.643s ago] {}
2025-04-22 21:44:17,384 - INFO - [cached since 5.643s ago] {}
2025-04-22 21:44:17,402 INFO sqlalchemy.engine.Engine TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,402 - INFO - TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,402 INFO sqlalchemy.engine.Engine [cached since 5.649s ago] {}
2025-04-22 21:44:17,402 - INFO - [cached since 5.649s ago] {}
2025-04-22 21:44:17,494 INFO sqlalchemy.engine.Engine TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,494 - INFO - TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,495 INFO sqlalchemy.engine.Engine [cached since 5.628s ago] {}
2025-04-22 21:44:17,495 - INFO - [cached since 5.628s ago] {}
2025-04-22 21:44:17,583 INFO sqlalchemy.engine.Engine TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,583 - INFO - TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,583 INFO sqlalchemy.engine.Engine [cached since 5.619s ago] {}
2025-04-22 21:44:17,583 - INFO - [cached since 5.619s ago] {}
2025-04-22 21:44:17,621 INFO sqlalchemy.engine.Engine TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,621 - INFO - TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,621 INFO sqlalchemy.engine.Engine [cached since 5.614s ago] {}
2025-04-22 21:44:17,621 - INFO - [cached since 5.614s ago] {}
2025-04-22 21:44:17,637 INFO sqlalchemy.engine.Engine SET session_replication_role = 'origin';
2025-04-22 21:44:17,637 - INFO - SET session_replication_role = 'origin';
2025-04-22 21:44:17,637 INFO sqlalchemy.engine.Engine [cached since 5.607s ago] {}
2025-04-22 21:44:17,637 - INFO - [cached since 5.607s ago] {}
2025-04-22 21:44:17,638 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:17,638 - INFO - COMMIT
2025-04-22 21:44:17,640 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:17,640 - INFO - BEGIN (implicit)
2025-04-22 21:44:17,641 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:17,641 - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:17,641 INFO sqlalchemy.engine.Engine [cached since 5.594s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:17,641 - INFO - [cached since 5.594s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:17,641 - INFO - Creating new test admin: testadmin
2025-04-22 21:44:17,797 INFO sqlalchemy.engine.Engine INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:17,797 - INFO - INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:17,798 INFO sqlalchemy.engine.Engine [cached since 5.579s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$SWb/P7cBv.bVemf36k7NvuchvX9T4x4q/g2wvsBExwzVTxWgQIake', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:17,798 - INFO - [cached since 5.579s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$SWb/P7cBv.bVemf36k7NvuchvX9T4x4q/g2wvsBExwzVTxWgQIake', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:17,799 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:17,799 - INFO - COMMIT
2025-04-22 21:44:17,802 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:17,802 - INFO - BEGIN (implicit)
2025-04-22 21:44:17,803 INFO sqlalchemy.engine.Engine SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:17,803 - INFO - SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:17,803 INFO sqlalchemy.engine.Engine [cached since 5.571s ago] {'pk_1': 1}
2025-04-22 21:44:17,803 - INFO - [cached since 5.571s ago] {'pk_1': 1}
2025-04-22 21:44:17,803 - INFO - Created test admin with ID: 1
2025-04-22 21:44:17,804 - INFO - Created admin token for user: testadmin
2025-04-22 21:44:17,805 INFO sqlalchemy.engine.Engine INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) VALUES (%(name)s, %(job_type)s, %(description)s, %(status)s, %(scheduled_for)s, %(started_at)s, %(completed_at)s, %(is_enabled)s, %(is_system_job)s, %(schedule_type)s, %(interval_seconds)s, %(cron_string)s, %(device_id)s) RETURNING jobs.id
2025-04-22 21:44:17,805 - INFO - INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) VALUES (%(name)s, %(job_type)s, %(description)s, %(status)s, %(scheduled_for)s, %(started_at)s, %(completed_at)s, %(is_enabled)s, %(is_system_job)s, %(schedule_type)s, %(interval_seconds)s, %(cron_string)s, %(device_id)s) RETURNING jobs.id
2025-04-22 21:44:17,805 INFO sqlalchemy.engine.Engine [cached since 1.694s ago] {'name': 'delete-test', 'job_type': 'backup', 'description': None, 'status': 'pending', 'scheduled_for': '2025-01-01T00:00:00Z', 'started_at': None, 'completed_at': None, 'is_enabled': True, 'is_system_job': False, 'schedule_type': 'onetime', 'interval_seconds': None, 'cron_string': None, 'device_id': None}
2025-04-22 21:44:17,805 - INFO - [cached since 1.694s ago] {'name': 'delete-test', 'job_type': 'backup', 'description': None, 'status': 'pending', 'scheduled_for': '2025-01-01T00:00:00Z', 'started_at': None, 'completed_at': None, 'is_enabled': True, 'is_system_job': False, 'schedule_type': 'onetime', 'interval_seconds': None, 'cron_string': None, 'device_id': None}
2025-04-22 21:44:17,805 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:17,805 - INFO - COMMIT
2025-04-22 21:44:17,808 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:17,808 - INFO - BEGIN (implicit)
2025-04-22 21:44:17,808 INFO sqlalchemy.engine.Engine SELECT jobs.id, jobs.name, jobs.job_type, jobs.description, jobs.status, jobs.scheduled_for, jobs.started_at, jobs.completed_at, jobs.is_enabled, jobs.is_system_job, jobs.schedule_type, jobs.interval_seconds, jobs.cron_string, jobs.device_id 
FROM jobs 
WHERE jobs.id = %(pk_1)s
2025-04-22 21:44:17,808 - INFO - SELECT jobs.id, jobs.name, jobs.job_type, jobs.description, jobs.status, jobs.scheduled_for, jobs.started_at, jobs.completed_at, jobs.is_enabled, jobs.is_system_job, jobs.schedule_type, jobs.interval_seconds, jobs.cron_string, jobs.device_id 
FROM jobs 
WHERE jobs.id = %(pk_1)s
2025-04-22 21:44:17,808 INFO sqlalchemy.engine.Engine [cached since 5.524s ago] {'pk_1': 1}
2025-04-22 21:44:17,808 - INFO - [cached since 5.524s ago] {'pk_1': 1}
2025-04-22 21:44:17,811 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:17,811 - INFO - BEGIN (implicit)
2025-04-22 21:44:17,811 INFO sqlalchemy.engine.Engine SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.id = %(id_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:17,811 - INFO - SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.id = %(id_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:17,812 INFO sqlalchemy.engine.Engine [cached since 0.8975s ago] {'id_1': 1, 'param_1': 1}
2025-04-22 21:44:17,812 - INFO - [cached since 0.8975s ago] {'id_1': 1, 'param_1': 1}
2025-04-22 21:44:17,813 INFO sqlalchemy.engine.Engine SELECT job_logs.id AS job_logs_id, job_logs.job_id AS job_logs_job_id, job_logs.device_id AS job_logs_device_id, job_logs.message AS job_logs_message, job_logs.level AS job_logs_level, job_logs.timestamp AS job_logs_timestamp 
FROM job_logs 
WHERE %(param_1)s = job_logs.job_id
2025-04-22 21:44:17,813 - INFO - SELECT job_logs.id AS job_logs_id, job_logs.job_id AS job_logs_job_id, job_logs.device_id AS job_logs_device_id, job_logs.message AS job_logs_message, job_logs.level AS job_logs_level, job_logs.timestamp AS job_logs_timestamp 
FROM job_logs 
WHERE %(param_1)s = job_logs.job_id
2025-04-22 21:44:17,813 INFO sqlalchemy.engine.Engine [generated in 0.00017s] {'param_1': 1}
2025-04-22 21:44:17,813 - INFO - [generated in 0.00017s] {'param_1': 1}
2025-04-22 21:44:17,815 INFO sqlalchemy.engine.Engine SELECT connection_logs.id AS connection_logs_id, connection_logs.job_id AS connection_logs_job_id, connection_logs.device_id AS connection_logs_device_id, connection_logs.log AS connection_logs_log, connection_logs.timestamp AS connection_logs_timestamp 
FROM connection_logs 
WHERE %(param_1)s = connection_logs.job_id
2025-04-22 21:44:17,815 - INFO - SELECT connection_logs.id AS connection_logs_id, connection_logs.job_id AS connection_logs_job_id, connection_logs.device_id AS connection_logs_device_id, connection_logs.log AS connection_logs_log, connection_logs.timestamp AS connection_logs_timestamp 
FROM connection_logs 
WHERE %(param_1)s = connection_logs.job_id
2025-04-22 21:44:17,815 INFO sqlalchemy.engine.Engine [generated in 0.00016s] {'param_1': 1}
2025-04-22 21:44:17,815 - INFO - [generated in 0.00016s] {'param_1': 1}
2025-04-22 21:44:17,817 INFO sqlalchemy.engine.Engine SELECT tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM tags, job_tags 
WHERE %(param_1)s = job_tags.job_id AND tags.id = job_tags.tag_id
2025-04-22 21:44:17,817 - INFO - SELECT tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM tags, job_tags 
WHERE %(param_1)s = job_tags.job_id AND tags.id = job_tags.tag_id
2025-04-22 21:44:17,817 INFO sqlalchemy.engine.Engine [generated in 0.00016s] {'param_1': 1}
2025-04-22 21:44:17,817 - INFO - [generated in 0.00016s] {'param_1': 1}
2025-04-22 21:44:17,818 INFO sqlalchemy.engine.Engine DELETE FROM jobs WHERE jobs.id = %(id)s
2025-04-22 21:44:17,818 - INFO - DELETE FROM jobs WHERE jobs.id = %(id)s
2025-04-22 21:44:17,818 INFO sqlalchemy.engine.Engine [generated in 0.00012s] {'id': 1}
2025-04-22 21:44:17,818 - INFO - [generated in 0.00012s] {'id': 1}
2025-04-22 21:44:17,819 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:17,819 - INFO - COMMIT
2025-04-22 21:44:17,823 - INFO - HTTP Request: DELETE http://testserver/jobs/1 "HTTP/1.1 204 No Content"
2025-04-22 21:44:17,825 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:17,825 - INFO - BEGIN (implicit)
2025-04-22 21:44:17,825 INFO sqlalchemy.engine.Engine SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.id = %(id_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:17,825 - INFO - SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.id = %(id_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:17,825 INFO sqlalchemy.engine.Engine [cached since 5.539s ago] {'id_1': 1, 'param_1': 1}
2025-04-22 21:44:17,825 - INFO - [cached since 5.539s ago] {'id_1': 1, 'param_1': 1}
2025-04-22 21:44:17,826 INFO sqlalchemy.engine.Engine ROLLBACK
2025-04-22 21:44:17,826 - INFO - ROLLBACK
2025-04-22 21:44:17,827 - INFO - HTTP Request: GET http://testserver/jobs/1 "HTTP/1.1 404 Not Found"
[32m.[0m2025-04-22 21:44:17,827 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:17,827 - INFO - COMMIT
2025-04-22 21:44:17,828 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:17,828 - INFO - BEGIN (implicit)
2025-04-22 21:44:17,828 INFO sqlalchemy.engine.Engine SET session_replication_role = 'replica';
2025-04-22 21:44:17,828 - INFO - SET session_replication_role = 'replica';
2025-04-22 21:44:17,828 INFO sqlalchemy.engine.Engine [cached since 6.098s ago] {}
2025-04-22 21:44:17,828 - INFO - [cached since 6.098s ago] {}
2025-04-22 21:44:17,828 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,828 - INFO - TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,829 INFO sqlalchemy.engine.Engine [cached since 6.098s ago] {}
2025-04-22 21:44:17,829 - INFO - [cached since 6.098s ago] {}
2025-04-22 21:44:17,833 INFO sqlalchemy.engine.Engine TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,833 - INFO - TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,833 INFO sqlalchemy.engine.Engine [cached since 6.099s ago] {}
2025-04-22 21:44:17,833 - INFO - [cached since 6.099s ago] {}
2025-04-22 21:44:17,837 INFO sqlalchemy.engine.Engine TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,837 - INFO - TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,837 INFO sqlalchemy.engine.Engine [cached since 6.099s ago] {}
2025-04-22 21:44:17,837 - INFO - [cached since 6.099s ago] {}
2025-04-22 21:44:17,841 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,841 - INFO - TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,841 INFO sqlalchemy.engine.Engine [cached since 6.1s ago] {}
2025-04-22 21:44:17,841 - INFO - [cached since 6.1s ago] {}
2025-04-22 21:44:17,858 INFO sqlalchemy.engine.Engine TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,858 - INFO - TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,858 INFO sqlalchemy.engine.Engine [cached since 6.105s ago] {}
2025-04-22 21:44:17,858 - INFO - [cached since 6.105s ago] {}
2025-04-22 21:44:17,952 INFO sqlalchemy.engine.Engine TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,952 - INFO - TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:17,952 INFO sqlalchemy.engine.Engine [cached since 6.086s ago] {}
2025-04-22 21:44:17,952 - INFO - [cached since 6.086s ago] {}
2025-04-22 21:44:18,048 INFO sqlalchemy.engine.Engine TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,048 - INFO - TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,049 INFO sqlalchemy.engine.Engine [cached since 6.084s ago] {}
2025-04-22 21:44:18,049 - INFO - [cached since 6.084s ago] {}
2025-04-22 21:44:18,084 INFO sqlalchemy.engine.Engine TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,084 - INFO - TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,084 INFO sqlalchemy.engine.Engine [cached since 6.077s ago] {}
2025-04-22 21:44:18,084 - INFO - [cached since 6.077s ago] {}
2025-04-22 21:44:18,101 INFO sqlalchemy.engine.Engine SET session_replication_role = 'origin';
2025-04-22 21:44:18,101 - INFO - SET session_replication_role = 'origin';
2025-04-22 21:44:18,101 INFO sqlalchemy.engine.Engine [cached since 6.071s ago] {}
2025-04-22 21:44:18,101 - INFO - [cached since 6.071s ago] {}
2025-04-22 21:44:18,102 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:18,102 - INFO - COMMIT
2025-04-22 21:44:18,105 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:18,105 - INFO - BEGIN (implicit)
2025-04-22 21:44:18,105 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:18,105 - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:18,105 INFO sqlalchemy.engine.Engine [cached since 6.058s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:18,105 - INFO - [cached since 6.058s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:18,106 - INFO - Creating new test admin: testadmin
2025-04-22 21:44:18,264 INFO sqlalchemy.engine.Engine INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:18,264 - INFO - INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:18,264 INFO sqlalchemy.engine.Engine [cached since 6.045s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$SN2Jz2mHg.FKu5Rcay1k7uksgy0vRjTV2xzJH8.enl.XhScgfmF7e', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:18,264 - INFO - [cached since 6.045s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$SN2Jz2mHg.FKu5Rcay1k7uksgy0vRjTV2xzJH8.enl.XhScgfmF7e', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:18,265 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:18,265 - INFO - COMMIT
2025-04-22 21:44:18,268 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:18,268 - INFO - BEGIN (implicit)
2025-04-22 21:44:18,269 INFO sqlalchemy.engine.Engine SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:18,269 - INFO - SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:18,269 INFO sqlalchemy.engine.Engine [cached since 6.037s ago] {'pk_1': 1}
2025-04-22 21:44:18,269 - INFO - [cached since 6.037s ago] {'pk_1': 1}
2025-04-22 21:44:18,270 - INFO - Created test admin with ID: 1
2025-04-22 21:44:18,270 - INFO - Created admin token for user: testadmin
2025-04-22 21:44:18,272 INFO sqlalchemy.engine.Engine INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) VALUES (%(name)s, %(job_type)s, %(description)s, %(status)s, %(scheduled_for)s, %(started_at)s, %(completed_at)s, %(is_enabled)s, %(is_system_job)s, %(schedule_type)s, %(interval_seconds)s, %(cron_string)s, %(device_id)s) RETURNING jobs.id
2025-04-22 21:44:18,272 - INFO - INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) VALUES (%(name)s, %(job_type)s, %(description)s, %(status)s, %(scheduled_for)s, %(started_at)s, %(completed_at)s, %(is_enabled)s, %(is_system_job)s, %(schedule_type)s, %(interval_seconds)s, %(cron_string)s, %(device_id)s) RETURNING jobs.id
2025-04-22 21:44:18,272 INFO sqlalchemy.engine.Engine [cached since 2.161s ago] {'name': 'run-test', 'job_type': 'backup', 'description': None, 'status': 'pending', 'scheduled_for': '2025-01-01T00:00:00Z', 'started_at': None, 'completed_at': None, 'is_enabled': True, 'is_system_job': False, 'schedule_type': 'onetime', 'interval_seconds': None, 'cron_string': None, 'device_id': None}
2025-04-22 21:44:18,272 - INFO - [cached since 2.161s ago] {'name': 'run-test', 'job_type': 'backup', 'description': None, 'status': 'pending', 'scheduled_for': '2025-01-01T00:00:00Z', 'started_at': None, 'completed_at': None, 'is_enabled': True, 'is_system_job': False, 'schedule_type': 'onetime', 'interval_seconds': None, 'cron_string': None, 'device_id': None}
2025-04-22 21:44:18,273 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:18,273 - INFO - COMMIT
2025-04-22 21:44:18,278 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:18,278 - INFO - BEGIN (implicit)
2025-04-22 21:44:18,278 INFO sqlalchemy.engine.Engine SELECT jobs.id, jobs.name, jobs.job_type, jobs.description, jobs.status, jobs.scheduled_for, jobs.started_at, jobs.completed_at, jobs.is_enabled, jobs.is_system_job, jobs.schedule_type, jobs.interval_seconds, jobs.cron_string, jobs.device_id 
FROM jobs 
WHERE jobs.id = %(pk_1)s
2025-04-22 21:44:18,278 - INFO - SELECT jobs.id, jobs.name, jobs.job_type, jobs.description, jobs.status, jobs.scheduled_for, jobs.started_at, jobs.completed_at, jobs.is_enabled, jobs.is_system_job, jobs.schedule_type, jobs.interval_seconds, jobs.cron_string, jobs.device_id 
FROM jobs 
WHERE jobs.id = %(pk_1)s
2025-04-22 21:44:18,278 INFO sqlalchemy.engine.Engine [cached since 5.994s ago] {'pk_1': 1}
2025-04-22 21:44:18,278 - INFO - [cached since 5.994s ago] {'pk_1': 1}
2025-04-22 21:44:18,281 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:18,281 - INFO - BEGIN (implicit)
2025-04-22 21:44:18,282 INFO sqlalchemy.engine.Engine SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.id = %(id_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:18,282 - INFO - SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.id = %(id_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:18,282 INFO sqlalchemy.engine.Engine [cached since 1.368s ago] {'id_1': 1, 'param_1': 1}
2025-04-22 21:44:18,282 - INFO - [cached since 1.368s ago] {'id_1': 1, 'param_1': 1}
2025-04-22 21:44:18,283 INFO sqlalchemy.engine.Engine UPDATE jobs SET status=%(status)s WHERE jobs.id = %(jobs_id)s
2025-04-22 21:44:18,283 - INFO - UPDATE jobs SET status=%(status)s WHERE jobs.id = %(jobs_id)s
2025-04-22 21:44:18,283 INFO sqlalchemy.engine.Engine [generated in 0.00016s] {'status': 'queued', 'jobs_id': 1}
2025-04-22 21:44:18,283 - INFO - [generated in 0.00016s] {'status': 'queued', 'jobs_id': 1}
2025-04-22 21:44:18,283 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:18,283 - INFO - COMMIT
2025-04-22 21:44:18,286 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:18,286 - INFO - BEGIN (implicit)
2025-04-22 21:44:18,287 INFO sqlalchemy.engine.Engine SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.id = %(pk_1)s
2025-04-22 21:44:18,287 - INFO - SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.id = %(pk_1)s
2025-04-22 21:44:18,287 INFO sqlalchemy.engine.Engine [generated in 0.00013s] {'pk_1': 1}
2025-04-22 21:44:18,287 - INFO - [generated in 0.00013s] {'pk_1': 1}
2025-04-22 21:44:18,288 INFO sqlalchemy.engine.Engine ROLLBACK
2025-04-22 21:44:18,288 - INFO - ROLLBACK
2025-04-22 21:44:18,289 - INFO - HTTP Request: POST http://testserver/jobs/run/1 "HTTP/1.1 202 Accepted"
[32m.[0m2025-04-22 21:44:18,290 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:18,290 - INFO - COMMIT
2025-04-22 21:44:18,291 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:18,291 - INFO - BEGIN (implicit)
2025-04-22 21:44:18,291 INFO sqlalchemy.engine.Engine SET session_replication_role = 'replica';
2025-04-22 21:44:18,291 - INFO - SET session_replication_role = 'replica';
2025-04-22 21:44:18,291 INFO sqlalchemy.engine.Engine [cached since 6.561s ago] {}
2025-04-22 21:44:18,291 - INFO - [cached since 6.561s ago] {}
2025-04-22 21:44:18,291 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,291 - INFO - TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,291 INFO sqlalchemy.engine.Engine [cached since 6.561s ago] {}
2025-04-22 21:44:18,291 - INFO - [cached since 6.561s ago] {}
2025-04-22 21:44:18,295 INFO sqlalchemy.engine.Engine TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,295 - INFO - TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,295 INFO sqlalchemy.engine.Engine [cached since 6.56s ago] {}
2025-04-22 21:44:18,295 - INFO - [cached since 6.56s ago] {}
2025-04-22 21:44:18,298 INFO sqlalchemy.engine.Engine TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,298 - INFO - TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,298 INFO sqlalchemy.engine.Engine [cached since 6.56s ago] {}
2025-04-22 21:44:18,298 - INFO - [cached since 6.56s ago] {}
2025-04-22 21:44:18,303 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,303 - INFO - TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,304 INFO sqlalchemy.engine.Engine [cached since 6.563s ago] {}
2025-04-22 21:44:18,304 - INFO - [cached since 6.563s ago] {}
2025-04-22 21:44:18,317 INFO sqlalchemy.engine.Engine TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,317 - INFO - TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,317 INFO sqlalchemy.engine.Engine [cached since 6.563s ago] {}
2025-04-22 21:44:18,317 - INFO - [cached since 6.563s ago] {}
2025-04-22 21:44:18,390 INFO sqlalchemy.engine.Engine TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,390 - INFO - TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,390 INFO sqlalchemy.engine.Engine [cached since 6.524s ago] {}
2025-04-22 21:44:18,390 - INFO - [cached since 6.524s ago] {}
2025-04-22 21:44:18,455 INFO sqlalchemy.engine.Engine TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,455 - INFO - TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,455 INFO sqlalchemy.engine.Engine [cached since 6.49s ago] {}
2025-04-22 21:44:18,455 - INFO - [cached since 6.49s ago] {}
2025-04-22 21:44:18,480 INFO sqlalchemy.engine.Engine TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,480 - INFO - TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,480 INFO sqlalchemy.engine.Engine [cached since 6.473s ago] {}
2025-04-22 21:44:18,480 - INFO - [cached since 6.473s ago] {}
2025-04-22 21:44:18,492 INFO sqlalchemy.engine.Engine SET session_replication_role = 'origin';
2025-04-22 21:44:18,492 - INFO - SET session_replication_role = 'origin';
2025-04-22 21:44:18,492 INFO sqlalchemy.engine.Engine [cached since 6.461s ago] {}
2025-04-22 21:44:18,492 - INFO - [cached since 6.461s ago] {}
2025-04-22 21:44:18,492 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:18,492 - INFO - COMMIT
2025-04-22 21:44:18,495 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:18,495 - INFO - BEGIN (implicit)
2025-04-22 21:44:18,495 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:18,495 - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:18,495 INFO sqlalchemy.engine.Engine [cached since 6.449s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:18,495 - INFO - [cached since 6.449s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:18,496 - INFO - Creating new test admin: testadmin
2025-04-22 21:44:18,652 INFO sqlalchemy.engine.Engine INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:18,652 - INFO - INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:18,652 INFO sqlalchemy.engine.Engine [cached since 6.433s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$CB5xnD1Tr8Qt1fQnrb2JwOgEyvrToYp98k9Ov3WPYUSE9iuU7237S', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:18,652 - INFO - [cached since 6.433s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$CB5xnD1Tr8Qt1fQnrb2JwOgEyvrToYp98k9Ov3WPYUSE9iuU7237S', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:18,653 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:18,653 - INFO - COMMIT
2025-04-22 21:44:18,655 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:18,655 - INFO - BEGIN (implicit)
2025-04-22 21:44:18,655 INFO sqlalchemy.engine.Engine SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:18,655 - INFO - SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:18,655 INFO sqlalchemy.engine.Engine [cached since 6.424s ago] {'pk_1': 1}
2025-04-22 21:44:18,655 - INFO - [cached since 6.424s ago] {'pk_1': 1}
2025-04-22 21:44:18,656 - INFO - Created test admin with ID: 1
2025-04-22 21:44:18,656 - INFO - Created admin token for user: testadmin
2025-04-22 21:44:18,657 INFO sqlalchemy.engine.Engine INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) VALUES (%(name)s, %(job_type)s, %(description)s, %(status)s, %(scheduled_for)s, %(started_at)s, %(completed_at)s, %(is_enabled)s, %(is_system_job)s, %(schedule_type)s, %(interval_seconds)s, %(cron_string)s, %(device_id)s) RETURNING jobs.id
2025-04-22 21:44:18,657 - INFO - INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) VALUES (%(name)s, %(job_type)s, %(description)s, %(status)s, %(scheduled_for)s, %(started_at)s, %(completed_at)s, %(is_enabled)s, %(is_system_job)s, %(schedule_type)s, %(interval_seconds)s, %(cron_string)s, %(device_id)s) RETURNING jobs.id
2025-04-22 21:44:18,657 INFO sqlalchemy.engine.Engine [cached since 2.546s ago] {'name': 'disabled-job', 'job_type': 'backup', 'description': None, 'status': 'pending', 'scheduled_for': '2025-01-01T00:00:00Z', 'started_at': None, 'completed_at': None, 'is_enabled': False, 'is_system_job': False, 'schedule_type': 'onetime', 'interval_seconds': None, 'cron_string': None, 'device_id': None}
2025-04-22 21:44:18,657 - INFO - [cached since 2.546s ago] {'name': 'disabled-job', 'job_type': 'backup', 'description': None, 'status': 'pending', 'scheduled_for': '2025-01-01T00:00:00Z', 'started_at': None, 'completed_at': None, 'is_enabled': False, 'is_system_job': False, 'schedule_type': 'onetime', 'interval_seconds': None, 'cron_string': None, 'device_id': None}
2025-04-22 21:44:18,658 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:18,658 - INFO - COMMIT
2025-04-22 21:44:18,659 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:18,659 - INFO - BEGIN (implicit)
2025-04-22 21:44:18,660 INFO sqlalchemy.engine.Engine SELECT jobs.id, jobs.name, jobs.job_type, jobs.description, jobs.status, jobs.scheduled_for, jobs.started_at, jobs.completed_at, jobs.is_enabled, jobs.is_system_job, jobs.schedule_type, jobs.interval_seconds, jobs.cron_string, jobs.device_id 
FROM jobs 
WHERE jobs.id = %(pk_1)s
2025-04-22 21:44:18,660 - INFO - SELECT jobs.id, jobs.name, jobs.job_type, jobs.description, jobs.status, jobs.scheduled_for, jobs.started_at, jobs.completed_at, jobs.is_enabled, jobs.is_system_job, jobs.schedule_type, jobs.interval_seconds, jobs.cron_string, jobs.device_id 
FROM jobs 
WHERE jobs.id = %(pk_1)s
2025-04-22 21:44:18,660 INFO sqlalchemy.engine.Engine [cached since 6.375s ago] {'pk_1': 1}
2025-04-22 21:44:18,660 - INFO - [cached since 6.375s ago] {'pk_1': 1}
2025-04-22 21:44:18,662 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:18,662 - INFO - BEGIN (implicit)
2025-04-22 21:44:18,663 INFO sqlalchemy.engine.Engine SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.id = %(id_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:18,663 - INFO - SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.id = %(id_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:18,663 INFO sqlalchemy.engine.Engine [cached since 1.749s ago] {'id_1': 1, 'param_1': 1}
2025-04-22 21:44:18,663 - INFO - [cached since 1.749s ago] {'id_1': 1, 'param_1': 1}
2025-04-22 21:44:18,663 INFO sqlalchemy.engine.Engine UPDATE jobs SET status=%(status)s WHERE jobs.id = %(jobs_id)s
2025-04-22 21:44:18,663 - INFO - UPDATE jobs SET status=%(status)s WHERE jobs.id = %(jobs_id)s
2025-04-22 21:44:18,663 INFO sqlalchemy.engine.Engine [cached since 0.3807s ago] {'status': 'queued', 'jobs_id': 1}
2025-04-22 21:44:18,663 - INFO - [cached since 0.3807s ago] {'status': 'queued', 'jobs_id': 1}
2025-04-22 21:44:18,664 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:18,664 - INFO - COMMIT
2025-04-22 21:44:18,666 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:18,666 - INFO - BEGIN (implicit)
2025-04-22 21:44:18,666 INFO sqlalchemy.engine.Engine SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.id = %(pk_1)s
2025-04-22 21:44:18,666 - INFO - SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.id = %(pk_1)s
2025-04-22 21:44:18,666 INFO sqlalchemy.engine.Engine [cached since 0.3799s ago] {'pk_1': 1}
2025-04-22 21:44:18,666 - INFO - [cached since 0.3799s ago] {'pk_1': 1}
2025-04-22 21:44:18,667 INFO sqlalchemy.engine.Engine ROLLBACK
2025-04-22 21:44:18,667 - INFO - ROLLBACK
2025-04-22 21:44:18,668 - INFO - HTTP Request: POST http://testserver/jobs/run/1 "HTTP/1.1 202 Accepted"
[32m.[0m2025-04-22 21:44:18,669 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:18,669 - INFO - COMMIT
2025-04-22 21:44:18,669 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:18,669 - INFO - BEGIN (implicit)
2025-04-22 21:44:18,670 INFO sqlalchemy.engine.Engine SET session_replication_role = 'replica';
2025-04-22 21:44:18,670 - INFO - SET session_replication_role = 'replica';
2025-04-22 21:44:18,670 INFO sqlalchemy.engine.Engine [cached since 6.94s ago] {}
2025-04-22 21:44:18,670 - INFO - [cached since 6.94s ago] {}
2025-04-22 21:44:18,670 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,670 - INFO - TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,670 INFO sqlalchemy.engine.Engine [cached since 6.939s ago] {}
2025-04-22 21:44:18,670 - INFO - [cached since 6.939s ago] {}
2025-04-22 21:44:18,673 INFO sqlalchemy.engine.Engine TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,673 - INFO - TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,674 INFO sqlalchemy.engine.Engine [cached since 6.939s ago] {}
2025-04-22 21:44:18,674 - INFO - [cached since 6.939s ago] {}
2025-04-22 21:44:18,677 INFO sqlalchemy.engine.Engine TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,677 - INFO - TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,677 INFO sqlalchemy.engine.Engine [cached since 6.939s ago] {}
2025-04-22 21:44:18,677 - INFO - [cached since 6.939s ago] {}
2025-04-22 21:44:18,680 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,680 - INFO - TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,680 INFO sqlalchemy.engine.Engine [cached since 6.939s ago] {}
2025-04-22 21:44:18,680 - INFO - [cached since 6.939s ago] {}
2025-04-22 21:44:18,692 INFO sqlalchemy.engine.Engine TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,692 - INFO - TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,692 INFO sqlalchemy.engine.Engine [cached since 6.939s ago] {}
2025-04-22 21:44:18,692 - INFO - [cached since 6.939s ago] {}
2025-04-22 21:44:18,758 INFO sqlalchemy.engine.Engine TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,758 - INFO - TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,758 INFO sqlalchemy.engine.Engine [cached since 6.891s ago] {}
2025-04-22 21:44:18,758 - INFO - [cached since 6.891s ago] {}
2025-04-22 21:44:18,824 INFO sqlalchemy.engine.Engine TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,824 - INFO - TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,824 INFO sqlalchemy.engine.Engine [cached since 6.86s ago] {}
2025-04-22 21:44:18,824 - INFO - [cached since 6.86s ago] {}
2025-04-22 21:44:18,852 INFO sqlalchemy.engine.Engine TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,852 - INFO - TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:18,852 INFO sqlalchemy.engine.Engine [cached since 6.845s ago] {}
2025-04-22 21:44:18,852 - INFO - [cached since 6.845s ago] {}
2025-04-22 21:44:18,864 INFO sqlalchemy.engine.Engine SET session_replication_role = 'origin';
2025-04-22 21:44:18,864 - INFO - SET session_replication_role = 'origin';
2025-04-22 21:44:18,864 INFO sqlalchemy.engine.Engine [cached since 6.833s ago] {}
2025-04-22 21:44:18,864 - INFO - [cached since 6.833s ago] {}
2025-04-22 21:44:18,864 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:18,864 - INFO - COMMIT
2025-04-22 21:44:18,866 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:18,866 - INFO - BEGIN (implicit)
2025-04-22 21:44:18,867 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:18,867 - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:18,867 INFO sqlalchemy.engine.Engine [cached since 6.82s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:18,867 - INFO - [cached since 6.82s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:18,867 - INFO - Creating new test admin: testadmin
2025-04-22 21:44:19,023 INFO sqlalchemy.engine.Engine INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:19,023 - INFO - INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:19,023 INFO sqlalchemy.engine.Engine [cached since 6.804s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$j4o32ZQRxaXnsXG7vigyi.06WH/LI4PvV7Vo6CtFb0BGBfUn31vVq', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:19,023 - INFO - [cached since 6.804s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$j4o32ZQRxaXnsXG7vigyi.06WH/LI4PvV7Vo6CtFb0BGBfUn31vVq', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:19,024 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:19,024 - INFO - COMMIT
2025-04-22 21:44:19,027 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:19,027 - INFO - BEGIN (implicit)
2025-04-22 21:44:19,027 INFO sqlalchemy.engine.Engine SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:19,027 - INFO - SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:19,027 INFO sqlalchemy.engine.Engine [cached since 6.796s ago] {'pk_1': 1}
2025-04-22 21:44:19,027 - INFO - [cached since 6.796s ago] {'pk_1': 1}
2025-04-22 21:44:19,028 - INFO - Created test admin with ID: 1
2025-04-22 21:44:19,029 - INFO - Created admin token for user: testadmin
2025-04-22 21:44:19,030 INFO sqlalchemy.engine.Engine INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) SELECT p0::VARCHAR, p1::VARCHAR, p2::VARCHAR, p3::VARCHAR, p4::TIMESTA ... 723 characters truncated ... p6, p7, p8, p9, p10, p11, p12, sen_counter) ORDER BY sen_counter RETURNING jobs.id, jobs.id AS id__1
2025-04-22 21:44:19,030 - INFO - INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) SELECT p0::VARCHAR, p1::VARCHAR, p2::VARCHAR, p3::VARCHAR, p4::TIMESTA ... 723 characters truncated ... p6, p7, p8, p9, p10, p11, p12, sen_counter) ORDER BY sen_counter RETURNING jobs.id, jobs.id AS id__1
2025-04-22 21:44:19,030 INFO sqlalchemy.engine.Engine [generated in 0.00006s (insertmanyvalues) 1/1 (ordered)] {'device_id__0': None, 'description__0': None, 'completed_at__0': None, 'status__0': 'pending', 'cron_string__0': None, 'is_system_job__0': False, 'name__0': 'jobtype-test-job-0', 'job_type__0': 'reachability', 'is_enabled__0': True, 'schedule_type__0': 'onetime', 'interval_seconds__0': None, 'scheduled_for__0': '2025-01-01T00:00:00Z', 'started_at__0': None, 'device_id__1': None, 'description__1': None, 'completed_at__1': None, 'status__1': 'pending', 'cron_string__1': None, 'is_system_job__1': False, 'name__1': 'jobtype-test-job-1', 'job_type__1': 'backup', 'is_enabled__1': True, 'schedule_type__1': 'onetime', 'interval_seconds__1': None, 'scheduled_for__1': '2025-01-01T00:00:00Z', 'started_at__1': None}
2025-04-22 21:44:19,030 - INFO - [generated in 0.00006s (insertmanyvalues) 1/1 (ordered)] {'device_id__0': None, 'description__0': None, 'completed_at__0': None, 'status__0': 'pending', 'cron_string__0': None, 'is_system_job__0': False, 'name__0': 'jobtype-test-job-0', 'job_type__0': 'reachability', 'is_enabled__0': True, 'schedule_type__0': 'onetime', 'interval_seconds__0': None, 'scheduled_for__0': '2025-01-01T00:00:00Z', 'started_at__0': None, 'device_id__1': None, 'description__1': None, 'completed_at__1': None, 'status__1': 'pending', 'cron_string__1': None, 'is_system_job__1': False, 'name__1': 'jobtype-test-job-1', 'job_type__1': 'backup', 'is_enabled__1': True, 'schedule_type__1': 'onetime', 'interval_seconds__1': None, 'scheduled_for__1': '2025-01-01T00:00:00Z', 'started_at__1': None}
2025-04-22 21:44:19,031 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:19,031 - INFO - COMMIT
2025-04-22 21:44:19,034 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:19,034 - INFO - BEGIN (implicit)
2025-04-22 21:44:19,034 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs) AS anon_1
2025-04-22 21:44:19,034 - INFO - SELECT count(*) AS count_1 
FROM (SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs) AS anon_1
2025-04-22 21:44:19,035 INFO sqlalchemy.engine.Engine [cached since 4.075s ago] {}
2025-04-22 21:44:19,035 - INFO - [cached since 4.075s ago] {}
2025-04-22 21:44:19,035 INFO sqlalchemy.engine.Engine SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-04-22 21:44:19,035 - INFO - SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-04-22 21:44:19,035 INFO sqlalchemy.engine.Engine [cached since 4.074s ago] {'param_1': 20, 'param_2': 0}
2025-04-22 21:44:19,035 - INFO - [cached since 4.074s ago] {'param_1': 20, 'param_2': 0}
2025-04-22 21:44:19,036 INFO sqlalchemy.engine.Engine SELECT jobs_1.id AS jobs_1_id, tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM jobs AS jobs_1 JOIN job_tags AS job_tags_1 ON jobs_1.id = job_tags_1.job_id JOIN tags ON tags.id = job_tags_1.tag_id 
WHERE jobs_1.id IN (%(primary_keys_1)s, %(primary_keys_2)s)
2025-04-22 21:44:19,036 - INFO - SELECT jobs_1.id AS jobs_1_id, tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM jobs AS jobs_1 JOIN job_tags AS job_tags_1 ON jobs_1.id = job_tags_1.job_id JOIN tags ON tags.id = job_tags_1.tag_id 
WHERE jobs_1.id IN (%(primary_keys_1)s, %(primary_keys_2)s)
2025-04-22 21:44:19,036 INFO sqlalchemy.engine.Engine [cached since 6.748s ago] {'primary_keys_1': 1, 'primary_keys_2': 2}
2025-04-22 21:44:19,036 - INFO - [cached since 6.748s ago] {'primary_keys_1': 1, 'primary_keys_2': 2}
2025-04-22 21:44:19,037 INFO sqlalchemy.engine.Engine ROLLBACK
2025-04-22 21:44:19,037 - INFO - ROLLBACK
2025-04-22 21:44:19,038 - INFO - HTTP Request: GET http://testserver/jobs/ "HTTP/1.1 200 OK"
[32m.[0m2025-04-22 21:44:19,039 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:19,039 - INFO - BEGIN (implicit)
2025-04-22 21:44:19,039 INFO sqlalchemy.engine.Engine SET session_replication_role = 'replica';
2025-04-22 21:44:19,039 - INFO - SET session_replication_role = 'replica';
2025-04-22 21:44:19,039 INFO sqlalchemy.engine.Engine [cached since 7.309s ago] {}
2025-04-22 21:44:19,039 - INFO - [cached since 7.309s ago] {}
2025-04-22 21:44:19,039 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,039 - INFO - TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,039 INFO sqlalchemy.engine.Engine [cached since 7.309s ago] {}
2025-04-22 21:44:19,039 - INFO - [cached since 7.309s ago] {}
2025-04-22 21:44:19,043 INFO sqlalchemy.engine.Engine TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,043 - INFO - TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,043 INFO sqlalchemy.engine.Engine [cached since 7.308s ago] {}
2025-04-22 21:44:19,043 - INFO - [cached since 7.308s ago] {}
2025-04-22 21:44:19,046 INFO sqlalchemy.engine.Engine TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,046 - INFO - TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,046 INFO sqlalchemy.engine.Engine [cached since 7.308s ago] {}
2025-04-22 21:44:19,046 - INFO - [cached since 7.308s ago] {}
2025-04-22 21:44:19,049 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,049 - INFO - TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,049 INFO sqlalchemy.engine.Engine [cached since 7.308s ago] {}
2025-04-22 21:44:19,049 - INFO - [cached since 7.308s ago] {}
2025-04-22 21:44:19,061 INFO sqlalchemy.engine.Engine TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,061 - INFO - TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,061 INFO sqlalchemy.engine.Engine [cached since 7.308s ago] {}
2025-04-22 21:44:19,061 - INFO - [cached since 7.308s ago] {}
2025-04-22 21:44:19,125 INFO sqlalchemy.engine.Engine TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,125 - INFO - TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,126 INFO sqlalchemy.engine.Engine [cached since 7.259s ago] {}
2025-04-22 21:44:19,126 - INFO - [cached since 7.259s ago] {}
2025-04-22 21:44:19,194 INFO sqlalchemy.engine.Engine TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,194 - INFO - TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,194 INFO sqlalchemy.engine.Engine [cached since 7.23s ago] {}
2025-04-22 21:44:19,194 - INFO - [cached since 7.23s ago] {}
2025-04-22 21:44:19,219 INFO sqlalchemy.engine.Engine TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,219 - INFO - TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,219 INFO sqlalchemy.engine.Engine [cached since 7.212s ago] {}
2025-04-22 21:44:19,219 - INFO - [cached since 7.212s ago] {}
2025-04-22 21:44:19,231 INFO sqlalchemy.engine.Engine SET session_replication_role = 'origin';
2025-04-22 21:44:19,231 - INFO - SET session_replication_role = 'origin';
2025-04-22 21:44:19,231 INFO sqlalchemy.engine.Engine [cached since 7.2s ago] {}
2025-04-22 21:44:19,231 - INFO - [cached since 7.2s ago] {}
2025-04-22 21:44:19,231 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:19,231 - INFO - COMMIT
2025-04-22 21:44:19,234 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:19,234 - INFO - BEGIN (implicit)
2025-04-22 21:44:19,235 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:19,235 - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:19,235 INFO sqlalchemy.engine.Engine [cached since 7.188s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:19,235 - INFO - [cached since 7.188s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:19,235 - INFO - Creating new test admin: testadmin
2025-04-22 21:44:19,393 INFO sqlalchemy.engine.Engine INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:19,393 - INFO - INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:19,393 INFO sqlalchemy.engine.Engine [cached since 7.174s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$eCN2oNCzR8SusHqwTZHM2OKo.Du9RbtN57/J3neEcMc70/aGwleZu', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:19,393 - INFO - [cached since 7.174s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$eCN2oNCzR8SusHqwTZHM2OKo.Du9RbtN57/J3neEcMc70/aGwleZu', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:19,394 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:19,394 - INFO - COMMIT
2025-04-22 21:44:19,396 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:19,396 - INFO - BEGIN (implicit)
2025-04-22 21:44:19,396 INFO sqlalchemy.engine.Engine SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:19,396 - INFO - SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:19,396 INFO sqlalchemy.engine.Engine [cached since 7.164s ago] {'pk_1': 1}
2025-04-22 21:44:19,396 - INFO - [cached since 7.164s ago] {'pk_1': 1}
2025-04-22 21:44:19,397 - INFO - Created test admin with ID: 1
2025-04-22 21:44:19,397 - INFO - Created admin token for user: testadmin
2025-04-22 21:44:19,397 INFO sqlalchemy.engine.Engine INSERT INTO tags (name, type) VALUES (%(name)s, %(type)s) RETURNING tags.id
2025-04-22 21:44:19,397 - INFO - INSERT INTO tags (name, type) VALUES (%(name)s, %(type)s) RETURNING tags.id
2025-04-22 21:44:19,397 INFO sqlalchemy.engine.Engine [cached since 7.164s ago] {'name': 'test-job-tag', 'type': 'job'}
2025-04-22 21:44:19,397 - INFO - [cached since 7.164s ago] {'name': 'test-job-tag', 'type': 'job'}
2025-04-22 21:44:19,398 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:19,398 - INFO - COMMIT
2025-04-22 21:44:19,400 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:19,400 - INFO - BEGIN (implicit)
2025-04-22 21:44:19,400 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name, tags.type 
FROM tags 
WHERE tags.id = %(pk_1)s
2025-04-22 21:44:19,400 - INFO - SELECT tags.id, tags.name, tags.type 
FROM tags 
WHERE tags.id = %(pk_1)s
2025-04-22 21:44:19,400 INFO sqlalchemy.engine.Engine [cached since 7.163s ago] {'pk_1': 1}
2025-04-22 21:44:19,400 - INFO - [cached since 7.163s ago] {'pk_1': 1}
2025-04-22 21:44:19,402 INFO sqlalchemy.engine.Engine INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) SELECT p0::VARCHAR, p1::VARCHAR, p2::VARCHAR, p3::VARCHAR, p4::TIMESTA ... 981 characters truncated ... p6, p7, p8, p9, p10, p11, p12, sen_counter) ORDER BY sen_counter RETURNING jobs.id, jobs.id AS id__1
2025-04-22 21:44:19,402 - INFO - INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) SELECT p0::VARCHAR, p1::VARCHAR, p2::VARCHAR, p3::VARCHAR, p4::TIMESTA ... 981 characters truncated ... p6, p7, p8, p9, p10, p11, p12, sen_counter) ORDER BY sen_counter RETURNING jobs.id, jobs.id AS id__1
2025-04-22 21:44:19,402 INFO sqlalchemy.engine.Engine [cached since 0.3721s ago (insertmanyvalues) 1/1 (ordered)] {'device_id__0': None, 'description__0': None, 'completed_at__0': None, 'status__0': 'pending', 'cron_string__0': None, 'is_system_job__0': False, 'name__0': 'scheduled-interval', 'job_type__0': 'backup', 'is_enabled__0': True, 'schedule_type__0': 'interval', 'interval_seconds__0': 3600, 'scheduled_for__0': None, 'started_at__0': datetime.datetime(2025, 4, 22, 21, 44, 19, 401563), 'device_id__1': None, 'description__1': None, 'completed_at__1': None, 'status__1': 'pending', 'cron_string__1': '0 2 * * *', 'is_system_job__1': False, 'name__1': 'scheduled-cron', 'job_type__1': 'reachability', 'is_enabled__1': True, 'schedule_type__1': 'cron', 'interval_seconds__1': None, 'scheduled_for__1': None, 'started_at__1': datetime.datetime(2025, 4, 22, 21, 44, 19, 401563), 'device_id__2': None, 'description__2': None, 'completed_at__2': None, 'status__2': 'pending', 'cron_string__2': None, 'is_system_job__2': False, 'name__2': 'scheduled-onetime', 'job_type__2': 'backup', 'is_enabled__2': True, 'schedule_type__2': 'onetime', 'interval_seconds__2': None, 'scheduled_for__2': datetime.datetime(2025, 4, 23, 21, 44, 19, 401563), 'started_at__2': None}
2025-04-22 21:44:19,402 - INFO - [cached since 0.3721s ago (insertmanyvalues) 1/1 (ordered)] {'device_id__0': None, 'description__0': None, 'completed_at__0': None, 'status__0': 'pending', 'cron_string__0': None, 'is_system_job__0': False, 'name__0': 'scheduled-interval', 'job_type__0': 'backup', 'is_enabled__0': True, 'schedule_type__0': 'interval', 'interval_seconds__0': 3600, 'scheduled_for__0': None, 'started_at__0': datetime.datetime(2025, 4, 22, 21, 44, 19, 401563), 'device_id__1': None, 'description__1': None, 'completed_at__1': None, 'status__1': 'pending', 'cron_string__1': '0 2 * * *', 'is_system_job__1': False, 'name__1': 'scheduled-cron', 'job_type__1': 'reachability', 'is_enabled__1': True, 'schedule_type__1': 'cron', 'interval_seconds__1': None, 'scheduled_for__1': None, 'started_at__1': datetime.datetime(2025, 4, 22, 21, 44, 19, 401563), 'device_id__2': None, 'description__2': None, 'completed_at__2': None, 'status__2': 'pending', 'cron_string__2': None, 'is_system_job__2': False, 'name__2': 'scheduled-onetime', 'job_type__2': 'backup', 'is_enabled__2': True, 'schedule_type__2': 'onetime', 'interval_seconds__2': None, 'scheduled_for__2': datetime.datetime(2025, 4, 23, 21, 44, 19, 401563), 'started_at__2': None}
2025-04-22 21:44:19,403 INFO sqlalchemy.engine.Engine INSERT INTO job_tags (job_id, tag_id) VALUES (%(job_id__0)s, %(tag_id__0)s), (%(job_id__1)s, %(tag_id__1)s), (%(job_id__2)s, %(tag_id__2)s)
2025-04-22 21:44:19,403 - INFO - INSERT INTO job_tags (job_id, tag_id) VALUES (%(job_id__0)s, %(tag_id__0)s), (%(job_id__1)s, %(tag_id__1)s), (%(job_id__2)s, %(tag_id__2)s)
2025-04-22 21:44:19,403 INFO sqlalchemy.engine.Engine [generated in 0.00004s (insertmanyvalues) 1/1 (unordered)] {'job_id__0': 2, 'tag_id__0': 1, 'job_id__1': 1, 'tag_id__1': 1, 'job_id__2': 3, 'tag_id__2': 1}
2025-04-22 21:44:19,403 - INFO - [generated in 0.00004s (insertmanyvalues) 1/1 (unordered)] {'job_id__0': 2, 'tag_id__0': 1, 'job_id__1': 1, 'tag_id__1': 1, 'job_id__2': 3, 'tag_id__2': 1}
2025-04-22 21:44:19,404 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:19,404 - INFO - COMMIT
2025-04-22 21:44:19,408 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:19,408 - INFO - BEGIN (implicit)
2025-04-22 21:44:19,409 INFO sqlalchemy.engine.Engine SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.is_enabled = true
2025-04-22 21:44:19,409 - INFO - SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.is_enabled = true
2025-04-22 21:44:19,409 INFO sqlalchemy.engine.Engine [generated in 0.00014s] {}
2025-04-22 21:44:19,409 - INFO - [generated in 0.00014s] {}
2025-04-22 21:44:19,410 INFO sqlalchemy.engine.Engine SELECT jobs_1.id AS jobs_1_id, tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM jobs AS jobs_1 JOIN job_tags AS job_tags_1 ON jobs_1.id = job_tags_1.job_id JOIN tags ON tags.id = job_tags_1.tag_id 
WHERE jobs_1.id IN (%(primary_keys_1)s, %(primary_keys_2)s, %(primary_keys_3)s)
2025-04-22 21:44:19,410 - INFO - SELECT jobs_1.id AS jobs_1_id, tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM jobs AS jobs_1 JOIN job_tags AS job_tags_1 ON jobs_1.id = job_tags_1.job_id JOIN tags ON tags.id = job_tags_1.tag_id 
WHERE jobs_1.id IN (%(primary_keys_1)s, %(primary_keys_2)s, %(primary_keys_3)s)
2025-04-22 21:44:19,410 INFO sqlalchemy.engine.Engine [cached since 7.122s ago] {'primary_keys_1': 1, 'primary_keys_2': 2, 'primary_keys_3': 3}
2025-04-22 21:44:19,410 - INFO - [cached since 7.122s ago] {'primary_keys_1': 1, 'primary_keys_2': 2, 'primary_keys_3': 3}
2025-04-22 21:44:19,411 INFO sqlalchemy.engine.Engine ROLLBACK
2025-04-22 21:44:19,411 - INFO - ROLLBACK
2025-04-22 21:44:19,412 - INFO - HTTP Request: GET http://testserver/jobs/scheduled "HTTP/1.1 200 OK"
[32m.[0m2025-04-22 21:44:19,413 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:19,413 - INFO - BEGIN (implicit)
2025-04-22 21:44:19,413 INFO sqlalchemy.engine.Engine SET session_replication_role = 'replica';
2025-04-22 21:44:19,413 - INFO - SET session_replication_role = 'replica';
2025-04-22 21:44:19,413 INFO sqlalchemy.engine.Engine [cached since 7.683s ago] {}
2025-04-22 21:44:19,413 - INFO - [cached since 7.683s ago] {}
2025-04-22 21:44:19,413 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,413 - INFO - TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,413 INFO sqlalchemy.engine.Engine [cached since 7.683s ago] {}
2025-04-22 21:44:19,413 - INFO - [cached since 7.683s ago] {}
2025-04-22 21:44:19,417 INFO sqlalchemy.engine.Engine TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,417 - INFO - TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,417 INFO sqlalchemy.engine.Engine [cached since 7.683s ago] {}
2025-04-22 21:44:19,417 - INFO - [cached since 7.683s ago] {}
2025-04-22 21:44:19,420 INFO sqlalchemy.engine.Engine TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,420 - INFO - TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,420 INFO sqlalchemy.engine.Engine [cached since 7.682s ago] {}
2025-04-22 21:44:19,420 - INFO - [cached since 7.682s ago] {}
2025-04-22 21:44:19,423 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,423 - INFO - TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,424 INFO sqlalchemy.engine.Engine [cached since 7.683s ago] {}
2025-04-22 21:44:19,424 - INFO - [cached since 7.683s ago] {}
2025-04-22 21:44:19,436 INFO sqlalchemy.engine.Engine TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,436 - INFO - TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,436 INFO sqlalchemy.engine.Engine [cached since 7.683s ago] {}
2025-04-22 21:44:19,436 - INFO - [cached since 7.683s ago] {}
2025-04-22 21:44:19,501 INFO sqlalchemy.engine.Engine TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,501 - INFO - TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,501 INFO sqlalchemy.engine.Engine [cached since 7.635s ago] {}
2025-04-22 21:44:19,501 - INFO - [cached since 7.635s ago] {}
2025-04-22 21:44:19,564 INFO sqlalchemy.engine.Engine TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,564 - INFO - TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,564 INFO sqlalchemy.engine.Engine [cached since 7.6s ago] {}
2025-04-22 21:44:19,564 - INFO - [cached since 7.6s ago] {}
2025-04-22 21:44:19,590 INFO sqlalchemy.engine.Engine TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,590 - INFO - TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,590 INFO sqlalchemy.engine.Engine [cached since 7.583s ago] {}
2025-04-22 21:44:19,590 - INFO - [cached since 7.583s ago] {}
2025-04-22 21:44:19,603 INFO sqlalchemy.engine.Engine SET session_replication_role = 'origin';
2025-04-22 21:44:19,603 - INFO - SET session_replication_role = 'origin';
2025-04-22 21:44:19,603 INFO sqlalchemy.engine.Engine [cached since 7.572s ago] {}
2025-04-22 21:44:19,603 - INFO - [cached since 7.572s ago] {}
2025-04-22 21:44:19,603 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:19,603 - INFO - COMMIT
2025-04-22 21:44:19,606 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:19,606 - INFO - BEGIN (implicit)
2025-04-22 21:44:19,606 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:19,606 - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:19,606 INFO sqlalchemy.engine.Engine [cached since 7.56s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:19,606 - INFO - [cached since 7.56s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:19,607 - INFO - Creating new test admin: testadmin
2025-04-22 21:44:19,763 INFO sqlalchemy.engine.Engine INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:19,763 - INFO - INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:19,764 INFO sqlalchemy.engine.Engine [cached since 7.545s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$Ga7box6uUKC2Y8qxIJJDOew/v0ga4BCUtURpcQCf7h2r/6RkjuT9.', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:19,764 - INFO - [cached since 7.545s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$Ga7box6uUKC2Y8qxIJJDOew/v0ga4BCUtURpcQCf7h2r/6RkjuT9.', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:19,765 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:19,765 - INFO - COMMIT
2025-04-22 21:44:19,769 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:19,769 - INFO - BEGIN (implicit)
2025-04-22 21:44:19,769 INFO sqlalchemy.engine.Engine SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:19,769 - INFO - SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:19,769 INFO sqlalchemy.engine.Engine [cached since 7.538s ago] {'pk_1': 1}
2025-04-22 21:44:19,769 - INFO - [cached since 7.538s ago] {'pk_1': 1}
2025-04-22 21:44:19,770 - INFO - Created test admin with ID: 1
2025-04-22 21:44:19,770 - INFO - Created admin token for user: testadmin
2025-04-22 21:44:19,771 INFO sqlalchemy.engine.Engine INSERT INTO tags (name, type) VALUES (%(name)s, %(type)s) RETURNING tags.id
2025-04-22 21:44:19,771 - INFO - INSERT INTO tags (name, type) VALUES (%(name)s, %(type)s) RETURNING tags.id
2025-04-22 21:44:19,771 INFO sqlalchemy.engine.Engine [cached since 7.537s ago] {'name': 'test-job-tag', 'type': 'job'}
2025-04-22 21:44:19,771 - INFO - [cached since 7.537s ago] {'name': 'test-job-tag', 'type': 'job'}
2025-04-22 21:44:19,772 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:19,772 - INFO - COMMIT
2025-04-22 21:44:19,773 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:19,773 - INFO - BEGIN (implicit)
2025-04-22 21:44:19,773 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name, tags.type 
FROM tags 
WHERE tags.id = %(pk_1)s
2025-04-22 21:44:19,773 - INFO - SELECT tags.id, tags.name, tags.type 
FROM tags 
WHERE tags.id = %(pk_1)s
2025-04-22 21:44:19,774 INFO sqlalchemy.engine.Engine [cached since 7.537s ago] {'pk_1': 1}
2025-04-22 21:44:19,774 - INFO - [cached since 7.537s ago] {'pk_1': 1}
2025-04-22 21:44:19,775 INFO sqlalchemy.engine.Engine INSERT INTO devices (hostname, ip_address, device_type, description, port, last_seen) VALUES (%(hostname)s, %(ip_address)s, %(device_type)s, %(description)s, %(port)s, %(last_seen)s) RETURNING devices.id, devices.created_at
2025-04-22 21:44:19,775 - INFO - INSERT INTO devices (hostname, ip_address, device_type, description, port, last_seen) VALUES (%(hostname)s, %(ip_address)s, %(device_type)s, %(description)s, %(port)s, %(last_seen)s) RETURNING devices.id, devices.created_at
2025-04-22 21:44:19,775 INFO sqlalchemy.engine.Engine [cached since 6.533s ago] {'hostname': 'recent-device', 'ip_address': '10.0.0.10', 'device_type': 'cisco_ios', 'description': None, 'port': 22, 'last_seen': None}
2025-04-22 21:44:19,775 - INFO - [cached since 6.533s ago] {'hostname': 'recent-device', 'ip_address': '10.0.0.10', 'device_type': 'cisco_ios', 'description': None, 'port': 22, 'last_seen': None}
2025-04-22 21:44:19,775 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:19,775 - INFO - COMMIT
2025-04-22 21:44:19,778 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:19,778 - INFO - BEGIN (implicit)
2025-04-22 21:44:19,778 INFO sqlalchemy.engine.Engine SELECT devices.id AS devices_id, devices.hostname AS devices_hostname, devices.ip_address AS devices_ip_address, devices.device_type AS devices_device_type, devices.description AS devices_description, devices.port AS devices_port, devices.created_at AS devices_created_at, devices.last_seen AS devices_last_seen 
FROM devices 
WHERE devices.id = %(pk_1)s
2025-04-22 21:44:19,778 - INFO - SELECT devices.id AS devices_id, devices.hostname AS devices_hostname, devices.ip_address AS devices_ip_address, devices.device_type AS devices_device_type, devices.description AS devices_description, devices.port AS devices_port, devices.created_at AS devices_created_at, devices.last_seen AS devices_last_seen 
FROM devices 
WHERE devices.id = %(pk_1)s
2025-04-22 21:44:19,778 INFO sqlalchemy.engine.Engine [generated in 0.00013s] {'pk_1': 1}
2025-04-22 21:44:19,778 - INFO - [generated in 0.00013s] {'pk_1': 1}
2025-04-22 21:44:19,780 INFO sqlalchemy.engine.Engine INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) SELECT p0::VARCHAR, p1::VARCHAR, p2::VARCHAR, p3::VARCHAR, p4::TIMESTA ... 723 characters truncated ... p6, p7, p8, p9, p10, p11, p12, sen_counter) ORDER BY sen_counter RETURNING jobs.id, jobs.id AS id__1
2025-04-22 21:44:19,780 - INFO - INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) SELECT p0::VARCHAR, p1::VARCHAR, p2::VARCHAR, p3::VARCHAR, p4::TIMESTA ... 723 characters truncated ... p6, p7, p8, p9, p10, p11, p12, sen_counter) ORDER BY sen_counter RETURNING jobs.id, jobs.id AS id__1
2025-04-22 21:44:19,780 INFO sqlalchemy.engine.Engine [cached since 0.7498s ago (insertmanyvalues) 1/1 (ordered)] {'device_id__0': 1, 'description__0': None, 'completed_at__0': datetime.datetime(2025, 4, 22, 21, 39, 19, 774842), 'status__0': 'completed', 'cron_string__0': None, 'is_system_job__0': False, 'name__0': 'recent-job-1', 'job_type__0': 'backup', 'is_enabled__0': True, 'schedule_type__0': 'onetime', 'interval_seconds__0': None, 'scheduled_for__0': None, 'started_at__0': datetime.datetime(2025, 4, 22, 21, 34, 19, 774842), 'device_id__1': None, 'description__1': None, 'completed_at__1': datetime.datetime(2025, 4, 22, 19, 54, 19, 774842), 'status__1': 'completed', 'cron_string__1': None, 'is_system_job__1': False, 'name__1': 'recent-job-2', 'job_type__1': 'reachability', 'is_enabled__1': True, 'schedule_type__1': 'onetime', 'interval_seconds__1': None, 'scheduled_for__1': None, 'started_at__1': datetime.datetime(2025, 4, 22, 19, 44, 19, 774842)}
2025-04-22 21:44:19,780 - INFO - [cached since 0.7498s ago (insertmanyvalues) 1/1 (ordered)] {'device_id__0': 1, 'description__0': None, 'completed_at__0': datetime.datetime(2025, 4, 22, 21, 39, 19, 774842), 'status__0': 'completed', 'cron_string__0': None, 'is_system_job__0': False, 'name__0': 'recent-job-1', 'job_type__0': 'backup', 'is_enabled__0': True, 'schedule_type__0': 'onetime', 'interval_seconds__0': None, 'scheduled_for__0': None, 'started_at__0': datetime.datetime(2025, 4, 22, 21, 34, 19, 774842), 'device_id__1': None, 'description__1': None, 'completed_at__1': datetime.datetime(2025, 4, 22, 19, 54, 19, 774842), 'status__1': 'completed', 'cron_string__1': None, 'is_system_job__1': False, 'name__1': 'recent-job-2', 'job_type__1': 'reachability', 'is_enabled__1': True, 'schedule_type__1': 'onetime', 'interval_seconds__1': None, 'scheduled_for__1': None, 'started_at__1': datetime.datetime(2025, 4, 22, 19, 44, 19, 774842)}
2025-04-22 21:44:19,781 INFO sqlalchemy.engine.Engine SELECT tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM tags 
WHERE tags.id = %(pk_1)s
2025-04-22 21:44:19,781 - INFO - SELECT tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM tags 
WHERE tags.id = %(pk_1)s
2025-04-22 21:44:19,781 INFO sqlalchemy.engine.Engine [generated in 0.00013s] {'pk_1': 1}
2025-04-22 21:44:19,781 - INFO - [generated in 0.00013s] {'pk_1': 1}
2025-04-22 21:44:19,782 INFO sqlalchemy.engine.Engine INSERT INTO job_tags (job_id, tag_id) VALUES (%(job_id__0)s, %(tag_id__0)s), (%(job_id__1)s, %(tag_id__1)s)
2025-04-22 21:44:19,782 - INFO - INSERT INTO job_tags (job_id, tag_id) VALUES (%(job_id__0)s, %(tag_id__0)s), (%(job_id__1)s, %(tag_id__1)s)
2025-04-22 21:44:19,782 INFO sqlalchemy.engine.Engine [cached since 0.3788s ago (insertmanyvalues) 1/1 (unordered)] {'job_id__0': 1, 'tag_id__0': 1, 'job_id__1': 2, 'tag_id__1': 1}
2025-04-22 21:44:19,782 - INFO - [cached since 0.3788s ago (insertmanyvalues) 1/1 (unordered)] {'job_id__0': 1, 'tag_id__0': 1, 'job_id__1': 2, 'tag_id__1': 1}
2025-04-22 21:44:19,783 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:19,783 - INFO - COMMIT
2025-04-22 21:44:19,786 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:19,786 - INFO - BEGIN (implicit)
2025-04-22 21:44:19,787 INFO sqlalchemy.engine.Engine SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.completed_at IS NOT NULL ORDER BY jobs.completed_at DESC 
 LIMIT %(param_1)s
2025-04-22 21:44:19,787 - INFO - SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs 
WHERE jobs.completed_at IS NOT NULL ORDER BY jobs.completed_at DESC 
 LIMIT %(param_1)s
2025-04-22 21:44:19,787 INFO sqlalchemy.engine.Engine [generated in 0.00013s] {'param_1': 20}
2025-04-22 21:44:19,787 - INFO - [generated in 0.00013s] {'param_1': 20}
2025-04-22 21:44:19,788 INFO sqlalchemy.engine.Engine SELECT jobs_1.id AS jobs_1_id, tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM jobs AS jobs_1 JOIN job_tags AS job_tags_1 ON jobs_1.id = job_tags_1.job_id JOIN tags ON tags.id = job_tags_1.tag_id 
WHERE jobs_1.id IN (%(primary_keys_1)s, %(primary_keys_2)s)
2025-04-22 21:44:19,788 - INFO - SELECT jobs_1.id AS jobs_1_id, tags.id AS tags_id, tags.name AS tags_name, tags.type AS tags_type 
FROM jobs AS jobs_1 JOIN job_tags AS job_tags_1 ON jobs_1.id = job_tags_1.job_id JOIN tags ON tags.id = job_tags_1.tag_id 
WHERE jobs_1.id IN (%(primary_keys_1)s, %(primary_keys_2)s)
2025-04-22 21:44:19,788 INFO sqlalchemy.engine.Engine [cached since 7.5s ago] {'primary_keys_1': 1, 'primary_keys_2': 2}
2025-04-22 21:44:19,788 - INFO - [cached since 7.5s ago] {'primary_keys_1': 1, 'primary_keys_2': 2}
2025-04-22 21:44:19,790 INFO sqlalchemy.engine.Engine SELECT devices.id AS devices_id, devices.hostname AS devices_hostname, devices.ip_address AS devices_ip_address, devices.device_type AS devices_device_type, devices.description AS devices_description, devices.port AS devices_port, devices.created_at AS devices_created_at, devices.last_seen AS devices_last_seen 
FROM devices 
WHERE devices.id = %(id_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:19,790 - INFO - SELECT devices.id AS devices_id, devices.hostname AS devices_hostname, devices.ip_address AS devices_ip_address, devices.device_type AS devices_device_type, devices.description AS devices_description, devices.port AS devices_port, devices.created_at AS devices_created_at, devices.last_seen AS devices_last_seen 
FROM devices 
WHERE devices.id = %(id_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:19,790 INFO sqlalchemy.engine.Engine [generated in 0.00013s] {'id_1': 1, 'param_1': 1}
2025-04-22 21:44:19,790 - INFO - [generated in 0.00013s] {'id_1': 1, 'param_1': 1}
2025-04-22 21:44:19,791 INFO sqlalchemy.engine.Engine SELECT devices.id AS devices_id, devices.hostname AS devices_hostname, devices.ip_address AS devices_ip_address, devices.device_type AS devices_device_type, devices.description AS devices_description, devices.port AS devices_port, devices.created_at AS devices_created_at, devices.last_seen AS devices_last_seen 
FROM devices, device_tag_association 
WHERE %(param_1)s = device_tag_association.tag_id AND devices.id = device_tag_association.device_id
2025-04-22 21:44:19,791 - INFO - SELECT devices.id AS devices_id, devices.hostname AS devices_hostname, devices.ip_address AS devices_ip_address, devices.device_type AS devices_device_type, devices.description AS devices_description, devices.port AS devices_port, devices.created_at AS devices_created_at, devices.last_seen AS devices_last_seen 
FROM devices, device_tag_association 
WHERE %(param_1)s = device_tag_association.tag_id AND devices.id = device_tag_association.device_id
2025-04-22 21:44:19,791 INFO sqlalchemy.engine.Engine [generated in 0.00014s] {'param_1': 1}
2025-04-22 21:44:19,791 - INFO - [generated in 0.00014s] {'param_1': 1}
2025-04-22 21:44:19,792 INFO sqlalchemy.engine.Engine ROLLBACK
2025-04-22 21:44:19,792 - INFO - ROLLBACK
2025-04-22 21:44:19,793 - INFO - HTTP Request: GET http://testserver/jobs/recent "HTTP/1.1 200 OK"
[32m.[0m2025-04-22 21:44:19,794 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:19,794 - INFO - BEGIN (implicit)
2025-04-22 21:44:19,794 INFO sqlalchemy.engine.Engine SET session_replication_role = 'replica';
2025-04-22 21:44:19,794 - INFO - SET session_replication_role = 'replica';
2025-04-22 21:44:19,794 INFO sqlalchemy.engine.Engine [cached since 8.064s ago] {}
2025-04-22 21:44:19,794 - INFO - [cached since 8.064s ago] {}
2025-04-22 21:44:19,795 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,795 - INFO - TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,795 INFO sqlalchemy.engine.Engine [cached since 8.064s ago] {}
2025-04-22 21:44:19,795 - INFO - [cached since 8.064s ago] {}
2025-04-22 21:44:19,798 INFO sqlalchemy.engine.Engine TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,798 - INFO - TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,798 INFO sqlalchemy.engine.Engine [cached since 8.064s ago] {}
2025-04-22 21:44:19,798 - INFO - [cached since 8.064s ago] {}
2025-04-22 21:44:19,801 INFO sqlalchemy.engine.Engine TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,801 - INFO - TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,801 INFO sqlalchemy.engine.Engine [cached since 8.064s ago] {}
2025-04-22 21:44:19,801 - INFO - [cached since 8.064s ago] {}
2025-04-22 21:44:19,805 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,805 - INFO - TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,805 INFO sqlalchemy.engine.Engine [cached since 8.064s ago] {}
2025-04-22 21:44:19,805 - INFO - [cached since 8.064s ago] {}
2025-04-22 21:44:19,816 INFO sqlalchemy.engine.Engine TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,816 - INFO - TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,817 INFO sqlalchemy.engine.Engine [cached since 8.063s ago] {}
2025-04-22 21:44:19,817 - INFO - [cached since 8.063s ago] {}
2025-04-22 21:44:19,880 INFO sqlalchemy.engine.Engine TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,880 - INFO - TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,881 INFO sqlalchemy.engine.Engine [cached since 8.014s ago] {}
2025-04-22 21:44:19,881 - INFO - [cached since 8.014s ago] {}
2025-04-22 21:44:19,953 INFO sqlalchemy.engine.Engine TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,953 - INFO - TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,953 INFO sqlalchemy.engine.Engine [cached since 7.989s ago] {}
2025-04-22 21:44:19,953 - INFO - [cached since 7.989s ago] {}
2025-04-22 21:44:19,978 INFO sqlalchemy.engine.Engine TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,978 - INFO - TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:19,979 INFO sqlalchemy.engine.Engine [cached since 7.971s ago] {}
2025-04-22 21:44:19,979 - INFO - [cached since 7.971s ago] {}
2025-04-22 21:44:19,990 INFO sqlalchemy.engine.Engine SET session_replication_role = 'origin';
2025-04-22 21:44:19,990 - INFO - SET session_replication_role = 'origin';
2025-04-22 21:44:19,990 INFO sqlalchemy.engine.Engine [cached since 7.96s ago] {}
2025-04-22 21:44:19,990 - INFO - [cached since 7.96s ago] {}
2025-04-22 21:44:19,990 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:19,990 - INFO - COMMIT
2025-04-22 21:44:19,993 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:19,993 - INFO - BEGIN (implicit)
2025-04-22 21:44:19,993 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:19,993 - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:19,993 INFO sqlalchemy.engine.Engine [cached since 7.946s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:19,993 - INFO - [cached since 7.946s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:19,994 - INFO - Creating new test admin: testadmin
2025-04-22 21:44:20,149 INFO sqlalchemy.engine.Engine INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:20,149 - INFO - INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:20,149 INFO sqlalchemy.engine.Engine [cached since 7.93s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$AXUxdAXWy/IcllHln5fql.T2DVJ68K4a6HoVJ8Ikwb4NjQWoeaP3W', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:20,149 - INFO - [cached since 7.93s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$AXUxdAXWy/IcllHln5fql.T2DVJ68K4a6HoVJ8Ikwb4NjQWoeaP3W', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:20,150 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:20,150 - INFO - COMMIT
2025-04-22 21:44:20,153 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:20,153 - INFO - BEGIN (implicit)
2025-04-22 21:44:20,153 INFO sqlalchemy.engine.Engine SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:20,153 - INFO - SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:20,153 INFO sqlalchemy.engine.Engine [cached since 7.922s ago] {'pk_1': 1}
2025-04-22 21:44:20,153 - INFO - [cached since 7.922s ago] {'pk_1': 1}
2025-04-22 21:44:20,154 - INFO - Created test admin with ID: 1
2025-04-22 21:44:20,155 - INFO - Created admin token for user: testadmin
2025-04-22 21:44:20,155 INFO sqlalchemy.engine.Engine INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) SELECT p0::VARCHAR, p1::VARCHAR, p2::VARCHAR, p3::VARCHAR, p4::TIMESTA ... 723 characters truncated ... p6, p7, p8, p9, p10, p11, p12, sen_counter) ORDER BY sen_counter RETURNING jobs.id, jobs.id AS id__1
2025-04-22 21:44:20,155 - INFO - INSERT INTO jobs (name, job_type, description, status, scheduled_for, started_at, completed_at, is_enabled, is_system_job, schedule_type, interval_seconds, cron_string, device_id) SELECT p0::VARCHAR, p1::VARCHAR, p2::VARCHAR, p3::VARCHAR, p4::TIMESTA ... 723 characters truncated ... p6, p7, p8, p9, p10, p11, p12, sen_counter) ORDER BY sen_counter RETURNING jobs.id, jobs.id AS id__1
2025-04-22 21:44:20,155 INFO sqlalchemy.engine.Engine [cached since 1.125s ago (insertmanyvalues) 1/1 (ordered)] {'device_id__0': None, 'description__0': None, 'completed_at__0': datetime.datetime(2025, 4, 21, 21, 39, 20, 155313), 'status__0': 'completed', 'cron_string__0': None, 'is_system_job__0': False, 'name__0': 'type-job-1', 'job_type__0': 'backup', 'is_enabled__0': True, 'schedule_type__0': 'onetime', 'interval_seconds__0': None, 'scheduled_for__0': None, 'started_at__0': datetime.datetime(2025, 4, 21, 21, 44, 20, 155313), 'device_id__1': None, 'description__1': None, 'completed_at__1': datetime.datetime(2025, 4, 20, 21, 39, 20, 155313), 'status__1': 'completed', 'cron_string__1': None, 'is_system_job__1': False, 'name__1': 'type-job-2', 'job_type__1': 'reachability', 'is_enabled__1': True, 'schedule_type__1': 'onetime', 'interval_seconds__1': None, 'scheduled_for__1': None, 'started_at__1': datetime.datetime(2025, 4, 20, 21, 44, 20, 155313)}
2025-04-22 21:44:20,155 - INFO - [cached since 1.125s ago (insertmanyvalues) 1/1 (ordered)] {'device_id__0': None, 'description__0': None, 'completed_at__0': datetime.datetime(2025, 4, 21, 21, 39, 20, 155313), 'status__0': 'completed', 'cron_string__0': None, 'is_system_job__0': False, 'name__0': 'type-job-1', 'job_type__0': 'backup', 'is_enabled__0': True, 'schedule_type__0': 'onetime', 'interval_seconds__0': None, 'scheduled_for__0': None, 'started_at__0': datetime.datetime(2025, 4, 21, 21, 44, 20, 155313), 'device_id__1': None, 'description__1': None, 'completed_at__1': datetime.datetime(2025, 4, 20, 21, 39, 20, 155313), 'status__1': 'completed', 'cron_string__1': None, 'is_system_job__1': False, 'name__1': 'type-job-2', 'job_type__1': 'reachability', 'is_enabled__1': True, 'schedule_type__1': 'onetime', 'interval_seconds__1': None, 'scheduled_for__1': None, 'started_at__1': datetime.datetime(2025, 4, 20, 21, 44, 20, 155313)}
2025-04-22 21:44:20,156 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:20,156 - INFO - COMMIT
2025-04-22 21:44:20,160 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:20,160 - INFO - BEGIN (implicit)
2025-04-22 21:44:20,160 INFO sqlalchemy.engine.Engine SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs
2025-04-22 21:44:20,160 - INFO - SELECT jobs.id AS jobs_id, jobs.name AS jobs_name, jobs.job_type AS jobs_job_type, jobs.description AS jobs_description, jobs.status AS jobs_status, jobs.scheduled_for AS jobs_scheduled_for, jobs.started_at AS jobs_started_at, jobs.completed_at AS jobs_completed_at, jobs.is_enabled AS jobs_is_enabled, jobs.is_system_job AS jobs_is_system_job, jobs.schedule_type AS jobs_schedule_type, jobs.interval_seconds AS jobs_interval_seconds, jobs.cron_string AS jobs_cron_string, jobs.device_id AS jobs_device_id 
FROM jobs
2025-04-22 21:44:20,160 INFO sqlalchemy.engine.Engine [generated in 0.00011s] {}
2025-04-22 21:44:20,160 - INFO - [generated in 0.00011s] {}
2025-04-22 21:44:20,161 INFO sqlalchemy.engine.Engine ROLLBACK
2025-04-22 21:44:20,161 - INFO - ROLLBACK
2025-04-22 21:44:20,162 - INFO - HTTP Request: GET http://testserver/jobs/job-types "HTTP/1.1 200 OK"
[32m.[0m2025-04-22 21:44:20,163 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:20,163 - INFO - BEGIN (implicit)
2025-04-22 21:44:20,163 INFO sqlalchemy.engine.Engine SET session_replication_role = 'replica';
2025-04-22 21:44:20,163 - INFO - SET session_replication_role = 'replica';
2025-04-22 21:44:20,163 INFO sqlalchemy.engine.Engine [cached since 8.433s ago] {}
2025-04-22 21:44:20,163 - INFO - [cached since 8.433s ago] {}
2025-04-22 21:44:20,164 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:20,164 - INFO - TRUNCATE TABLE credential_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:20,164 INFO sqlalchemy.engine.Engine [cached since 8.433s ago] {}
2025-04-22 21:44:20,164 - INFO - [cached since 8.433s ago] {}
2025-04-22 21:44:20,167 INFO sqlalchemy.engine.Engine TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:20,167 - INFO - TRUNCATE TABLE device_tag_association RESTART IDENTITY CASCADE;
2025-04-22 21:44:20,167 INFO sqlalchemy.engine.Engine [cached since 8.433s ago] {}
2025-04-22 21:44:20,167 - INFO - [cached since 8.433s ago] {}
2025-04-22 21:44:20,170 INFO sqlalchemy.engine.Engine TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:20,170 - INFO - TRUNCATE TABLE job_tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:20,170 INFO sqlalchemy.engine.Engine [cached since 8.432s ago] {}
2025-04-22 21:44:20,170 - INFO - [cached since 8.432s ago] {}
2025-04-22 21:44:20,174 INFO sqlalchemy.engine.Engine TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:20,174 - INFO - TRUNCATE TABLE credentials RESTART IDENTITY CASCADE;
2025-04-22 21:44:20,174 INFO sqlalchemy.engine.Engine [cached since 8.433s ago] {}
2025-04-22 21:44:20,174 - INFO - [cached since 8.433s ago] {}
2025-04-22 21:44:20,185 INFO sqlalchemy.engine.Engine TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:20,185 - INFO - TRUNCATE TABLE devices RESTART IDENTITY CASCADE;
2025-04-22 21:44:20,185 INFO sqlalchemy.engine.Engine [cached since 8.432s ago] {}
2025-04-22 21:44:20,185 - INFO - [cached since 8.432s ago] {}
2025-04-22 21:44:20,251 INFO sqlalchemy.engine.Engine TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:20,251 - INFO - TRUNCATE TABLE jobs RESTART IDENTITY CASCADE;
2025-04-22 21:44:20,251 INFO sqlalchemy.engine.Engine [cached since 8.385s ago] {}
2025-04-22 21:44:20,251 - INFO - [cached since 8.385s ago] {}
2025-04-22 21:44:20,315 INFO sqlalchemy.engine.Engine TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:20,315 - INFO - TRUNCATE TABLE tags RESTART IDENTITY CASCADE;
2025-04-22 21:44:20,316 INFO sqlalchemy.engine.Engine [cached since 8.351s ago] {}
2025-04-22 21:44:20,316 - INFO - [cached since 8.351s ago] {}
2025-04-22 21:44:20,369 INFO sqlalchemy.engine.Engine TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:20,369 - INFO - TRUNCATE TABLE users RESTART IDENTITY CASCADE;
2025-04-22 21:44:20,369 INFO sqlalchemy.engine.Engine [cached since 8.361s ago] {}
2025-04-22 21:44:20,369 - INFO - [cached since 8.361s ago] {}
2025-04-22 21:44:20,381 INFO sqlalchemy.engine.Engine SET session_replication_role = 'origin';
2025-04-22 21:44:20,381 - INFO - SET session_replication_role = 'origin';
2025-04-22 21:44:20,381 INFO sqlalchemy.engine.Engine [cached since 8.35s ago] {}
2025-04-22 21:44:20,381 - INFO - [cached since 8.35s ago] {}
2025-04-22 21:44:20,381 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:20,381 - INFO - COMMIT
2025-04-22 21:44:20,383 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:20,383 - INFO - BEGIN (implicit)
2025-04-22 21:44:20,384 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:20,384 - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.role AS users_role, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-04-22 21:44:20,384 INFO sqlalchemy.engine.Engine [cached since 8.337s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:20,384 - INFO - [cached since 8.337s ago] {'username_1': 'testadmin', 'param_1': 1}
2025-04-22 21:44:20,384 - INFO - Creating new test admin: testadmin
2025-04-22 21:44:20,539 INFO sqlalchemy.engine.Engine INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:20,539 - INFO - INSERT INTO users (username, email, hashed_password, is_active, role) VALUES (%(username)s, %(email)s, %(hashed_password)s, %(is_active)s, %(role)s) RETURNING users.id, users.created_at, users.updated_at
2025-04-22 21:44:20,539 INFO sqlalchemy.engine.Engine [cached since 8.32s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$8nnTKmrUT0JwTKp5XC98hOTLiSeAgeB2zzXkfgFI.YGD3VgkZwJRq', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:20,539 - INFO - [cached since 8.32s ago] {'username': 'testadmin', 'email': 'testadmin@example.com', 'hashed_password': '$2b$12$8nnTKmrUT0JwTKp5XC98hOTLiSeAgeB2zzXkfgFI.YGD3VgkZwJRq', 'is_active': True, 'role': 'admin'}
2025-04-22 21:44:20,540 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:20,540 - INFO - COMMIT
2025-04-22 21:44:20,544 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-04-22 21:44:20,544 - INFO - BEGIN (implicit)
2025-04-22 21:44:20,544 INFO sqlalchemy.engine.Engine SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:20,544 - INFO - SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.role, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-04-22 21:44:20,544 INFO sqlalchemy.engine.Engine [cached since 8.313s ago] {'pk_1': 1}
2025-04-22 21:44:20,544 - INFO - [cached since 8.313s ago] {'pk_1': 1}
2025-04-22 21:44:20,545 - INFO - Created test admin with ID: 1
2025-04-22 21:44:20,545 - INFO - Created admin token for user: testadmin
[2m2025-04-22 21:44:20[0m [[32m[1mdebug    [0m] [1mEnvironment not specified, using NETRAVEN_ENV or default: dev[0m
[2m2025-04-22 21:44:20[0m [[32m[1mdebug    [0m] [1mLoaded environment configuration from /app/netraven/config/environments/dev.yaml[0m
[2m2025-04-22 21:44:20[0m [[32m[1mdebug    [0m] [1mApplied environment variable overrides[0m [36moverrides[0m=[35m{'scheduler': {'polling_interval_seconds': '10', 'redis_url': 'redis://redis:6379/0'}, 'security': {'encryption_salt': 'dev_encryption_salt_replace_in_production', 'encryption_key': 'dev_encryption_key_replace_in_production'}, 'api': {'access_token_expire_minutes': '30', 'jwt_secret': 'development_jwt_secret_key_replace_in_production', 'jwt_algorithm': 'HS256'}, 'worker': {'thread_pool_size': '5', 'connection_timeout': '15'}, 'logging': {'level': 'DEBUG'}, 'database': {'url': 'postgresql+psycopg2://netraven:netraven@postgres:5432/netraven'}}[0m
2025-04-22 21:44:20,551 - INFO - HTTP Request: GET http://testserver/jobs/status "HTTP/1.1 200 OK"
[32m.[0m2025-04-22 21:44:20,551 INFO sqlalchemy.engine.Engine COMMIT
2025-04-22 21:44:20,551 - INFO - COMMIT


[33m=============================== warnings summary ===============================[0m
../usr/local/lib/python3.10/site-packages/pydantic/fields.py:1076: 66 warnings
  /usr/local/lib/python3.10/site-packages/pydantic/fields.py:1076: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'example'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    warn(

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
[33m======================= [32m21 passed[0m, [33m[1m66 warnings[0m[33m in 10.18s[0m[33m =======================[0m
